!function(mod){"object"==typeof exports&&"object"==typeof module?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.registerHelper("lint","javascript",function(text,options){if(!window.JSHINT)return window.console&&window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run."),[];options.indent||(options.indent=1),JSHINT(text,options,options.globals);var errors=JSHINT.data().errors,result=[];return errors&&function(errors,output){for(var i=0;i<errors.length;i++){var error=errors[i];if(error){if(error.line<=0){window.console&&window.console.warn("Cannot display JSHint error (invalid line "+error.line+")",error);continue}var start=error.character-1,end=start+1;if(error.evidence){var index=error.evidence.substring(start).search(/.\b/);index>-1&&(end+=index)}var hint={message:error.reason,severity:error.code&&error.code.startsWith("W")?"warning":"error",from:CodeMirror.Pos(error.line-1,start),to:CodeMirror.Pos(error.line-1,end)};output.push(hint)}}}(errors,result),result})});