var flexygo;!function(flexygo){!function(obj){obj.Entity=class{constructor(objectName,objectWhere){this.objectName=objectName,this.objectWhere=objectWhere}read(){var ctx=this,ret=!1,params={ObjectName:null,ObjectWhere:null};return params.ObjectName=ctx.objectName,params.ObjectWhere=ctx.objectWhere,flexygo.ajax.syncPost("~/api/Entity","Read",params,function(response){for(var key in response.Properties)null!=response.Properties[key].Value&&-1!=response.Properties[key].Value.toString().indexOf("/Date(")&&(response.Properties[key].Value=moment.utc(response.Properties[key].Value).toDate());ctx.data=response.Properties,ret=!0}),ret}insert(){var ctx=this,ret=!1,params={ObjectName:null,Properties:null};return params.ObjectName=ctx.objectName,params.Properties=flexygo.utils.dataToArray(ctx.data),flexygo.ajax.syncPost("~/api/Entity","Insert",params,function(response){ctx.data=response.Properties,ctx.objectWhere=response.ObjectWhere,ctx.objectName=response.ObjectName,ctx.warningMessage=response.WarningMessage,ctx.jsCode=response.JSCode;let ev={class:"entity",type:"inserted",sender:ctx,masterIdentity:ctx.objectName,detailIdentity:ctx.objectWhere};flexygo.events.trigger(ev),ret=!0}),ret}update(){var ctx=this,ret=!1,params={ObjectName:null,ObjectWhere:null,Properties:null};return params.ObjectName=ctx.objectName,params.ObjectWhere=ctx.objectWhere,params.Properties=flexygo.utils.dataToArray(ctx.data),flexygo.ajax.syncPost("~/api/Entity","Update",params,function(response){ctx.data=response.Properties,ctx.objectWhere=response.ObjectWhere,ctx.objectName=response.ObjectName,ctx.warningMessage=response.WarningMessage,ctx.jsCode=response.JSCode;let ev={class:"entity",type:"updated",sender:ctx,masterIdentity:ctx.objectName,detailIdentity:ctx.objectWhere};flexygo.events.trigger(ev),ret=!0}),ret}delete(){var ctx=this,ret=!1,params={ObjectName:null,ObjectWhere:null,Properties:null};return params.ObjectName=ctx.objectName,params.ObjectWhere=ctx.objectWhere,flexygo.ajax.syncPost("~/api/Entity","Delete",params,function(response){ctx.warningMessage=response.WarningMessage,ctx.jsCode=response.JSCode,ret=!0;let ev={class:"entity",type:"deleted",sender:ctx,masterIdentity:params.ObjectName,detailIdentity:params.ObjectWhere};flexygo.events.trigger(ev)}),ret}processes(options){var params={ObjectName:null,ObjectWhere:null,Options:null};let proc=null;return params.ObjectName=this.objectName,params.ObjectWhere=this.objectWhere,params.Options=options,flexygo.ajax.syncPost("~/api/Entity","GetProcesses",params,function(response){proc=response}),proc}getConfig(){let params={ObjectName:null};params.ObjectName=this.objectName;let config=null;return flexygo.ajax.syncPost("~/api/Entity","GetConfig",params,response=>{config=response}),config}getView(viewName,page,pageSize,filter,orderBy,cllback,withDescrips){var params={ObjectName:null,ObjectWhere:null,ViewName:null,Page:null,PageSize:null,Filter:null,OrderBy:null,WithDescrips:!1};if(params.ObjectName=this.objectName,params.ObjectWhere=this.objectWhere||null,params.ViewName=viewName||null,params.Page=page||null,params.PageSize=pageSize||null,params.Filter=filter||null,params.OrderBy=orderBy||null,params.WithDescrips=withDescrips||!1,cllback)return flexygo.ajax.post("~/api/Entity","GetView",params,function(response){cllback(response)}),null;var ret=null;return flexygo.ajax.syncPost("~/api/Entity","GetView",params,function(response){ret=response}),ret}getViewCount(viewName,filter,cllback){var params={ObjectName:null,ObjectWhere:null,ViewName:null,Filter:null};if(params.ObjectName=this.objectName,params.ObjectWhere=this.objectWhere,params.ViewName=viewName,params.Filter=filter,!cllback){var ret=null;return flexygo.ajax.syncPost("~/api/Entity","GetViewCount",params,function(response){ret=response}),ret}flexygo.ajax.post("~/api/Entity","GetViewCount",params,function(response){cllback(response)})}getViewColumnsNames(viewName,cllback){let params={ObjectName:null,ViewName:null};if(params.ObjectName=this.objectName,params.ViewName=viewName,!cllback){var ret=null;return flexygo.ajax.syncPost("~/api/Entity","GetViewColumnsNames",params,function(response){ret=response}),ret}flexygo.ajax.post("~/api/Entity","GetViewColumnsNames",params,function(response){cllback(response)})}getTemplateByType(templateType,cllback){var params={ObjectName:null,ObjectWhere:null,TemplateType:null};if(params.ObjectName=this.objectName,params.ObjectWhere=this.objectWhere,params.TemplateType=templateType,!cllback){var ret=null;return flexygo.ajax.syncPost("~/api/Entity","GetTemplateByType",params,function(response){ret=response}),ret}flexygo.ajax.post("~/api/Entity","GetTemplateByType",params,function(response){cllback(response)})}getTemplateById(templateId,cllback,filter){var params={ObjectName:null,ObjectWhere:null,TemplateId:null,Filter:filter};if(params.ObjectName=this.objectName,params.ObjectWhere=this.objectWhere,params.TemplateId=templateId,!cllback){var ret=null;return flexygo.ajax.syncPost("~/api/Entity","GetTemplateById",params,function(response){ret=response}),ret}flexygo.ajax.post("~/api/Entity","GetTemplateById",params,function(response){cllback(response)})}toValuesArray(){var ret=new Array;for(var key in this.data)ret[key]=this.data[key].Value;return ret}}}(flexygo.obj||(flexygo.obj={}))}(flexygo||(flexygo={}));