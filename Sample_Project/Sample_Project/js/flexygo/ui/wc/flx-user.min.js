var flexygo;!function(flexygo){!function(ui){!function(wc){wc.FlxUserElement=class extends HTMLElement{constructor(){super()}connectedCallback(){this.init()}observedAttributes(){return[]}attributeChangedCallback(attrName,oldVal,newVal){}init(){this.refresh()}refresh(){let userdiv,ctx=$(this);ctx.empty();let imgSrc="";if("~/img/avatars/avatar_blank.png"!=flexygo.profiles.avatar.toString().toLowerCase()&&(imgSrc=flexygo.utils.resolveUrl(flexygo.profiles.avatar)+"?time="+(new Date).getTime()),"admins"==flexygo.context.currentRoleId.toString().toLowerCase()){let color;switch(flexygo.context.currentOriginId){case"0":color="txt-danger";break;case"1":color="txt-warning";break;case"2":color="txt-success";break;default:color="txt-info"}userdiv=$('<div class="profile-mini"><div><img class="img-responsive left hidden-s margin-right-s" is="flx-img" alt="'+flexygo.profiles.username.toUpperCase()+'" src="'+imgSrc+"\" ><i title=\"Script & Download database\" class=\"develop-only hover-outstanding clickable flx-icon icon-database icon-2x text-muted\" onclick=\"event.stopPropagation();event.preventDefault();flexygo.nav.execProcess('ScriptDatabase','sysObjects','(offline = 0)','null',null,'slideright',false,$(this))\" /></div><div><span class=\"develop-hidden\">"+flexygo.profiles.username+'</span><p class="develop-hidden">'+flexygo.profiles.email+'</p><p class="develop-only '+color+"\" onclick=\"event.stopPropagation();event.preventDefault();flexygo.nav.execProcess('SetNewOrigin','sysObjects',null,null,null,'modal640x480',false,$(this))\"><b style=\"font-size:1.5em\">"+(flexygo.context.currentOriginId||0==flexygo.context.currentOriginId?flexygo.context.currentOriginId:"")+" "+(flexygo.context.currentOrigin?flexygo.context.currentOrigin:"")+"</b> MODE</p></div></div>")}else userdiv=$('<div class="profile-mini"><div><img class="img-responsive" is="flx-img" alt="'+flexygo.profiles.username.toUpperCase()+'" src="'+imgSrc+'" ></div><div><span>'+flexygo.profiles.username+"</span><p>"+flexygo.profiles.email+"</p></div></div>");if(ctx.append(userdiv),flexygo.utils.isSizeMobile())userdiv.closest("li").on("click",()=>{flexygo.nav.openPage("view","sysUser","(aspnetUsers.Id='"+flexygo.profiles.userid+"')",null,"current",!1,null)});else{let tooltip='<flx-tooltip container="body" mode="popover" placement="bottom"><div class="profilepopover"><flx-view objectname="sysUser" objectwhere="(aspnetUsers.Id=\''+flexygo.profiles.userid+'\')" modulename="sysmod-view-generic"></flx-view></div></flx-tooltip>';ctx.prepend(tooltip)}}}}(ui.wc||(ui.wc={}))}(flexygo.ui||(flexygo.ui={}))}(flexygo||(flexygo={})),window.customElements.define("flx-user",flexygo.ui.wc.FlxUserElement);