var flexygo;!function(flexygo){!function(ui){!function(wc){wc.FlxEasyInfoElement=class extends HTMLElement{constructor(){super(),this.connected=!1,this.moduleName=null,this.data=null,this.value=null}connectedCallback(){let element=$(this);this.moduleName=element.attr("modulename"),this.value=element.attr("value"),this.connected=!0,(this.moduleName||this.value)&&"true"!=element.attr("manualInit")&&this.init()}static get observedAttributes(){return["modulename","value"]}attributeChangedCallback(attrName,oldVal,newVal){this.connected&&("modulename"==attrName.toLowerCase()&&newVal&&""!=newVal&&(this.moduleName=newVal,this.moduleName&&this.refresh()),"value"==attrName.toLowerCase()&&newVal&&""!=newVal&&(this.data=newVal,this.data&&this.refresh()))}refresh(){"true"!=$(this).attr("manualInit")&&this.init()}init(){let me=$(this);if(me.removeAttr("manualInit"),$(this).closest("flx-module").find(".flx-noInitContent").remove(),me.empty(),this.moduleName){let params={ObjectName:me.attr("ObjectName"),ObjectWhere:me.attr("ObjectWhere"),ModuleName:this.moduleName,PageName:flexygo.history.getPageName(me)};flexygo.ajax.post("~/api/EasyPie","GetHTML",params,response=>{response&&(this.data=response.Data,this.renderFromModule())},null,()=>{this.stopLoading()},()=>{this.startLoading()})}else this.renderFromAttr()}renderFromModule(){let me=$(this);if(this.data)for(let i=0;i<this.data.length;i++){let size="m";this.data[i].size&&(size=this.data[i].size);let div=$('<div class="flx-easyinfo"></div>').attr("size",size);div.append(this.addEasInfo(this.data[i].value,this.data[i].symbol,this.data[i].label,this.data[i].iconclass,this.data[i].color,this.data[i].click)),me.append(div)}let parentModule=me.closest("flx-module"),wcModule=parentModule[0];parentModule&&wcModule&&wcModule.moduleLoaded(this)}renderFromAttr(){let me=$(this);me.append(this.addEasInfo(this.value,me.attr("symbol"),me.attr("label"),me.attr("iconclass"),me.attr("color")))}addEasInfo(value,easySymbol,label,iconclass,color,click){let newInfo;return newInfo=$('<h5><i class=""></i><span></span><label></label></h5>'),click&&(newInfo.attr("onclick",click),newInfo.attr("class","clickable")),newInfo.find("span").append(value),newInfo.find("span").append(easySymbol||""),newInfo.find("label").append(label||""),iconclass&&""!=iconclass&&newInfo.find("i").attr("class",iconclass),color&&""!=color&&newInfo.find("span").attr("style","color:"+color),color&&""!=color&&newInfo.find("i").attr("style","color:"+color),newInfo}translate(str){return flexygo.localization.translate(str)}startLoading(){$(this).parents("flx-module").length>0&&$(this).parents("flx-module")[0].startLoading()}stopLoading(){$(this).parents("flx-module").length>0&&$(this).parents("flx-module")[0].stopLoading()}}}(ui.wc||(ui.wc={}))}(flexygo.ui||(flexygo.ui={}))}(flexygo||(flexygo={})),window.customElements.define("flx-easyinfo",flexygo.ui.wc.FlxEasyInfoElement);