var flexygo;!function(flexygo){!function(ui){!function(wc){class FlxNavButtonElement extends HTMLElement{constructor(){super(),this.connected=!1,this.excludehist=!1,this.showprogress=!0,this.disabled=!1}connectedCallback(){let element=$(this);this.type=element.attr("type"),this.objectname=element.attr("objectname")||null,this.objectwhere=element.attr("objectwhere")||null,this.defaults=element.attr("defaults")||null,this.appname=element.attr("appname")||null,this.targetid=element.attr("targetid")||"current",element.attr("excludehist")&&(this.excludehist="true"==element.attr("excludehist").toLowerCase()),this.pagename=element.attr("pagename")||null,this.pagetypeid=element.attr("pagetypeid"),this.callback=element.attr("callback")||null,this.processname=element.attr("processname")||null,this.processparams=element.attr("processparams")||null,this.reportname=element.attr("reportname")||null,this.reportwhere=element.attr("reportwhere")||null,this.reportparams=element.attr("reportparams")||null,this.helpid=element.attr("helpid")||null,element.attr("showprogress")&&(this.showprogress="true"==element.attr("showprogress").toLowerCase()),this.presets=element.attr("presets")||null,this.disabled=null!==this.getAttribute("disabled")&&"false"!==this.getAttribute("disabled").toLowerCase(),this.connected=!0,this.init()}attributeChangedCallback(attrName,oldVal,newVal){let needInit=!1;"type"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.type=newVal,needInit=!0):"appname"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.appname=newVal,needInit=!0):"objectname"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.objectname=newVal,needInit=!0):"objectwhere"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.objectwhere=newVal,needInit=!0):"defaults"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.defaults=newVal,needInit=!0):"targetid"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.targetid=newVal,needInit=!0):"excludehist"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.excludehist="true"==newVal.toLowerCase(),needInit=!0):"pagename"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.pagename=newVal,needInit=!0):"pagetypeid"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.pagetypeid=newVal,needInit=!0):"callback"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.callback=newVal,needInit=!0):"processname"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.processname=newVal,needInit=!0):"reportname"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.reportname=newVal,needInit=!0):"reportwhere"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.reportwhere=newVal,needInit=!0):"reportparams"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.reportparams=newVal,needInit=!0):"helpid"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.helpid=newVal,needInit=!0):"showprogress"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.showprogress="true"==newVal.toLowerCase(),needInit=!0):"presets"==attrName.toLowerCase()&&newVal&&""!=newVal?(this.presets=newVal,needInit=!0):"disabled"==attrName.toLowerCase()&&(this.disabled=null!==newVal&&"false"!==newVal.toLowerCase()),this.connected&&needInit&&this.init()}init(){this.render()}refresh(){this.render()}render(){let me=$(this);me.off("click").on("click",ev=>{this.execNavFunction(ev,me)}),me.off("mousedown").on("mousedown",ev=>{let evDownType=ev.which;2===evDownType&&me.off("mouseup").on("mouseup",ev=>{evDownType===ev.which&&this.execNavFunction(ev,me)})})}execNavFunction(ev,me){if(this.disabled)return;let targetId=this.targetid;switch(ev.stopPropagation(),ev.preventDefault(),2===ev.which&&(targetId="new"),"current"===this.targetid.toLowerCase()&&$("body > div.tooltip").remove(),this.type.toLocaleLowerCase()){case"home":flexygo.nav.goHome();case"openpage":flexygo.nav.openPage(this.pagetypeid,this.objectname,this.objectwhere,this.defaults,targetId,this.excludehist,me,null,null,this.presets);break;case"openpagename":flexygo.nav.openPageName(this.pagename,this.objectname,this.objectwhere,this.defaults,targetId,this.excludehist,me,null,null,this.presets);break;case"execprocess":flexygo.nav.execProcess(this.processname,this.objectname,this.objectwhere,this.defaults,this.processparams,targetId,this.excludehist,me,this.callback,this.showprogress);break;case"openprocessparams":flexygo.nav.openProcessParams(this.processname,this.objectname,this.objectwhere,this.defaults,targetId,this.excludehist,me);break;case"openprocessparamspage":flexygo.nav.openProcessParamsPage(this.pagename,this.processname,this.objectname,this.objectwhere,this.defaults,targetId,this.excludehist,me);break;case"openreportsparams":flexygo.nav.openReportsParams(this.reportname,this.reportwhere,this.objectname,this.objectwhere,this.defaults,targetId,this.excludehist,me);break;case"openreportsparamspage":flexygo.nav.openReportsParamsPage(this.pagename,this.reportname,this.reportwhere,this.objectname,this.objectwhere,this.defaults,targetId,this.excludehist,me);break;case"viewreport":flexygo.nav.viewReport(this.reportname,this.reportwhere,this.objectname,this.objectwhere,this.defaults,this.reportparams,targetId,this.excludehist);break;case"openhelpid":flexygo.nav.openHelpId(this.helpid,targetId,this.excludehist,me);break;case"externalhome":flexygo.nav.external.goHome(this.appname,targetId);case"externalopenpage":flexygo.nav.external.openPage(this.appname,this.pagetypeid,this.objectname,this.objectwhere,this.defaults,targetId,me);break;case"externalopenpagename":flexygo.nav.external.openPageName(this.appname,this.pagename,this.objectname,this.objectwhere,this.defaults,targetId,me);break;case"text":break;default:alert("type not implemented")}}}FlxNavButtonElement.observedAttributes=["appname","type","objectname","objectwhere","defaults","targetid","excludehist","pagename","pagetypeid","callback","processname","processparams","reportname","reportwhere","reportparams","helpid","showProgress","presets","disabled"],wc.FlxNavButtonElement=FlxNavButtonElement}(ui.wc||(ui.wc={}))}(flexygo.ui||(flexygo.ui={}))}(flexygo||(flexygo={})),window.customElements.define("flx-navbutton",flexygo.ui.wc.FlxNavButtonElement);