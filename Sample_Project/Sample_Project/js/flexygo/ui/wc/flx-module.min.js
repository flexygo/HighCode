var flexygo;!function(flexygo){!function(ui){!function(wc_1){wc_1.FlxModuleElement=class extends HTMLElement{constructor(){super(),this.uuid=null,this.moduleConfig=null,this.moduleName=null,this.objectname="temp",this.objectwhere="temp",this.moduleTitle="",this.icon="",this.headerClass="bg-module",this.moduleClass="",this.canCollapse=!0,this.canEnlarge=!0,this.canRefresh=!0,this.canConfig=!0,this.objectdefaults=null,this.isClone=!1,this.ManualInit=!1,this.componentString="",this.moduleInitClass=null,this.JSAfterLoad=null,this.mode=null,this.reportname=null,this.reportwhere=null,this.processname=null,this.emptyTop=!1,this.emptyTimer=null}connectedCallback(){this.uuid=flexygo.utils.uniqueUUID(),$(this).on("destroy",function(){$(this).off("destroy"),flexygo.events.unRegisterModule(this)})}init(){let me=$(this);if(this.componentString&&this.componentString.length>0){let module=$("<"+this.componentString+" />").attr("ObjectName",this.objectname).attr("ObjectWhere",this.objectwhere).attr("reportName",this.reportname).attr("reportWhere",this.reportwhere).attr("processName",this.processname).attr("id","mod-"+this.moduleName).attr("modulename",this.moduleName);this.ManualInit&&module.attr("manualInit","true"),module.attr("mode")||module.attr("mode",this.mode),this.isClone&&module.attr("isClone","true"),me.find(".cntBody").append(module),module.is("flx-list[mode=list]")?me.find(".cntBody").addClass("overflowx"):me.find(".cntBody").removeClass("overflowx")}this.loadHeader(),flexygo.events.registerModule(this)}loadHeader(){let me=$(this);if(me.find(".cntTitle").html(this.moduleTitle),this.icon&&""!=this.icon){let moduleIcon=$('<i class="'+this.icon+'" />');me.find(".cntIcon").html(moduleIcon[0].outerHTML)}if(this.headerClass&&""!=this.headerClass&&me.find(".cntHeader").addClass(this.headerClass),this.moduleInitClass?me.attr("Class",this.moduleInitClass):this.moduleInitClass=me.attr("Class"),this.moduleClass&&""!=this.moduleClass&&me.addClass(this.moduleClass),me.find(".cntButtons").empty(),this.canConfig){var btnConfig=$('<b class="flx-icon icon-settings develop-only" />').on("click",()=>{this.openConfig()});me.find(".cntButtons").append(btnConfig)}if(this.canEnlarge){var btnFullScreen=$('<b class="flx-icon icon-resize" />').on("click",()=>{this.toggleFullScreen()});me.find(".cntButtons").append(btnFullScreen),me.find(".cntHeader").on("dblclick",()=>{this.toggleFullScreen()})}if(this.canCollapse){var btnCollapse=$('<b class="flx-icon icon-minus" />').on("click",()=>{this.toggle()});me.find(".cntButtons").append(btnCollapse)}if(this.canRefresh){var btnRefresh=$('<b class="flx-icon icon-sincronize" />').on("click",()=>{this.refresh()});me.find(".cntButtons").append(btnRefresh)}me.find("div.cntBodyHeader div.ctnArrowHeader").off("click").on("click",()=>{this.emptyTop?(me.find("div.cntHeader, div.cntBodyHeader").css({bottom:""}),me.find("div.cntBodyHeader div.ctnArrowHeader i").css({transform:""}),this.emptyTop=!1):(me.find("div.cntHeader, div.cntBodyHeader").css({bottom:"46px"}),me.find("div.cntBodyHeader div.ctnArrowHeader i").css({transform:"rotate(90deg)"}),this.emptyTop=!0,clearTimeout(this.emptyTimer),this.emptyTimer=setTimeout(()=>{this.emptyTop&&(me.find("div.cntHeader, div.cntBodyHeader").css({bottom:""}),me.find("div.cntBodyHeader div.ctnArrowHeader i").css({transform:""}),this.emptyTop=!1)},5e3))})}refresh(){let me=$(this);me.find("*:not(flx-inputview,flx-input,flx-filter,flx-multicombo,flx-combo,flx-dbcombo)").filter((i,s)=>/^flx\-/i.test(s.nodeName)).each((i,e)=>{me.find(".cntButtons .pager").empty(),me.find(".cntBodyHeader .pager").empty(),me.find(".cntBodyFooter .pager").empty();let wce=e;if(void 0!==wce.refresh&&(wce.refresh(),"flx-moduletab"==wce.tagName.toLowerCase()||"flx-buttontab"==wce.tagName.toLowerCase()))return!1}),me.find("flx-filter").length>0&&me.find("flx-filter")[0].refresh();let ev={class:"module",type:"refreshed",sender:this};flexygo.events.trigger(ev)}moduleLoaded(wc){let me=$(this),jsAF="";if(this.JSAfterLoad&&(jsAF=this.JSAfterLoad),"flx-moduletab"==me.attr("type").toLowerCase()||"flx-buttontab"==me.attr("type").toLowerCase()){let cnf=me.find("flx-moduletab:last")[0].activeModule;cnf.JSAfterLoad&&(jsAF=cnf.JSAfterLoad)}if("flx-edit"==me.attr("type").toLowerCase()&&""==jsAF){let edit=me.find("flx-edit:last")[0];"process"==edit.mode.toLowerCase()&&edit.JSforParams&&(jsAF=edit.JSforParams)}""!=jsAF&&flexygo.utils.execDynamicCode.call(this,jsAF);let ev={class:"module",type:"loaded",sender:this};flexygo.events.trigger(ev)}toggle(){$(this).find(".icon-minus, .icon-plus").toggleClass("icon-minus icon-plus"),$(this).find(".cntBody, .cntBodyHeader, .cntFooterHeader").toggle()}setButtons(buttons,objectname,objectwhere,reportname,processname,reportwhere){let me=$(this);0==me.find(".cntBodyHeader .moduleToolbar").length?me.find(".cntBodyHeader").append('<div class="moduleToolbar btn-toolbar" />'):me.find(".cntBodyHeader .moduleToolbar").empty(),0==me.find(".cntBodyHeader .moduleButtons").length?me.find(".cntBodyHeader").append('<div class="moduleButtons btn-toolbar" />'):me.find(".cntBodyHeader .moduleButtons").empty(),0==me.find(".cntBodyFooter .moduleButtons").length?me.find(".cntBodyFooter").append('<div class="moduleButtons btn-toolbar" />'):me.find(".cntBodyFooter .moduleButtons").empty();var defString=flexygo.history.getDefaults(objectname,me);if(this.objectdefaults&&(defString=JSON.stringify(this.objectdefaults)),buttons){let btnGroup,arrBtn=flexygo.utils.sortObject(buttons,"PositionId","Order");if(arrBtn.length>0){let lastPosition=arrBtn[0].PositionId;for(let i=0;i<arrBtn.length;i++){let btn=arrBtn[i],type=btn.TypeId;type&&(type=type.toLowerCase()),btnGroup||(btnGroup=$('<div class="btn-group" />')),btn.PositionId!=lastPosition&&(this.addGroup(lastPosition,btnGroup),btnGroup=$('<div class="btn-group" />')),"separator"==type||"placeholder"==type?(this.addGroup(lastPosition,btnGroup),btnGroup=null):btnGroup.append(this.getButton(btn,objectname,objectwhere,defString,reportname,this.reportwhere,processname)),lastPosition=btn.PositionId}btnGroup&&this.addGroup(lastPosition,btnGroup)}}}refreshButtons(buttons,objectname,objectwhere,reportname,processname){let me=$(this);var defString=flexygo.history.getDefaults(objectname,me);if(this.objectdefaults&&(defString=JSON.stringify(this.objectdefaults)),buttons)for(let key in buttons){let htmlBtn=me.find('[ButtonId="'+buttons[key].ButtonId+'"]');htmlBtn.length>0&&this.refreshButton(htmlBtn,buttons[key],objectname,objectwhere,defString,reportname,null,processname)}}addGroup(position,btnGroup){position&&(position=position.toLowerCase());let me=$(this);switch(position){case"toolbar":me.find(".cntBodyHeader .moduleToolbar").append(btnGroup);break;case"top":me.find(".cntBodyHeader .moduleButtons").append(btnGroup);break;case"bottom":me.find(".cntBodyFooter .moduleButtons").append(btnGroup)}}refreshButton(htmlBtn,btn,objectname,objectwhere,objectdefaults,reportname,reportwhere,processname){let newBtn=this.getButton(btn,objectname,objectwhere,objectdefaults,reportname,reportwhere,processname);htmlBtn.replaceWith(newBtn)}getButton(btn,objectname,objectwhere,objectdefaults,reportname,reportwhere,processname){let type=btn.TypeId;type&&(type=type.toLowerCase());let htmlBTN=$('<button class="btn btn-default" />');switch(htmlBTN.attr("ButtonId",btn.ButtonId),btn.HideText||htmlBTN.html("<span>"+btn.Text+"</span>"),btn.CssClass&&htmlBTN.addClass(btn.CssClass),btn.IconClass&&""!=btn.IconClass?htmlBTN.prepend('<i class="'+btn.IconClass+'" flx-fw></i> '):btn.ImagePath&&""!=btn.ImagePath&&htmlBTN.prepend('<img src="'+btn.ImagePath+'" alt="" /> '),btn.ToolTip&&""!=btn.ToolTip&&htmlBTN.attr("title",btn.ToolTip),type&&""!=type&&htmlBTN.attr("data-type",type),type){case"delete":htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.FlxModuleElement.prototype.deleteModule",[objectname,objectwhere],["$(this).closest('flx-module')","$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.delete"),placement:"bottom"});break;case"save":htmlBTN.addClass("saveButton"),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.FlxModuleElement.prototype.saveModule",[objectname,objectwhere],["$(this).closest('flx-module')","$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.save"),placement:"bottom"});break;case"saverow":htmlBTN.addClass("saveRowButton"),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.saveRow",[objectname,objectwhere],["$(this).closest('flx-list')","$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.save"),placement:"bottom"});break;case"new":var objN=objectname;btn.ObjectName&&(objN=btn.ObjectName),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.openPage",["edit",objN,null,objectdefaults,btn.TargetId,!1],["$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.new"),placement:"bottom"});break;case"edit":htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.openPage",["edit",objectname,objectwhere,objectdefaults,btn.TargetId,!1],["$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.edit"),placement:"bottom"});break;case"view":htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.openPage",["view",objectname,objectwhere,objectdefaults,btn.TargetId,!1],["$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.view"),placement:"bottom"});break;case"print":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.exports.printListMenu",[objectname,objectwhere,objectdefaults],["$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.print"),placement:"top",trigger:"hover"});break;case"help":htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.openHelpId",[btn.HelpId,btn.TargetId,!1],["$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.help"),placement:"bottom"});break;case"templates":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.templates.templateList",[objectname],["$(this).closest('flx-module')","$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.templates"),placement:"top"});break;case"objectmenu":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.getObjectMenu",[objectname,objectwhere,objectdefaults],["$(this)",null]));break;case"process":htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.execProcess",[btn.ProcessName,objectname,objectwhere,objectdefaults,null,btn.TargetId,!1],["$(this)"])),htmlBTN.attr("title")&&htmlBTN.tooltip({title:htmlBTN.attr("title"),placement:"bottom"});break;case"report":btn.ReportHasParams?htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.openReportsParams",[btn.ReportName,reportwhere,objectname,objectwhere,objectdefaults,btn.TargetId,!1],["$(this)"])):htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.viewReport",[btn.ReportName,reportwhere,objectname,objectwhere,objectdefaults,null,btn.TargetId,!1])),htmlBTN.attr("title")&&htmlBTN.tooltip({title:htmlBTN.attr("title"),placement:"bottom"});break;case"processmenu":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.getObjectMenu",[objectname,objectwhere,objectdefaults],["$(this)",null,"'processes'"]));break;case"relations":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.getObjectMenu",[objectname,objectwhere,objectdefaults],["$(this)",null,"'relations'"]));break;case"reportmenu":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.nav.getObjectMenu",[objectname,objectwhere,objectdefaults],["$(this)",null,"'reports'"]));break;case"runreport":htmlBTN.addClass("saveReportButton"),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.FlxModuleElement.prototype.saveReportParams",[reportname,reportwhere,objectname,objectwhere,objectdefaults],["$(this).closest('flx-module')","$(this)"]));break;case"runprocess":htmlBTN.addClass("execProcessButton"),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.FlxModuleElement.prototype.execProcessParams",[processname,objectname,objectwhere,objectdefaults],["$(this).closest('flx-module')","$(this)"]));break;case"back":htmlBTN.on("click",()=>{window.history.back()}),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.back"),placement:"bottom"});break;case"filter":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.loadFilter",[objectname],["$(this).closest('flx-module')","$(this)"]));break;case"presets":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.loadPresets",[objectname],["$(this).closest('flx-module')","$(this)"]));break;case"savedsearches":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.loadSavedSearches",[objectname],["$(this).closest('flx-module')","$(this)"]));break;case"select":htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.FlxModuleElement.prototype.execSelectEntity",[objectname,objectwhere],["$(this).closest('flx-module')","$(this)"]));break;case"bag":htmlBTN.addClass("bagButton"),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.wc.FlxModuleElement.prototype.toggleBag",[objectname,objectwhere],["$(this)"]));break;case"clearrow":htmlBTN.attr("onclick","flexygo.ui.wc.clearRow($(this).closest('flx-module'),$(this));");break;case"export":htmlBTN.append('<span class="caret"></span>'),htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.exports.exportListMenu",[objectname,objectwhere,objectdefaults],["$(this)"])),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.export"),placement:"top",trigger:"hover"});break;case"sort":htmlBTN.attr("onclick",flexygo.utils.functionToString("flexygo.ui.templates.showSortManager",[objectname],["$(this).closest('flx-module')","$(this)"]));break;default:htmlBTN.attr("onclick","alert('Unknown function "+type+"');"),htmlBTN.tooltip({title:flexygo.localization.translate("flxmodule.unknown"),placement:"bottom"})}return htmlBTN}changeTemplate(){console.warn("Method: changeTemplate")}closeWindow(){$(this).parent().parent().parent().find(".ui-dialog-titlebar-close").click()}toggleFullScreen(){let me=$(this);me.toggleClass("fullscreen"),me.find(".icon-minus, .icon-plus").toggle(),me.find(".icon-resize, .icon-collapse").toggleClass("icon-resize icon-collapse");let ev={class:"module",type:"resized",sender:this};flexygo.events.trigger(ev)}setObjectDescrip(objDescrip){let me=$(this);"{{objectdescrip}}"==this.moduleTitle.toLowerCase()&&(this.moduleTitle=objDescrip,me.find(".cntTitle").html(this.moduleTitle))}toImage(){html2canvas($(this)[0],{onrendered:canvas=>{var myImage=canvas.toDataURL("image/png"),tWindow=window.open("","print module");$(tWindow.document.body).html("<img id='Image' src="+myImage+" style='width:100%;'></img>").ready(()=>{tWindow.focus(),tWindow.print(),tWindow.close()})}})}openConfig(){flexygo.nav.openPage("edit","sysModule","moduleName='"+this.moduleName+"'",null,"popup",!0)}toggleBag(objectname,objectwhere,itm){let obj=new flexygo.obj.Entity(objectname,objectwhere),bagField=obj.getConfig().UniqueIdentifier,eventType="check";if(bagField)if(obj.read(),void 0===obj.data[bagField]){let textError=flexygo.localization.translate("flxmodule.nofieldBagError").replace("{0}",bagField);flexygo.msg.error(textError)}else flexygo.selection.toggle(objectname,obj.data[bagField].Value)?(itm.addClass("active"),itm.closest("tr").addClass("selected")):(eventType="uncheck",itm.removeClass("active"),itm.closest("tr").removeClass("selected"));else flexygo.msg.error("flxmodule.uniqueBagError");let currentFilter,mod=itm.closest("flx-module"),selectionLength=flexygo.selection.getArray(objectname).length;if(mod.find("flx-list").length>0){let list=mod.find("flx-list")[0];list.moduleButtons&&(currentFilter=0==selectionLength?list.processwhere:flexygo.selection.getFilterString(objectname),mod[0].refreshButtons(list.moduleButtons,list.collectionname,currentFilter));var ev={class:"entity",type:eventType,sender:this,masterIdentity:list.collectionname,detailIdentity:{moduleFilter:currentFilter,selectedItems:flexygo.selection.getArray(objectname)}};flexygo.events.trigger(ev)}selectionLength>0?(this.activeBagButtons(mod),mod.find('.moduleToolbar [data-type="objectmenu"] .badge').html(selectionLength.toString()),mod.find('.moduleToolbar [data-type="objectmenu"] .caret').hide()):(mod.find('.moduleToolbar [data-type="objectmenu"] .badge').remove(),mod.find('.moduleToolbar [data-type="objectmenu"] .caret').show())}activeBagButtons(mod){if(0===mod.find('[data-type="objectmenu"] .badge').length){let badgeSelect=$('<span class="badge badge-pill badge-warning"></span>');mod.find('.moduleToolbar [data-type="objectmenu"]').append(badgeSelect)}}bagSelectionNone(objectName,objectWhere,module,button,cllbck){flexygo.selection.clear(objectName),module[0].refresh()}bagSelectionAll(objectName,objectWhere,module,button,cllbck){let currentFilter=module.find("flx-list")[0].processwhere;flexygo.ajax.post("~/api/List","GetBagPage",{ObjectName:objectName,ObjectWhere:currentFilter},response=>{response.length>0&&(flexygo.selection.appendArray(objectName,response),module[0].refresh())})}bagShowOnlySelected(objectName,objectWhere,module,button,cllbck){if(flexygo.selection.getArray(objectName).length>0){let colWhere=flexygo.selection.getFilterString(objectName);flexygo.nav.openPage("list",$(module).find("flx-list")[0].collectionname,colWhere,null,"modal",!0)}else flexygo.msg.error("flxmodule.noItemsSelected")}deleteModule(objectName,objectWhere,module,button,cllbck){flexygo.msg.confirm(flexygo.localization.translate("filtermanager.sure"),result=>{if(result){let obj=new flexygo.obj.Entity(objectName,objectWhere);if(obj.delete()){obj.jsCode&&flexygo.utils.execDynamicCode.call(this,obj.jsCode),obj.warningMessage?flexygo.msg.warning(obj.warningMessage):flexygo.msg.success(flexygo.localization.translate("flxmodule.deleted"));let currentForm=$(button).closest(".ui-dialog");if(currentForm.length>0&&objectName==flexygo.history.get(button).objectname)currentForm.remove();else if(module||(module=$(button).closest("flx-module")),module){var edit=module.find("flx-edit").first();edit.length>0&&edit.attr("objectWhere","");let wcModule=module[0];wcModule&&wcModule.refresh()}cllbck&&cllbck()}}})}saveModule(objectName,objectWhere,module,button){if(!button||!button.is(":disabled")){if('flx-list mode="edit"'!=$(module)[0].componentString){if(module.find("form").valid()){$(".saveButton").prop("disabled",!0);let props=module.find("[property]");if(props.length>0){let ret,eventName,obj=new flexygo.obj.Entity(objectName,objectWhere);obj.read();for(var i=0;i<props.length;i++){let prop=$(props[i])[0];obj.data[prop.property].Value=prop.getValue()}if(objectWhere&&""!=objectWhere?(ret=obj.update(),eventName="update"):(ret=obj.insert(),eventName="insert"),$(".saveButton").prop("disabled",!1),ret){obj.jsCode&&flexygo.utils.execDynamicCode.call(this,obj.jsCode),obj.warningMessage?flexygo.msg.warning(obj.warningMessage):flexygo.msg.success(flexygo.localization.translate("flxmodule.saved"));let modBody=module.find(".cntBody");modBody.css("min-height",modBody.height()+"px");let editModule=module.is("flx-edit")?module:module.find("flx-edit");if(editModule.length>0){let modTab=editModule.closest("flx-moduletab");"insert"==eventName&&modTab.length>0?(modTab.attr("ObjectWhere",obj.objectWhere),modTab.attr("ObjectName",obj.objectName),modTab.attr("isClone","false"),modTab[0].refresh()):(editModule.attr("ObjectWhere",obj.objectWhere),editModule.attr("ObjectName",obj.objectName),editModule.attr("isClone","false"),editModule[0].refresh())}var context=flexygo.history.get(module);if(context&&"insert"==eventName&&obj.objectName.toLowerCase()==context.objectname.toLowerCase()){let params={StrType:context.pagetypeid,ObjectName:obj.objectName,ObjectWhere:obj.objectWhere};flexygo.ajax.post("~/api/Page","GetPageObjectDefaults",params,response=>{$(module).closest(".pageContainer").find('flx-module[init="false"]').each((i,e)=>{let mod=$(e);mod.removeAttr("init"),e.objectname=obj.objectName,e.objectwhere=obj.objectWhere,response.Modules[e.moduleName]&&(e.objectdefaults=response.Modules[e.moduleName].ObjectDefaults),e.init(),mod.show()})})}return!0}button.animate({backgroundColor:flexygo.colors.danger},700)}else flexygo.msg.success(flexygo.localization.translate("flxmodule.noprop"))}else flexygo.msg.warning(flexygo.localization.translate("flxmodule.requiredsaving")+module.find("form").validate().errorList[0].element.name);return!1}{let rowsToSave=$(module).find('flx-list[mode="edit"] tbody tr[objectname].form.dirty, flx-list[mode="edit"] tfoot tr.rowInsert.dirty');for(let i=0;i<rowsToSave.length;i++){let row=$(rowsToSave[i]);wc_1.saveRow(row.attr("objectname")||row.closest("flx-list")[0].objectname,row.attr("objectwhere"),module.find("flx-list"),$(row).find("button.saveRowButton"),!1)}}}}saveReportParams(reportname,reportwhere,objectname,objectwhere,objectdefaults,module,button){if(!button||!button.is(":disabled"))if(module.find("form").valid()){$(".saveReportButton").prop("disabled",!0);var props=module.find("[property]"),params=new Array;if(props.length>0){for(let i=0;i<props.length;i++){let prop=$(props[i])[0];prop.options&&prop.options.DetachedFromDB||params.push({key:prop.property,value:prop.getValue()})}flexygo.nav.viewReport(reportname,reportwhere,objectname,objectwhere,objectdefaults,params,"new",!0)}else flexygo.msg.success(flexygo.localization.translate("flxmodule.noparams"));$(".saveReportButton").prop("disabled",!1)}else flexygo.msg.warning(flexygo.localization.translate("flxmodule.requiredrunning"))}execProcessParams(processname,objectname,objectwhere,defaults,module,button){if(!button||!button.is(":disabled"))if(module.find("form").valid()){$(".execProcessButton").prop("disabled",!0);let props=module.find("[property]"),params=new Array;if(props.length>0){for(var i=0;i<props.length;i++){let prop=$(props[i])[0];module.find("flx-edit:first")[0].data[prop.property].DetachedFromDB||params.push({key:prop.property,value:prop.getValue()})}flexygo.nav.execProcess(processname,objectname,objectwhere,defaults,params,"new",!0,button)}else flexygo.msg.error(flexygo.localization.translate("flxmodule.noparams"));$(".execProcessButton").prop("disabled",!1)}else flexygo.msg.warning(flexygo.localization.translate("flxmodule.requiredreport"))}execSelectEntity(objectname,objectwhere,module,button){let obj=new flexygo.obj.Entity(objectname,objectwhere);obj.read();let ev={class:"entity",type:"selected",sender:obj,masterIdentity:objectname,detailIdentity:objectwhere};flexygo.events.trigger(ev)}startLoading(){$(this).find(".icon-sincronize").addClass("icon-spin txt-outstanding"),$(this).addClass("loading"),NProgress.start()}stopLoading(){$(this).find(".icon-sincronize").removeClass("icon-spin txt-outstanding"),$(this).removeClass("loading"),NProgress.done()}}}(ui.wc||(ui.wc={}))}(flexygo.ui||(flexygo.ui={}))}(flexygo||(flexygo={})),window.customElements.define("flx-module",flexygo.ui.wc.FlxModuleElement);