var flexygo;!function(flexygo){!function(ui){!function(wc){class FlxObjectRelationsElement extends HTMLElement{constructor(){super(),this.connected=!1,this.moduleName=null,this.mode=null}connectedCallback(){var element=$(this);this.connected=!0,this.moduleName=element.attr("modulename"),this.mode=element.attr("mode"),this.moduleName&&"true"!=element.attr("manualInit")&&this.init()}attributeChangedCallback(attrName,oldVal,newVal){this.connected&&("modulename"==attrName.toLowerCase()&&newVal&&""!=newVal&&(this.moduleName=newVal,this.moduleName&&this.refresh()),"mode"==attrName.toLowerCase()&&newVal&&""!=newVal&&(this.mode=newVal,this.mode&&this.refresh()))}refresh(){"true"!=$(this).attr("manualInit")&&this.init()}init(){let me=$(this);if(me.removeAttr("manualInit"),$(this).closest("flx-module").find(".flx-noInitContent").remove(),this.moduleName){let params={ObjectName:me.attr("ObjectName"),ObjectWhere:me.attr("ObjectWhere"),ModuleName:this.moduleName,PageName:flexygo.history.getPageName(me),Mode:this.mode};flexygo.ajax.post("~/api/ObjectsRelations","GetHTML",params,response=>{response&&(me.empty(),response.CssText&&me.append("<style>"+response.CssText+"</style>"),response.HtmlText&&me.append(response.HtmlText),response.ScriptText&&me.append("<script>"+response.ScriptText+"<\/script>"),this.render());var parentModule=me.closest("flx-module");let wcModule=parentModule[0];parentModule&&wcModule&&wcModule.moduleLoaded(this)},null,()=>{this.stopLoading()},()=>{this.startLoading()})}else this.render()}render(){$(this).html(this.data)}flxTranslate(str){return flexygo.localization.translate(str)}startLoading(){$(this).parents("flx-module").length>0&&$(this).parents("flx-module")[0].startLoading()}stopLoading(){$(this).parents("flx-module").length>0&&$(this).parents("flx-module")[0].stopLoading()}}FlxObjectRelationsElement.observedAttributes=["modulename","mode"],wc.FlxObjectRelationsElement=FlxObjectRelationsElement}(ui.wc||(ui.wc={}))}(flexygo.ui||(flexygo.ui={}))}(flexygo||(flexygo={})),window.customElements.define("flx-objectrelations",flexygo.ui.wc.FlxObjectRelationsElement);