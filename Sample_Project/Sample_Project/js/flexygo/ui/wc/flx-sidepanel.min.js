var flexygo;!function(flexygo){!function(ui){!function(wc){wc.SidePanelItem=class{};class FlxSidePanelElement extends HTMLElement{constructor(){super(),this.connected=!1,this.lastTimer=null}connectedCallback(){this.connected=!0,this.init()}attributeChangedCallback(attrName,oldVal,newVal){this.connected}init(){this.clearPanels(),this.panels={}}clearPanels(){let me=$(this);me.html('<div class="side-items hidden-m"></div><div class="side-panels hidden-m"></div>'),me.find(".side-panels").on("mouseout",e=>{this.lastTimer=setTimeout(()=>{if(document.activeElement&&document.activeElement.closest("flx-sidepanel"))return;let lastActive=me.find(".active");lastActive.removeClass("active"),lastActive.each((i,el)=>{this.panels[$(el).attr("name")].panel.hide("blind",{direction:"left"},500)})},1e3)}).on("mouseover",e=>{this.lastTimer&&(clearTimeout(this.lastTimer),this.lastTimer=null)})}addPanel(title,icon,content,debugOnly){let me=$(this),debugClass="";debugOnly&&(debugClass="develop-only");let button=$('<span class="'+debugClass+'"><i class="'+icon+'" ></i> '+title+"</span>").attr("name",title),panel=$('<div class="'+debugClass+'" style="display:none" />').append(content);button.on("click",e=>{this.togglePanel($(e.currentTarget))}),me.find(".side-items").append(button),me.find(".side-panels").append(panel),this.panels[title]={button,panel}}togglePanel(itm){let me=$(this),lastActive=me.find(".active"),wasActive=itm.is(".active");if(lastActive.length&&!wasActive)lastActive.removeClass("active"),lastActive.each((i,e)=>{this.panels[$(e).attr("name")].panel.hide()}),itm.addClass("active"),this.panels[itm.attr("name")].panel.show();else{let ev=new flexygo.events.FlexygoEvent("panel","loading",this);flexygo.events.trigger(ev,me),lastActive.removeClass("active"),lastActive.each((i,e)=>{this.panels[$(e).attr("name")].panel.hide("blind",{direction:"left"},500)}),wasActive||(itm.addClass("active"),this.panels[itm.attr("name")].panel.show("blind",{direction:"left"},500))}}removePanel(key){this.panels[key].panel.remove(),this.panels[key].button.remove()}hidePanels(){for(let key in this.panels)this.panels[key].panel.hide()}}FlxSidePanelElement.observedAttributes=[],wc.FlxSidePanelElement=FlxSidePanelElement}(ui.wc||(ui.wc={}))}(flexygo.ui||(flexygo.ui={}))}(flexygo||(flexygo={})),window.customElements.define("flx-sidepanel",flexygo.ui.wc.FlxSidePanelElement);