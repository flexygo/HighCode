var flexygo;!function(flexygo){!function(ui){!function(wc){class FlxGenericSearchElement extends HTMLElement{constructor(){super(),this.connected=!1,this.gridId=null}connectedCallback(){let element=$(this);this.connected=!0,this.gridId=element.attr("gridId"),"true"!=element.attr("manualInit")&&this.init()}attributeChangedCallback(attrName,oldVal,newVal){this.connected&&"params"==attrName.toLowerCase()&&newVal&&""!=newVal&&(this.gridId=newVal,this.gridId&&this.refresh())}init(){let me=$(this);if(me.removeAttr("manualInit"),$(this).closest("flx-module").find(".flx-noInitContent").remove(),!this.gridId)return void me.html('<div class="search input-group"><input type="search" placeholder="No relation defined"><span class="input-group-addon bg-danger"><i class="flx-icon icon-stop"></i></span></div>');me.html('<div class="search input-group"><input type="search" placeholder="'+flexygo.localization.translate("flxsearch.search")+'"><span class="input-group-addon bg-outstanding"><i class="flx-icon icon-search-1"></i></span></div>'),me.closest(".cntBody").addClass("nopadding"),me.find("input").on("keyup.search & search",e=>{let modsIds=this.gridId.split("|");for(let i=0;i<modsIds.length;i++){let ct=$('flx-list[modulename="'+modsIds[i]+'"], flx-editgrid[id="'+modsIds[i]+'"]')[0];void 0!==ct&&(ct.filter=$(e.currentTarget).parent().find("input").val(),ct.refreshing&&clearTimeout(ct.refreshing),ct.refreshing=setTimeout("var crl=$('flx-list[modulename=\""+modsIds[i]+'"], flx-editgrid[id="'+modsIds[i]+"\"]')[0];crl.render();crl.refreshing=null;",100))}});let parentModule=me.closest("flx-module"),wcModule=parentModule[0];parentModule&&wcModule&&wcModule.moduleLoaded(this)}refresh(){"true"!=$(this).attr("manualInit")&&this.init()}setId(gridId){this.gridId=gridId,this.refresh()}}FlxGenericSearchElement.observedAttributes=["params"],wc.FlxGenericSearchElement=FlxGenericSearchElement}(ui.wc||(ui.wc={}))}(flexygo.ui||(flexygo.ui={}))}(flexygo||(flexygo={})),window.customElements.define("flx-genericsearch",flexygo.ui.wc.FlxGenericSearchElement);