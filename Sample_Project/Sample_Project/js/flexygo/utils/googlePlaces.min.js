var flexygo;!function(flexygo){!function(utils){!function(googlePlaces){!function(autocomplete_1){function _init(adressTextBox,config,options,cllback){let autocomplete,address1Field;if($("#"+adressTextBox).length>0?address1Field=$("#"+adressTextBox)[0]:$('[property="'+adressTextBox+'"]').find("input").length>0&&(address1Field=$('[property="'+adressTextBox+'"]').find("input")[0]),address1Field){let defOptions={types:["address"]};options&&(defOptions=Object.assign({},defOptions,options)),(autocomplete=new google.maps.places.Autocomplete(address1Field,defOptions)).addListener("place_changed",()=>{let adressObj={};const place=autocomplete.getPlace();adressObj.lat=place.geometry.location.lat(),adressObj.lng=place.geometry.location.lng(),adressObj.geo=place.geometry.location.lat()+", "+place.geometry.location.lng();for(const component of place.address_components){const componentType=component.types[0];adressObj[componentType]=component.long_name,(componentType.startsWith("administrative_area_level")||"country"==componentType)&&(adressObj[componentType+"_short"]=component.short_name)}for(let key in adressObj)config&&config[key]&&($("#"+config[key]).length>0?$("#"+config[key]).val(adressObj[key]):$('[property="'+config[key]+'"]').length>0&&$('[property="'+config[key]+'"]').val(adressObj[key]));cllback&&cllback(adressObj)})}}(googlePlaces.autocomplete||(googlePlaces.autocomplete={})).init=function(adressTextBox,config,options,cllback){let googleAPIKey=flexygo.utils.GoogleAPIKey;if(googleAPIKey)if("object"==typeof google&&"object"==typeof google.maps&&"object"==typeof google.maps.places&&"function"==typeof google.maps.places.Autocomplete)_init(adressTextBox,config,options,cllback);else{if(0==$("#gMapApiAutocomplete").length){let script=document.createElement("script");script.type="text/javascript",script.id="gMapApiAutocomplete",script.src="//maps.googleapis.com/maps/api/js?key="+googleAPIKey+"&libraries=places",document.body.appendChild(script)}setTimeout(()=>{_init(adressTextBox,config,options,cllback)},500)}else alert(flexygo.localization.translate("text.api"))}}()}(utils.googlePlaces||(utils.googlePlaces={}))}(flexygo.utils||(flexygo.utils={}))}(flexygo||(flexygo={}));