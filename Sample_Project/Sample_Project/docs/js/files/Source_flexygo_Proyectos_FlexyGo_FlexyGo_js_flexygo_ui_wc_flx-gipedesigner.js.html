<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source\flexygo\Proyectos\FlexyGo\FlexyGo\js\flexygo\ui\wc\flx-gipedesigner.js</title>
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/custom.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
</head>
<body class="yui3-skin-sam">
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <h1 class="brand" style="padding: 10px 16px 10px; height: 20px; line-height: 20px; margin-left: 0;">
	    <img alt="" src="../assets/css/logo.png" style="max-height: 65%;" title="">
            
        </h1>
	<div class="nav">
            <li class="divider-vertical"></li>
            <li>
                <p class="navbar-text">
                    API Docs for Version: <b></b>
                </p>
            </li>
        </div>
        <form class="navbar-form pull-right" style="line-height: 40px; height: 40px;">
            <input style="margin-top: 0;" type="text" class="search-query" placeholder="Search for classes/modules..." data-obj='["classes/flexygo.ajax", "classes/flexygo.api.BasicProperty", "classes/flexygo.api.BasicPropertyCollection", "classes/flexygo.api.BasicPropertyLoweredKey", "classes/flexygo.api.chart.GetHTMLParameters", "classes/flexygo.api.chart.ObjectViewCollection", "classes/flexygo.api.easypie.GetHTMLResponse", "classes/flexygo.api.edit.addDetachedPropertyParams", "classes/flexygo.api.edit.addNewFieldParams", "classes/flexygo.api.edit.addNewPropertiesParams", "classes/flexygo.api.edit.DependencyAction", "classes/flexygo.api.edit.DependencyHelper", "classes/flexygo.api.edit.getComboDataParams", "classes/flexygo.api.edit.getComboDataViewParams", "classes/flexygo.api.edit.getComboTextParams", "classes/flexygo.api.edit.getEditConfigParams", "classes/flexygo.api.edit.getEditConfigResponse", "classes/flexygo.api.edit.getEditTemplateParams", "classes/flexygo.api.edit.getEditTemplateResponse", "classes/flexygo.api.edit.getNewPropertiesParams", "classes/flexygo.api.edit.getProcessParamsTemplateParams", "classes/flexygo.api.edit.getProcessParamsTemplateResponse", "classes/flexygo.api.edit.getReportParamsTemplateParams", "classes/flexygo.api.edit.getReportParamsTemplateResponse", "classes/flexygo.api.edit.InsertSeparatorParams", "classes/flexygo.api.edit.KeyValuePair", "classes/flexygo.api.edit.ObjectRowDependency", "classes/flexygo.api.edit.processAllDependenciesParams", "classes/flexygo.api.edit.processAllListDependenciesResponse", "classes/flexygo.api.edit.processDependenciesParams", "classes/flexygo.api.edit.saveDependenciesConfigParams", "classes/flexygo.api.edit.timelineEntityConfiguration", "classes/flexygo.api.entity.GetConfigParams", "classes/flexygo.api.entity.GetHTMLParams", "classes/flexygo.api.entity.GetProcessesResponse", "classes/flexygo.api.entity.InsertPlaceHolderParams", "classes/flexygo.api.entity.ObjBasicConfig", "classes/flexygo.api.GenericKeyValueObject", "classes/flexygo.api.kanban.getKanbanParams", "classes/flexygo.api.kanban.getKanbanResponse", "classes/flexygo.api.kanban.GetNodes", "classes/flexygo.api.list.GetHTMLResponse", "classes/flexygo.api.list.getListParams", "classes/flexygo.api.list.getListResponse", "classes/flexygo.api.list.getSearchParams", "classes/flexygo.api.list.getSearchResponse", "classes/flexygo.api.list.ModulePager", "classes/flexygo.api.list.PropertyOrder", "classes/flexygo.api.maps.getCountParams", "classes/flexygo.api.maps.GetHTMLParams", "classes/flexygo.api.mastertables.deleteParams", "classes/flexygo.api.mastertables.GetHTMLResponse", "classes/flexygo.api.mastertables.getSettingsParams", "classes/flexygo.api.mastertables.getSettingsResponse", "classes/flexygo.api.mastertables.insertParams", "classes/flexygo.api.mastertables.MasterTableFieldsCollection", "classes/flexygo.api.mastertables.updateParams", "classes/flexygo.api.navigation.MasterTableField", "classes/flexygo.api.navigation.NavigationNode", "classes/flexygo.api.Network.GetDataParams", "classes/flexygo.api.Network.savePageConfigParams", "classes/flexygo.api.Notify.GetDataResponse", "classes/flexygo.api.Notify.NotifyParams", "classes/flexygo.api.ObjectProperty", "classes/flexygo.api.ObjectPropertyCollection", "classes/flexygo.api.ObjectPropertyLoweredKey", "classes/flexygo.api.objectrelations.GetHTMLParams", "classes/flexygo.api.objectrelations.LoweredNavigationNode", "classes/flexygo.api.ObjectRelationsSettings", "classes/flexygo.api.ObjectSearchPropertyType", "classes/flexygo.api.ObjectSearchType", "classes/flexygo.api.ObjectView", "classes/flexygo.api.ObjectViewProperty", "classes/flexygo.api.ObjectViewPropertyCollection", "classes/flexygo.api.orgchart.GetHTMLParameters", "classes/flexygo.api.pages.getPageByNameParams", "classes/flexygo.api.pages.GetPageTabModulesParams", "classes/flexygo.api.pages.getViewTemplateResponse", "classes/flexygo.api.pages.ModuleEvent", "classes/flexygo.api.pages.Page", "classes/flexygo.api.pages.PageModule", "classes/flexygo.api.pages.PageModuleCollection", "classes/flexygo.api.pages.PageModuleConfig", "classes/flexygo.api.process.GetHTMLResponse", "classes/flexygo.api.process.getProcessInfoByNameParams", "classes/flexygo.api.process.ProcessParam", "classes/flexygo.api.PropertyResize", "classes/flexygo.api.rss.GetHTMLParams", "classes/flexygo.api.rss.ProcessConfig", "classes/flexygo.api.SavedSearch", "classes/flexygo.api.SearchProperty", "classes/flexygo.api.SearchSettings", "classes/flexygo.api.SearchSettingsCollection", "classes/flexygo.api.security.GetHTMLResponse", "classes/flexygo.api.security.SetSecurityParams", "classes/flexygo.api.sparkline.GetHTMLParams", "classes/flexygo.api.sparkline.getObjectKeyParams", "classes/flexygo.api.sqlfeed.GetHTMLParams", "classes/flexygo.api.sys.checkUpdateProgressResponse", "classes/flexygo.api.sys.GetFiltersParams", "classes/flexygo.api.sys.GetFiltersResponse", "classes/flexygo.api.sys.GetHTMLResponse", "classes/flexygo.api.sys.getInstalledVersionsResponse", "classes/flexygo.api.sys.GetRelatedObjetsAndPropsParams", "classes/flexygo.api.sys.GetRelatedObjetsAndPropsResponse", "classes/flexygo.api.sys.getUserSearchSettingsResponse", "classes/flexygo.api.sys.GetVersionParams", "classes/flexygo.api.sys.GetVersionResponse", "classes/flexygo.api.sys.getViewParams", "classes/flexygo.api.sys.SaveFilterParams", "classes/flexygo.api.sys.saveUserSearchSettingsCheckParams", "classes/flexygo.api.sys.saveViewParams", "classes/flexygo.api.sys.SearchCriteria", "classes/flexygo.api.sys.searchObjectsParams", "classes/flexygo.api.sys.searchObjectsResponse", "classes/flexygo.api.sys.setActiveVersionParams", "classes/flexygo.api.sys.setSkinCacheVarsParams", "classes/flexygo.api.sys.TestNewVersionParams", "classes/flexygo.api.sys.UpdateNewVersionParams", "classes/flexygo.api.sys.UserSearchSettings", "classes/flexygo.api.sys.validateViewParams", "classes/flexygo.api.sys.VersionInfo", "classes/flexygo.api.sys.VersionReviewChange", "classes/flexygo.api.Template", "classes/flexygo.api.TemplateGroup", "classes/flexygo.api.TemplateGroupCollection", "classes/flexygo.api.timeline.getTimelineParams", "classes/flexygo.api.timeline.getTimelineResponse", "classes/flexygo.api.timeline.kanbanSettings", "classes/flexygo.api.timeline.timelineRanges", "classes/flexygo.api.timeline.timelineSetting", "classes/flexygo.api.Toolbar", "classes/flexygo.api.ToolbarButton", "classes/flexygo.api.view.getViewTemplateParams", "classes/flexygo.api.view.updateObjectParams", "classes/flexygo.debug.flexygo.debug", "classes/flexygo.debug.test", "classes/flexygo.events.flexygo.exceptions", "classes/flexygo.events.flexygo.history", "classes/flexygo.events.flexygo.localization", "classes/flexygo.events.flexygo.msg", "classes/flexygo.events.flexygo.push", "classes/flexygo.events.flexygo.storage.local", "classes/flexygo.events.flexygo.storage.session", "classes/flexygo.events.FlexygoEvent", "classes/flexygo.events.GenericKeyValueObject", "classes/flexygo.obj.Entity", "classes/flexygo.security", "classes/flexygo.security.roles", "classes/flexygo.security.users", "classes/flexygo.ui.wc.FlxAccordionElement", "classes/flexygo.ui.wc.FlxAreaElement", "classes/flexygo.ui.wc.FlxChartElement", "classes/flexygo.ui.wc.FlxCheckElement", "classes/flexygo.ui.wc.FlxCodeElement", "classes/flexygo.ui.wc.FlxComboElement", "classes/flexygo.ui.wc.FlxContextMenu", "classes/flexygo.ui.wc.FlxDbComboElement", "classes/flexygo.ui.wc.FlxDependencyManagerElement", "classes/flexygo.ui.wc.FlxEasyInfoElement", "classes/flexygo.ui.wc.FlxEasyline", "classes/flexygo.ui.wc.FlxEasyPieElement", "classes/flexygo.ui.wc.FlxEditElement", "classes/flexygo.ui.wc.FlxEditGridElement", "classes/flexygo.ui.wc.FlxFileWcElement", "classes/flexygo.ui.wc.FlxFilterElement", "classes/flexygo.ui.wc.FlxFilterInfo", "classes/flexygo.ui.wc.FlxFilterManagerElement", "classes/flexygo.ui.wc.FlxFooterMenuElement", "classes/flexygo.ui.wc.FlxFunnel", "classes/flexygo.ui.wc.FlxGenericSearchElement", "classes/flexygo.ui.wc.FlxHtmlEditElement", "classes/flexygo.ui.wc.FlxHtmlElement", "classes/flexygo.ui.wc.FlxImageElement", "classes/flexygo.ui.wc.FlxImageManagerElement", "classes/flexygo.ui.wc.FlxInputViewElement", "classes/flexygo.ui.wc.FlxKanban", "classes/flexygo.ui.wc.FlxListElement", "classes/flexygo.ui.wc.FlxMapElement", "classes/flexygo.ui.wc.FlxModuleElement", "classes/flexygo.ui.wc.FlxModuleManagerElement", "classes/flexygo.ui.wc.FlxModuleTabElement", "classes/flexygo.ui.wc.FlxMultiComboElement", "classes/flexygo.ui.wc.FlxNavElement", "classes/flexygo.ui.wc.FlxNetworkElement", "classes/flexygo.ui.wc.FlxNodeManagerElement", "classes/flexygo.ui.wc.FlxNotificationElement", "classes/flexygo.ui.wc.FlxObjectManagerElement", "classes/flexygo.ui.wc.FlxObjectRelationsElement", "classes/flexygo.ui.wc.FlxOrgChartlement", "classes/flexygo.ui.wc.FlxPropertyManagerElement", "classes/flexygo.ui.wc.FlxRadioElement", "classes/flexygo.ui.wc.FlxRangeElement", "classes/flexygo.ui.wc.FlxRssElement", "classes/flexygo.ui.wc.FlxSampleWcElement", "classes/flexygo.ui.wc.FlxScheduler", "classes/flexygo.ui.wc.FlxSchedulerViewElement", "classes/flexygo.ui.wc.FlxSearchElement", "classes/flexygo.ui.wc.FlxSeparatorElement", "classes/flexygo.ui.wc.FlxSidePanelElement", "classes/flexygo.ui.wc.FlxSortManagerElement", "classes/flexygo.ui.wc.FlxSparkLineElement", "classes/flexygo.ui.wc.FlxSqlFeedElement", "classes/flexygo.ui.wc.FlxSwitchElement", "classes/flexygo.ui.wc.FlxTagElement", "classes/flexygo.ui.wc.FlxTextAreaElement", "classes/flexygo.ui.wc.FlxTextElement", "classes/flexygo.ui.wc.FlxTimelineElement", "classes/flexygo.ui.wc.FlxTimelineProgressBar", "classes/flexygo.ui.wc.FlxToolTipElement", "classes/flexygo.ui.wc.FlxUploadElement", "classes/flexygo.ui.wc.FlxUserElement", "classes/flexygo.ui.wc.FlxVersionInfoElement", "classes/flexygo.ui.wc.FlxViewElement", "classes/flexygo.ui.wc.FlxViewManagerElement", "classes/flexygo.ui.wc.FlxVoiceSearchElement", "classes/flexygo.ui.wc.FlxWhiteBoardElement"]'>
        </form>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="span3">
	    <div>
	        <h3>APIs</h3>
	        <div id="sidebar">
	            <ul id="main-nav" class="nav nav-tabs" style="margin-bottom:0;">
	                <li class="active"><a href="#classes" data-toggle="tab">Classes</a></li>
	                <li><a href="#modules" data-toggle="tab">Modules</a></li>
	            </ul>
	    
	            <div id="api-tabview-filter">
	                <input type="search" placeholder="Type to filter APIs">
	            </div>
	    
	            <div class="tab-content" style="border: 1px solid #DDD; border-top:0;">
	                <div class="tab-pane active" id="classes">
	                    <ul id="api-classes" class="nav nav-list">
	                            <li><a href="../classes/flexygo.ajax.html">flexygo.ajax</a></li>
	                            <li><a href="../classes/flexygo.api.BasicProperty.html">flexygo.api.BasicProperty</a></li>
	                            <li><a href="../classes/flexygo.api.BasicPropertyCollection.html">flexygo.api.BasicPropertyCollection</a></li>
	                            <li><a href="../classes/flexygo.api.BasicPropertyLoweredKey.html">flexygo.api.BasicPropertyLoweredKey</a></li>
	                            <li><a href="../classes/flexygo.api.chart.GetHTMLParameters.html">flexygo.api.chart.GetHTMLParameters</a></li>
	                            <li><a href="../classes/flexygo.api.chart.ObjectViewCollection.html">flexygo.api.chart.ObjectViewCollection</a></li>
	                            <li><a href="../classes/flexygo.api.easypie.GetHTMLResponse.html">flexygo.api.easypie.GetHTMLResponse</a></li>
	                            <li><a href="../classes/flexygo.api.edit.addDetachedPropertyParams.html">flexygo.api.edit.addDetachedPropertyParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.addNewFieldParams.html">flexygo.api.edit.addNewFieldParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.addNewPropertiesParams.html">flexygo.api.edit.addNewPropertiesParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.DependencyAction.html">flexygo.api.edit.DependencyAction</a></li>
	                            <li><a href="../classes/flexygo.api.edit.DependencyHelper.html">flexygo.api.edit.DependencyHelper</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getComboDataParams.html">flexygo.api.edit.getComboDataParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getComboDataViewParams.html">flexygo.api.edit.getComboDataViewParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getComboTextParams.html">flexygo.api.edit.getComboTextParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getEditConfigParams.html">flexygo.api.edit.getEditConfigParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getEditConfigResponse.html">flexygo.api.edit.getEditConfigResponse</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getEditTemplateParams.html">flexygo.api.edit.getEditTemplateParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getEditTemplateResponse.html">flexygo.api.edit.getEditTemplateResponse</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getNewPropertiesParams.html">flexygo.api.edit.getNewPropertiesParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getProcessParamsTemplateParams.html">flexygo.api.edit.getProcessParamsTemplateParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getProcessParamsTemplateResponse.html">flexygo.api.edit.getProcessParamsTemplateResponse</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getReportParamsTemplateParams.html">flexygo.api.edit.getReportParamsTemplateParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.getReportParamsTemplateResponse.html">flexygo.api.edit.getReportParamsTemplateResponse</a></li>
	                            <li><a href="../classes/flexygo.api.edit.InsertSeparatorParams.html">flexygo.api.edit.InsertSeparatorParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.KeyValuePair.html">flexygo.api.edit.KeyValuePair</a></li>
	                            <li><a href="../classes/flexygo.api.edit.ObjectRowDependency.html">flexygo.api.edit.ObjectRowDependency</a></li>
	                            <li><a href="../classes/flexygo.api.edit.processAllDependenciesParams.html">flexygo.api.edit.processAllDependenciesParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.processAllListDependenciesResponse.html">flexygo.api.edit.processAllListDependenciesResponse</a></li>
	                            <li><a href="../classes/flexygo.api.edit.processDependenciesParams.html">flexygo.api.edit.processDependenciesParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.saveDependenciesConfigParams.html">flexygo.api.edit.saveDependenciesConfigParams</a></li>
	                            <li><a href="../classes/flexygo.api.edit.timelineEntityConfiguration.html">flexygo.api.edit.timelineEntityConfiguration</a></li>
	                            <li><a href="../classes/flexygo.api.entity.GetConfigParams.html">flexygo.api.entity.GetConfigParams</a></li>
	                            <li><a href="../classes/flexygo.api.entity.GetHTMLParams.html">flexygo.api.entity.GetHTMLParams</a></li>
	                            <li><a href="../classes/flexygo.api.entity.GetProcessesResponse.html">flexygo.api.entity.GetProcessesResponse</a></li>
	                            <li><a href="../classes/flexygo.api.entity.InsertPlaceHolderParams.html">flexygo.api.entity.InsertPlaceHolderParams</a></li>
	                            <li><a href="../classes/flexygo.api.entity.ObjBasicConfig.html">flexygo.api.entity.ObjBasicConfig</a></li>
	                            <li><a href="../classes/flexygo.api.GenericKeyValueObject.html">flexygo.api.GenericKeyValueObject</a></li>
	                            <li><a href="../classes/flexygo.api.kanban.getKanbanParams.html">flexygo.api.kanban.getKanbanParams</a></li>
	                            <li><a href="../classes/flexygo.api.kanban.getKanbanResponse.html">flexygo.api.kanban.getKanbanResponse</a></li>
	                            <li><a href="../classes/flexygo.api.kanban.GetNodes.html">flexygo.api.kanban.GetNodes</a></li>
	                            <li><a href="../classes/flexygo.api.list.GetHTMLResponse.html">flexygo.api.list.GetHTMLResponse</a></li>
	                            <li><a href="../classes/flexygo.api.list.getListParams.html">flexygo.api.list.getListParams</a></li>
	                            <li><a href="../classes/flexygo.api.list.getListResponse.html">flexygo.api.list.getListResponse</a></li>
	                            <li><a href="../classes/flexygo.api.list.getSearchParams.html">flexygo.api.list.getSearchParams</a></li>
	                            <li><a href="../classes/flexygo.api.list.getSearchResponse.html">flexygo.api.list.getSearchResponse</a></li>
	                            <li><a href="../classes/flexygo.api.list.ModulePager.html">flexygo.api.list.ModulePager</a></li>
	                            <li><a href="../classes/flexygo.api.list.PropertyOrder.html">flexygo.api.list.PropertyOrder</a></li>
	                            <li><a href="../classes/flexygo.api.maps.getCountParams.html">flexygo.api.maps.getCountParams</a></li>
	                            <li><a href="../classes/flexygo.api.maps.GetHTMLParams.html">flexygo.api.maps.GetHTMLParams</a></li>
	                            <li><a href="../classes/flexygo.api.mastertables.deleteParams.html">flexygo.api.mastertables.deleteParams</a></li>
	                            <li><a href="../classes/flexygo.api.mastertables.GetHTMLResponse.html">flexygo.api.mastertables.GetHTMLResponse</a></li>
	                            <li><a href="../classes/flexygo.api.mastertables.getSettingsParams.html">flexygo.api.mastertables.getSettingsParams</a></li>
	                            <li><a href="../classes/flexygo.api.mastertables.getSettingsResponse.html">flexygo.api.mastertables.getSettingsResponse</a></li>
	                            <li><a href="../classes/flexygo.api.mastertables.insertParams.html">flexygo.api.mastertables.insertParams</a></li>
	                            <li><a href="../classes/flexygo.api.mastertables.MasterTableFieldsCollection.html">flexygo.api.mastertables.MasterTableFieldsCollection</a></li>
	                            <li><a href="../classes/flexygo.api.mastertables.updateParams.html">flexygo.api.mastertables.updateParams</a></li>
	                            <li><a href="../classes/flexygo.api.navigation.MasterTableField.html">flexygo.api.navigation.MasterTableField</a></li>
	                            <li><a href="../classes/flexygo.api.navigation.NavigationNode.html">flexygo.api.navigation.NavigationNode</a></li>
	                            <li><a href="../classes/flexygo.api.Network.GetDataParams.html">flexygo.api.Network.GetDataParams</a></li>
	                            <li><a href="../classes/flexygo.api.Network.savePageConfigParams.html">flexygo.api.Network.savePageConfigParams</a></li>
	                            <li><a href="../classes/flexygo.api.Notify.GetDataResponse.html">flexygo.api.Notify.GetDataResponse</a></li>
	                            <li><a href="../classes/flexygo.api.Notify.NotifyParams.html">flexygo.api.Notify.NotifyParams</a></li>
	                            <li><a href="../classes/flexygo.api.ObjectProperty.html">flexygo.api.ObjectProperty</a></li>
	                            <li><a href="../classes/flexygo.api.ObjectPropertyCollection.html">flexygo.api.ObjectPropertyCollection</a></li>
	                            <li><a href="../classes/flexygo.api.ObjectPropertyLoweredKey.html">flexygo.api.ObjectPropertyLoweredKey</a></li>
	                            <li><a href="../classes/flexygo.api.objectrelations.GetHTMLParams.html">flexygo.api.objectrelations.GetHTMLParams</a></li>
	                            <li><a href="../classes/flexygo.api.objectrelations.LoweredNavigationNode.html">flexygo.api.objectrelations.LoweredNavigationNode</a></li>
	                            <li><a href="../classes/flexygo.api.ObjectRelationsSettings.html">flexygo.api.ObjectRelationsSettings</a></li>
	                            <li><a href="../classes/flexygo.api.ObjectSearchPropertyType.html">flexygo.api.ObjectSearchPropertyType</a></li>
	                            <li><a href="../classes/flexygo.api.ObjectSearchType.html">flexygo.api.ObjectSearchType</a></li>
	                            <li><a href="../classes/flexygo.api.ObjectView.html">flexygo.api.ObjectView</a></li>
	                            <li><a href="../classes/flexygo.api.ObjectViewProperty.html">flexygo.api.ObjectViewProperty</a></li>
	                            <li><a href="../classes/flexygo.api.ObjectViewPropertyCollection.html">flexygo.api.ObjectViewPropertyCollection</a></li>
	                            <li><a href="../classes/flexygo.api.orgchart.GetHTMLParameters.html">flexygo.api.orgchart.GetHTMLParameters</a></li>
	                            <li><a href="../classes/flexygo.api.pages.getPageByNameParams.html">flexygo.api.pages.getPageByNameParams</a></li>
	                            <li><a href="../classes/flexygo.api.pages.GetPageTabModulesParams.html">flexygo.api.pages.GetPageTabModulesParams</a></li>
	                            <li><a href="../classes/flexygo.api.pages.getViewTemplateResponse.html">flexygo.api.pages.getViewTemplateResponse</a></li>
	                            <li><a href="../classes/flexygo.api.pages.ModuleEvent.html">flexygo.api.pages.ModuleEvent</a></li>
	                            <li><a href="../classes/flexygo.api.pages.Page.html">flexygo.api.pages.Page</a></li>
	                            <li><a href="../classes/flexygo.api.pages.PageModule.html">flexygo.api.pages.PageModule</a></li>
	                            <li><a href="../classes/flexygo.api.pages.PageModuleCollection.html">flexygo.api.pages.PageModuleCollection</a></li>
	                            <li><a href="../classes/flexygo.api.pages.PageModuleConfig.html">flexygo.api.pages.PageModuleConfig</a></li>
	                            <li><a href="../classes/flexygo.api.process.GetHTMLResponse.html">flexygo.api.process.GetHTMLResponse</a></li>
	                            <li><a href="../classes/flexygo.api.process.getProcessInfoByNameParams.html">flexygo.api.process.getProcessInfoByNameParams</a></li>
	                            <li><a href="../classes/flexygo.api.process.ProcessParam.html">flexygo.api.process.ProcessParam</a></li>
	                            <li><a href="../classes/flexygo.api.PropertyResize.html">flexygo.api.PropertyResize</a></li>
	                            <li><a href="../classes/flexygo.api.rss.GetHTMLParams.html">flexygo.api.rss.GetHTMLParams</a></li>
	                            <li><a href="../classes/flexygo.api.rss.ProcessConfig.html">flexygo.api.rss.ProcessConfig</a></li>
	                            <li><a href="../classes/flexygo.api.SavedSearch.html">flexygo.api.SavedSearch</a></li>
	                            <li><a href="../classes/flexygo.api.SearchProperty.html">flexygo.api.SearchProperty</a></li>
	                            <li><a href="../classes/flexygo.api.SearchSettings.html">flexygo.api.SearchSettings</a></li>
	                            <li><a href="../classes/flexygo.api.SearchSettingsCollection.html">flexygo.api.SearchSettingsCollection</a></li>
	                            <li><a href="../classes/flexygo.api.security.GetHTMLResponse.html">flexygo.api.security.GetHTMLResponse</a></li>
	                            <li><a href="../classes/flexygo.api.security.SetSecurityParams.html">flexygo.api.security.SetSecurityParams</a></li>
	                            <li><a href="../classes/flexygo.api.sparkline.GetHTMLParams.html">flexygo.api.sparkline.GetHTMLParams</a></li>
	                            <li><a href="../classes/flexygo.api.sparkline.getObjectKeyParams.html">flexygo.api.sparkline.getObjectKeyParams</a></li>
	                            <li><a href="../classes/flexygo.api.sqlfeed.GetHTMLParams.html">flexygo.api.sqlfeed.GetHTMLParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.checkUpdateProgressResponse.html">flexygo.api.sys.checkUpdateProgressResponse</a></li>
	                            <li><a href="../classes/flexygo.api.sys.GetFiltersParams.html">flexygo.api.sys.GetFiltersParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.GetFiltersResponse.html">flexygo.api.sys.GetFiltersResponse</a></li>
	                            <li><a href="../classes/flexygo.api.sys.GetHTMLResponse.html">flexygo.api.sys.GetHTMLResponse</a></li>
	                            <li><a href="../classes/flexygo.api.sys.getInstalledVersionsResponse.html">flexygo.api.sys.getInstalledVersionsResponse</a></li>
	                            <li><a href="../classes/flexygo.api.sys.GetRelatedObjetsAndPropsParams.html">flexygo.api.sys.GetRelatedObjetsAndPropsParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.GetRelatedObjetsAndPropsResponse.html">flexygo.api.sys.GetRelatedObjetsAndPropsResponse</a></li>
	                            <li><a href="../classes/flexygo.api.sys.getUserSearchSettingsResponse.html">flexygo.api.sys.getUserSearchSettingsResponse</a></li>
	                            <li><a href="../classes/flexygo.api.sys.GetVersionParams.html">flexygo.api.sys.GetVersionParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.GetVersionResponse.html">flexygo.api.sys.GetVersionResponse</a></li>
	                            <li><a href="../classes/flexygo.api.sys.getViewParams.html">flexygo.api.sys.getViewParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.SaveFilterParams.html">flexygo.api.sys.SaveFilterParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.saveUserSearchSettingsCheckParams.html">flexygo.api.sys.saveUserSearchSettingsCheckParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.saveViewParams.html">flexygo.api.sys.saveViewParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.SearchCriteria.html">flexygo.api.sys.SearchCriteria</a></li>
	                            <li><a href="../classes/flexygo.api.sys.searchObjectsParams.html">flexygo.api.sys.searchObjectsParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.searchObjectsResponse.html">flexygo.api.sys.searchObjectsResponse</a></li>
	                            <li><a href="../classes/flexygo.api.sys.setActiveVersionParams.html">flexygo.api.sys.setActiveVersionParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.setSkinCacheVarsParams.html">flexygo.api.sys.setSkinCacheVarsParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.TestNewVersionParams.html">flexygo.api.sys.TestNewVersionParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.UpdateNewVersionParams.html">flexygo.api.sys.UpdateNewVersionParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.UserSearchSettings.html">flexygo.api.sys.UserSearchSettings</a></li>
	                            <li><a href="../classes/flexygo.api.sys.validateViewParams.html">flexygo.api.sys.validateViewParams</a></li>
	                            <li><a href="../classes/flexygo.api.sys.VersionInfo.html">flexygo.api.sys.VersionInfo</a></li>
	                            <li><a href="../classes/flexygo.api.sys.VersionReviewChange.html">flexygo.api.sys.VersionReviewChange</a></li>
	                            <li><a href="../classes/flexygo.api.Template.html">flexygo.api.Template</a></li>
	                            <li><a href="../classes/flexygo.api.TemplateGroup.html">flexygo.api.TemplateGroup</a></li>
	                            <li><a href="../classes/flexygo.api.TemplateGroupCollection.html">flexygo.api.TemplateGroupCollection</a></li>
	                            <li><a href="../classes/flexygo.api.timeline.getTimelineParams.html">flexygo.api.timeline.getTimelineParams</a></li>
	                            <li><a href="../classes/flexygo.api.timeline.getTimelineResponse.html">flexygo.api.timeline.getTimelineResponse</a></li>
	                            <li><a href="../classes/flexygo.api.timeline.kanbanSettings.html">flexygo.api.timeline.kanbanSettings</a></li>
	                            <li><a href="../classes/flexygo.api.timeline.timelineRanges.html">flexygo.api.timeline.timelineRanges</a></li>
	                            <li><a href="../classes/flexygo.api.timeline.timelineSetting.html">flexygo.api.timeline.timelineSetting</a></li>
	                            <li><a href="../classes/flexygo.api.Toolbar.html">flexygo.api.Toolbar</a></li>
	                            <li><a href="../classes/flexygo.api.ToolbarButton.html">flexygo.api.ToolbarButton</a></li>
	                            <li><a href="../classes/flexygo.api.view.getViewTemplateParams.html">flexygo.api.view.getViewTemplateParams</a></li>
	                            <li><a href="../classes/flexygo.api.view.updateObjectParams.html">flexygo.api.view.updateObjectParams</a></li>
	                            <li><a href="../classes/flexygo.debug.flexygo.debug.html">flexygo.debug.flexygo.debug</a></li>
	                            <li><a href="../classes/flexygo.debug.test.html">flexygo.debug.test</a></li>
	                            <li><a href="../classes/flexygo.events.flexygo.exceptions.html">flexygo.events.flexygo.exceptions</a></li>
	                            <li><a href="../classes/flexygo.events.flexygo.history.html">flexygo.events.flexygo.history</a></li>
	                            <li><a href="../classes/flexygo.events.flexygo.localization.html">flexygo.events.flexygo.localization</a></li>
	                            <li><a href="../classes/flexygo.events.flexygo.msg.html">flexygo.events.flexygo.msg</a></li>
	                            <li><a href="../classes/flexygo.events.flexygo.push.html">flexygo.events.flexygo.push</a></li>
	                            <li><a href="../classes/flexygo.events.flexygo.storage.local.html">flexygo.events.flexygo.storage.local</a></li>
	                            <li><a href="../classes/flexygo.events.flexygo.storage.session.html">flexygo.events.flexygo.storage.session</a></li>
	                            <li><a href="../classes/flexygo.events.FlexygoEvent.html">flexygo.events.FlexygoEvent</a></li>
	                            <li><a href="../classes/flexygo.events.GenericKeyValueObject.html">flexygo.events.GenericKeyValueObject</a></li>
	                            <li><a href="../classes/flexygo.obj.Entity.html">flexygo.obj.Entity</a></li>
	                            <li><a href="../classes/flexygo.security.html">flexygo.security</a></li>
	                            <li><a href="../classes/flexygo.security.roles.html">flexygo.security.roles</a></li>
	                            <li><a href="../classes/flexygo.security.users.html">flexygo.security.users</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxAccordionElement.html">flexygo.ui.wc.FlxAccordionElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxAreaElement.html">flexygo.ui.wc.FlxAreaElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxChartElement.html">flexygo.ui.wc.FlxChartElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxCheckElement.html">flexygo.ui.wc.FlxCheckElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxCodeElement.html">flexygo.ui.wc.FlxCodeElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxComboElement.html">flexygo.ui.wc.FlxComboElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxContextMenu.html">flexygo.ui.wc.FlxContextMenu</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxDbComboElement.html">flexygo.ui.wc.FlxDbComboElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxDependencyManagerElement.html">flexygo.ui.wc.FlxDependencyManagerElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxEasyInfoElement.html">flexygo.ui.wc.FlxEasyInfoElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxEasyline.html">flexygo.ui.wc.FlxEasyline</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxEasyPieElement.html">flexygo.ui.wc.FlxEasyPieElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxEditElement.html">flexygo.ui.wc.FlxEditElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxEditGridElement.html">flexygo.ui.wc.FlxEditGridElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxFileWcElement.html">flexygo.ui.wc.FlxFileWcElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxFilterElement.html">flexygo.ui.wc.FlxFilterElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxFilterInfo.html">flexygo.ui.wc.FlxFilterInfo</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxFilterManagerElement.html">flexygo.ui.wc.FlxFilterManagerElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxFooterMenuElement.html">flexygo.ui.wc.FlxFooterMenuElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxFunnel.html">flexygo.ui.wc.FlxFunnel</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxGenericSearchElement.html">flexygo.ui.wc.FlxGenericSearchElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxHtmlEditElement.html">flexygo.ui.wc.FlxHtmlEditElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxHtmlElement.html">flexygo.ui.wc.FlxHtmlElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxImageElement.html">flexygo.ui.wc.FlxImageElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxImageManagerElement.html">flexygo.ui.wc.FlxImageManagerElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxInputViewElement.html">flexygo.ui.wc.FlxInputViewElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxKanban.html">flexygo.ui.wc.FlxKanban</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxListElement.html">flexygo.ui.wc.FlxListElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxMapElement.html">flexygo.ui.wc.FlxMapElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxModuleElement.html">flexygo.ui.wc.FlxModuleElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxModuleManagerElement.html">flexygo.ui.wc.FlxModuleManagerElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxModuleTabElement.html">flexygo.ui.wc.FlxModuleTabElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxMultiComboElement.html">flexygo.ui.wc.FlxMultiComboElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxNavElement.html">flexygo.ui.wc.FlxNavElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxNetworkElement.html">flexygo.ui.wc.FlxNetworkElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxNodeManagerElement.html">flexygo.ui.wc.FlxNodeManagerElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxNotificationElement.html">flexygo.ui.wc.FlxNotificationElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxObjectManagerElement.html">flexygo.ui.wc.FlxObjectManagerElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxObjectRelationsElement.html">flexygo.ui.wc.FlxObjectRelationsElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxOrgChartlement.html">flexygo.ui.wc.FlxOrgChartlement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxPropertyManagerElement.html">flexygo.ui.wc.FlxPropertyManagerElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxRadioElement.html">flexygo.ui.wc.FlxRadioElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxRangeElement.html">flexygo.ui.wc.FlxRangeElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxRssElement.html">flexygo.ui.wc.FlxRssElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxSampleWcElement.html">flexygo.ui.wc.FlxSampleWcElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxScheduler.html">flexygo.ui.wc.FlxScheduler</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxSchedulerViewElement.html">flexygo.ui.wc.FlxSchedulerViewElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxSearchElement.html">flexygo.ui.wc.FlxSearchElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxSeparatorElement.html">flexygo.ui.wc.FlxSeparatorElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxSidePanelElement.html">flexygo.ui.wc.FlxSidePanelElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxSortManagerElement.html">flexygo.ui.wc.FlxSortManagerElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxSparkLineElement.html">flexygo.ui.wc.FlxSparkLineElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxSqlFeedElement.html">flexygo.ui.wc.FlxSqlFeedElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxSwitchElement.html">flexygo.ui.wc.FlxSwitchElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxTagElement.html">flexygo.ui.wc.FlxTagElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxTextAreaElement.html">flexygo.ui.wc.FlxTextAreaElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxTextElement.html">flexygo.ui.wc.FlxTextElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxTimelineElement.html">flexygo.ui.wc.FlxTimelineElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxTimelineProgressBar.html">flexygo.ui.wc.FlxTimelineProgressBar</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxToolTipElement.html">flexygo.ui.wc.FlxToolTipElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxUploadElement.html">flexygo.ui.wc.FlxUploadElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxUserElement.html">flexygo.ui.wc.FlxUserElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxVersionInfoElement.html">flexygo.ui.wc.FlxVersionInfoElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxViewElement.html">flexygo.ui.wc.FlxViewElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxViewManagerElement.html">flexygo.ui.wc.FlxViewManagerElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxVoiceSearchElement.html">flexygo.ui.wc.FlxVoiceSearchElement</a></li>
	                            <li><a href="../classes/flexygo.ui.wc.FlxWhiteBoardElement.html">flexygo.ui.wc.FlxWhiteBoardElement</a></li>
	                    </ul>
	                </div>
	    
	                <div class="tab-pane" id="modules">
	                    <ul id="api-modules" class="nav nav-list">
	                    </ul>
	                </div>
	            </div>
	        </div>
	    </div>
        </div>
        <div class="span9">
                <form id="options-form" class="form-inline pull-right">
                    Show:
                    <label for="api-show-inherited" class="checkbox">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected" class="checkbox">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private" class="checkbox">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated" class="checkbox">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </form>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<div class="page-header">
    <h1>Source\flexygo\Proyectos\FlexyGo\FlexyGo\js\flexygo\ui\wc\flx-gipedesigner.js <small>File</small></h1>
</div>

<div class="file">
    <pre class="prettyprint linenums">
var flexygo;
(function (flexygo) {
    var ui;
    (function (ui_1) {
        var wc;
        (function (wc) {
            var eStepResult;
            (function (eStepResult) {
                eStepResult[eStepResult[&quot;NoResult&quot;] = 0] = &quot;NoResult&quot;;
                eStepResult[eStepResult[&quot;OK&quot;] = 1] = &quot;OK&quot;;
                eStepResult[eStepResult[&quot;Error&quot;] = 2] = &quot;Error&quot;;
                eStepResult[eStepResult[&quot;Warning&quot;] = 3] = &quot;Warning&quot;;
            })(eStepResult || (eStepResult = {}));
            var eStepStatus;
            (function (eStepStatus) {
                eStepStatus[eStepStatus[&quot;Initiliazing&quot;] = 0] = &quot;Initiliazing&quot;;
                eStepStatus[eStepStatus[&quot;Running&quot;] = 1] = &quot;Running&quot;;
                eStepStatus[eStepStatus[&quot;Paused&quot;] = 2] = &quot;Paused&quot;;
                eStepStatus[eStepStatus[&quot;Finished&quot;] = 3] = &quot;Finished&quot;;
                eStepStatus[eStepStatus[&quot;Aborted&quot;] = 4] = &quot;Aborted&quot;;
                eStepStatus[eStepStatus[&quot;Waiting&quot;] = 5] = &quot;Waiting&quot;;
            })(eStepStatus || (eStepStatus = {}));
            class WorkflowNodeMarker {
            }
            wc.WorkflowNodeMarker = WorkflowNodeMarker;
            class GipeTemplateFilterConfig {
            }
            wc.GipeTemplateFilterConfig = GipeTemplateFilterConfig;
            class FlxGipeDesignerElement extends HTMLElement {
                constructor() {
                    //If a constructor is defined, is REQUIRED call the super constructor
                    super();
                    /**
                    * Set if element has been connected to DOM
                    * @property connected {boolean}
                    */
                    this.connected = false;
                    /**
                    * mxEditor opened dialog
                    * @property dialog {mxWindow}
                    */
                    this.dialog = null;
                    /**
                    * Properties dialog
                    * @property dialog {mxWindow}
                    */
                    this.propertiesDialog = null;
                    /**
                    * Debug dialog
                    * @property dialog {mxWindow}
                    */
                    this.debugDialog = null;
                    /**
                    * Current loaded workflow
                    * @property workflow {flexygo.api.gipe.GipeWorkflow}
                    */
                    this.workflow = null;
                    /**
                    * Current loaded workflow in debug mode
                    * @property workflow {flexygo.api.gipe.GipeWorkflow}
                    */
                    this.debugWorkflow = null;
                    /**
                    * Current execution Id
                    * @property currentExecutionId {number}
                    */
                    this.currentExecutionId = 0;
                    /**
                    * Last cell id painted as executed
                    * @property lastDebugGraphId {number}
                    */
                    this.lastDebugGraphId = null;
                    /**
                    * Last cell that triggered a popup event
                    * @property popupCell {number}
                    */
                    this.popupCell = null;
                    /**
                    * Filter configuration for templates dialog
                    * @property templateFilter {GipeTemplateFilterConfig}
                    */
                    this.templateFilter = null;
                    this.fixedPropertiesDialog = false;
                }
                /**
                * Array of observed attributes. REQUIRED
                * @property observedAttributes {Array}
                */
                static get observedAttributes() {
                    return [&quot;objectname&quot;, &quot;objectwhere&quot;];
                }
                /**
                * Fires when element is attached to DOM
                * @method connectedCallback
                */
                connectedCallback() {
                    this.connected = true;
                    flexygo.events.on(this, &quot;module&quot;, &quot;resized&quot;, this.onModuleResize);
                    this.init();
                }
                /**
                * Fires when element is dettached to DOM
                * @method disconnectedCallback
                */
                disconnectedCallback() {
                    flexygo.events.off(this, &quot;module&quot;, &quot;resized&quot;, this.onModuleResize);
                    if (this.dialog) {
                        this.dialog.destroy();
                    }
                    if (this.propertiesDialog) {
                        this.propertiesDialog.destroy();
                    }
                    if (this.debugDialog) {
                        this.debugDialog.destroy();
                    }
                }
                /**
                * Fires when the attribute value of the element is changed.
                * @method attributeChangedCallback
                */
                attributeChangedCallback(attrName, oldVal, newVal) {
                    let needInit = false;
                    if (this.connected &amp;&amp; needInit) {
                        this.init();
                    }
                    if (attrName.toLowerCase() === &#x27;objectname&#x27; || attrName.toLowerCase() === &#x27;objectwhere&#x27;) {
                        if (this.hasAttribute(&#x27;objectName&#x27;) &amp;&amp; this.hasAttribute(&#x27;objectwhere&#x27;)) {
                            if (this.getAttribute(&#x27;objectName&#x27;).length &gt; 0 &amp;&amp; this.getAttribute(&#x27;objectWhere&#x27;).length &gt; 0) {
                                let entity = new flexygo.obj.Entity(this.getAttribute(&#x27;objectName&#x27;), this.getAttribute(&#x27;objectWhere&#x27;));
                                entity.read();
                                this.loadWorkflow(entity.data[&quot;WorkflowId&quot;].Value, -1, false);
                            }
                        }
                    }
                }
                /**
                * Init the webcomponent. REQUIRED.
                * @method init
                */
                init() {
                    flexygo.events.on(this, &quot;gipe&quot;, &quot;debugstep&quot;, this.onDebugStepChanged);
                    //mxBasePath = &#x27;../js/plugins/mxgraph&#x27;;
                    let editorconfig = &#x60;
                &lt;mxEditor
	                defaultGroup=&quot;group&quot; defaultEdge=&quot;&quot;
	                forcedInserting=&quot;0&quot;
	                swimlaneRequired=&quot;0&quot;&gt;

	                &lt;Array as=&quot;cycleAttributeValues&quot;&gt;
		                &lt;add value=&quot;#EEEEEE&quot;/&gt;
		            &lt;/Array&gt;
	
	                &lt;Array as=&quot;templates&quot;&gt;&lt;/Array&gt;

                    &lt;mxDefaultKeyHandler as=&quot;keyHandler&quot;&gt;
		               
	                &lt;/mxDefaultKeyHandler&gt;
	
	                &lt;ui&gt;
		                &lt;add as=&quot;graph&quot; element=&quot;gipegraph&quot;/&gt;
	                &lt;/ui&gt;
		
	                &lt;mxGraph as=&quot;graph&quot; alternateEdgeStyle=&quot;verticalEdge&quot; dropEnabled=&quot;1&quot;&gt;
		                &lt;mxGraphModel as=&quot;model&quot;&gt;
			                &lt;root&gt;
				                &lt;Workflow label=&quot;&quot; description=&quot;&quot; id=&quot;0&quot;/&gt;
				                &lt;Layer label=&quot;Default Layer&quot;&gt;
					                &lt;mxCell parent=&quot;0&quot;/&gt;
				                &lt;/Layer&gt;
			                &lt;/root&gt;
		                &lt;/mxGraphModel&gt;
		                
                        &lt;mxStylesheet as=&quot;stylesheet&quot;&gt;
		                &lt;/mxStylesheet&gt;
	                &lt;/mxGraph&gt;
	
                &lt;/mxEditor&gt;

            &#x60;;
                    let self = this;
                    let me = $(this);
                    this.workflowStack = [];
                    this.debugStack = [];
                    me.empty();
                    this.uuid = flexygo.utils.uniqueUUID();
                    if (!mxClient.isBrowserSupported()) {
                        mxUtils.error(&#x27;Browser is not supported!&#x27;, 200, false);
                        return;
                    }
                    let template = &#x60;
                &lt;div id=&quot;${this.uuid}&quot; class=&quot;gipecp&quot;&gt;
                   &lt;div class=&quot;gipetoolbar&quot; id=&quot;gipetoolbar&quot; /&gt;
                   &lt;ol class=&quot;breadcrumb&quot; /&gt;
                   &lt;div class=&quot;gipecp graph&quot; id=&quot;gipegraph&quot; /&gt;
                &lt;/div&gt;
            &#x60;;
                    me.html(template);
                    me.find(&#x27;#gipegraph&#x27;).droppable({
                        drop: (event, ui) =&gt; {
                            this.doDropTemplate(ui);
                        }
                    });
                    //Load base config from XML template
                    mxClient.language = null;
                    mxObjectCodec.allowEval = true;
                    let doc = mxUtils.parseXml(editorconfig).childNodes[0];
                    this.editor = new mxEditor(doc);
                    mxObjectCodec.allowEval = false;
                    // Snap to guides
                    mxGraphHandler.prototype.guidesEnabled = true;
                    mxConstants.GUIDE_COLOR = &#x27;#FF0000&#x27;;
                    mxConstants.GUIDE_STROKEWIDTH = 1;
                    mxEdgeHandler.prototype.snapToTerminals = true;
                    //Rest of editor and graph configuration
                    this.initGraphStyles();
                    this.initEditorTemplates();
                    this.initEditorToolbar();
                    this.initEditorKeyHandler();
                    this.initEditorMouseHandler();
                    this.initEditorPopupMenu();
                    this.editor.defaultEdge = this.editor.templates[&quot;relation&quot;];
                    this.editor.addAction(&quot;open&quot;, (editor, cell) =&gt; {
                        if (self.editor.isModified() === true) {
                            flexygo.msg.confirm(flexygo.localization.translate(&#x27;flxgipe.confirmunsavedchanges&#x27;), (ret) =&gt; {
                                if (ret === true) {
                                    self.openLoadDialog();
                                }
                            });
                        }
                        else {
                            self.openLoadDialog();
                        }
                    });
                    this.editor.addAction(&quot;new&quot;, (editor, cell) =&gt; {
                        self.newWorkflow();
                    });
                    this.editor.addAction(&quot;templates&quot;, (editor, cell) =&gt; {
                        self.openTemplateDialog();
                    });
                    this.editor.addAction(&quot;save&quot;, (editor, cell) =&gt; {
                        self.openSaveDialog();
                    });
                    this.editor.addAction(&quot;generate&quot;, (editor, cell) =&gt; {
                        self.generateWorkflow();
                    });
                    this.editor.addAction(&quot;up&quot;, (editor, cell) =&gt; {
                        self.goUp(self.workflowStack.length - 1);
                    });
                    this.editor.addAction(&quot;down&quot;, (editor, cell) =&gt; {
                        self.goDown();
                    });
                    this.editor.addAction(&quot;run&quot;, (editor, cell) =&gt; {
                        self.runWorkflow();
                    });
                    this.editor.addAction(&quot;debug&quot;, (editor, cell) =&gt; {
                        self.startDebugWorkflow();
                    });
                    this.editor.addAction(&quot;showProperties&quot;, (editor, cell) =&gt; {
                        if ((this.fixedPropertiesDialog === false) &amp;&amp; (this.propertiesDialog != null)) {
                            this.propertiesDialog.destroy();
                            return;
                        }
                        if (graph.getSelectionCells().length === 1) {
                            self.showCellProperties(graph.getSelectionCells()[0]);
                        }
                        else {
                            self.showCellProperties(null);
                        }
                    });
                    this.editor.addAction(&quot;properties&quot;, (editor, cell) =&gt; {
                        let btn = $(this).find(&#x27;button[data-btn=&quot;properties&quot;]&#x27;);
                        if (this.fixedPropertiesDialog === true) {
                            this.fixedPropertiesDialog = false;
                            $(btn).removeClass(&quot;mxToolbarItemSelected&quot;).addClass(&quot;mxToolbarItem&quot;);
                            if (this.propertiesDialog) {
                                this.propertiesDialog.destroy();
                                this.destroyPropertiesDialog();
                            }
                        }
                        else {
                            this.fixedPropertiesDialog = true;
                            $(btn).removeClass(&quot;mxToolbarItem&quot;).addClass(&quot;mxToolbarItemSelected&quot;);
                            if (!this.propertiesDialog) {
                                this.openPropertiesDialog();
                                if (graph.getSelectionCells().length === 1) {
                                    self.showCellProperties(graph.getSelectionCells()[0]);
                                }
                                else {
                                    self.showCellProperties(null);
                                }
                            }
                        }
                    });
                    let graph = this.editor.graph;
                    //Avoid unconnected edges
                    graph.setAllowDanglingEdges(false);
                    graph.setDisconnectOnMove(false);
                    graph.convertValueToString = function (cell) {
                        return cell.getAttribute(&#x27;label&#x27;, &#x27;&#x27;);
                    };
                    var cellLabelChanged = graph.cellLabelChanged;
                    graph.cellLabelChanged = function (cell, newValue, autoSize) {
                        if (mxUtils.isNode(cell.value)) {
                            // Clones the value for correct undo/redo
                            var elt = cell.value.cloneNode(true);
                            elt.setAttribute(&#x27;label&#x27;, newValue);
                            newValue = elt;
                        }
                        cellLabelChanged.apply(graph, [cell, newValue, autoSize]);
                    };
                    graph.getSelectionModel().addListener(mxEvent.CHANGE, function (sender, evt) {
                        self.updateToolbarStatus();
                        if (self.fixedPropertiesDialog === true) {
                            if (graph.getSelectionCells().length === 1) {
                                self.showCellProperties(graph.getSelectionCells()[0]);
                            }
                            else {
                                self.showCellProperties(null);
                            }
                        }
                    });
                    this.editor.graph.setHtmlLabels(true);
                    this.setGraphSize();
                    this.render();
                }
                initGraphStyles() {
                    //Graph styles
                    let style = null;
                    //Default vertex style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RECTANGLE;
                    style[mxConstants.STYLE_PERIMETER] = mxPerimeter.RectanglePerimeter;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#98c75d&#x27;;
                    style[mxConstants.STYLE_ROUNDED] = true;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#cce3ae&#x27;;
                    style[mxConstants.STYLE_FONTCOLOR] = &#x27;black&#x27;;
                    style[mxConstants.STYLE_ALIGN] = mxConstants.ALIGN_CENTER;
                    style[mxConstants.STYLE_VERTICAL_ALIGN] = mxConstants.ALIGN_MIDDLE;
                    style[mxConstants.STYLE_FONTSIZE] = &#x27;12&#x27;;
                    style[mxConstants.STYLE_WHITE_SPACE] = &#x27;wrap&#x27;;
                    this.editor.graph.getStylesheet().putDefaultVertexStyle(style);
                    //Invalid vertex
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RECTANGLE;
                    style[mxConstants.STYLE_PERIMETER] = mxPerimeter.RectanglePerimeter;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#c75d62&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#db9699&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;invalid-rectangle&quot;, style);
                    //Success vertex
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RECTANGLE;
                    style[mxConstants.STYLE_PERIMETER] = mxPerimeter.RectanglePerimeter;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#648b30&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#8cc048&#x27;;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;success-rectangle&quot;, style);
                    //Running rectangle
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RECTANGLE;
                    style[mxConstants.STYLE_PERIMETER] = mxPerimeter.RectanglePerimeter;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ffa500&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ffdb99&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;running-rectangle&quot;, style);
                    //Error rectangle
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RECTANGLE;
                    style[mxConstants.STYLE_PERIMETER] = mxPerimeter.RectanglePerimeter;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ff0f0f&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ff4a4a&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;error-rectangle&quot;, style);
                    // Default edge style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_CONNECTOR;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#6482B9&#x27;;
                    style[mxConstants.STYLE_STROKEWIDTH] = 2;
                    style[mxConstants.STYLE_ALIGN] = mxConstants.ALIGN_CENTER;
                    style[mxConstants.STYLE_VERTICAL_ALIGN] = mxConstants.ALIGN_MIDDLE;
                    style[mxConstants.STYLE_EDGE] = mxEdgeStyle.ElbowConnector;
                    style[mxConstants.STYLE_ENDARROW] = mxConstants.ARROW_CLASSIC;
                    style[mxConstants.STYLE_VERTICAL_LABEL_POSITION] = mxConstants.ALIGN_TOP;
                    style[mxConstants.STYLE_FONTSIZE] = &#x27;12&#x27;;
                    style[mxConstants.STYLE_ENDSIZE] = 2;
                    style[mxConstants.STYLE_ENDFILL] = 1;
                    style[mxConstants.STYLE_ROUNDED] = 1;
                    this.editor.graph.getStylesheet().putDefaultEdgeStyle(style);
                    // Running edge style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_CONNECTOR;
                    style[mxConstants.STYLE_ALIGN] = mxConstants.ALIGN_CENTER;
                    style[mxConstants.STYLE_VERTICAL_ALIGN] = mxConstants.ALIGN_MIDDLE;
                    style[mxConstants.STYLE_EDGE] = mxEdgeStyle.ElbowConnector;
                    style[mxConstants.STYLE_ENDARROW] = mxConstants.ARROW_CLASSIC;
                    style[mxConstants.STYLE_VERTICAL_LABEL_POSITION] = mxConstants.ALIGN_TOP;
                    style[mxConstants.STYLE_FONTSIZE] = &#x27;12&#x27;;
                    style[mxConstants.STYLE_ENDSIZE] = 2;
                    style[mxConstants.STYLE_ENDFILL] = 1;
                    style[mxConstants.STYLE_ROUNDED] = 1;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ffa500&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ffdb99&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;running-edge&quot;, style);
                    // Success edge style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_CONNECTOR;
                    style[mxConstants.STYLE_ALIGN] = mxConstants.ALIGN_CENTER;
                    style[mxConstants.STYLE_VERTICAL_ALIGN] = mxConstants.ALIGN_MIDDLE;
                    style[mxConstants.STYLE_EDGE] = mxEdgeStyle.ElbowConnector;
                    style[mxConstants.STYLE_ENDARROW] = mxConstants.ARROW_CLASSIC;
                    style[mxConstants.STYLE_VERTICAL_LABEL_POSITION] = mxConstants.ALIGN_TOP;
                    style[mxConstants.STYLE_FONTSIZE] = &#x27;12&#x27;;
                    style[mxConstants.STYLE_ENDSIZE] = 2;
                    style[mxConstants.STYLE_ENDFILL] = 1;
                    style[mxConstants.STYLE_ROUNDED] = 1;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#648b30&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#8cc048&#x27;;
                    style[mxConstants.STYLE_STROKEWIDTH] = 2;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;success-edge&quot;, style);
                    //Label style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RECTANGLE;
                    style[mxConstants.STYLE_PERIMETER] = mxPerimeter.RectanglePerimeter;
                    style[mxConstants.STYLE_ALIGN] = mxConstants.ALIGN_CENTER;
                    style[mxConstants.STYLE_VERTICAL_ALIGN] = mxConstants.ALIGN_MIDDLE;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;black&#x27;;
                    style[mxConstants.STYLE_ROUNDED] = true;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;white&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;label&quot;, style);
                    //Ellipse style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_ELLIPSE;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_ELLIPSE;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;ellipse&quot;, style);
                    //invalid Ellipse style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_ELLIPSE;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_ELLIPSE;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#c75d62&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#db9699&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;invalid-ellipse&quot;, style);
                    //Success Ellipse style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_ELLIPSE;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_ELLIPSE;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#648b30&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#8cc048&#x27;;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;success-ellipse&quot;, style);
                    //Error Ellipse style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_ELLIPSE;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_ELLIPSE;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ff0f0f&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ff4a4a&#x27;;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;error-ellipse&quot;, style);
                    //Running Ellipse style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_ELLIPSE;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_ELLIPSE;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ffa500&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ffdb99&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;running-ellipse&quot;, style);
                    //Rhombus style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RHOMBUS;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;rhombus&quot;, style);
                    //Invalid Rhombus style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RHOMBUS;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#c75d62&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#db9699&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;invalid-rhombus&quot;, style);
                    //Running rhombus style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RHOMBUS;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ffa500&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ffdb99&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;running-rhombus&quot;, style);
                    //Success rhombus style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RHOMBUS;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#648b30&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#8cc048&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;success-rhombus&quot;, style);
                    //Error rhombus style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_RHOMBUS;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ff0f0f&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ff4a4a&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;error-rhombus&quot;, style);
                    //Cloud style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_CLOUD;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;cloud&quot;, style);
                    //Invalid Cloud style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_CLOUD;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#c75d62&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#db9699&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;invalid-cloud&quot;, style);
                    //Running Cloud style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_CLOUD;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ffa500&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ffdb99&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;running-cloud&quot;, style);
                    //Success Cloud style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_CLOUD;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#648b30&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#8cc048&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;success-cloud&quot;, style);
                    //Error Cloud style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_CLOUD;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_RHOMBUS;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ff0f0f&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ff4a4a&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;error-cloud&quot;, style);
                    //Hexagon style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_HEXAGON;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_HEXAGON;
                    style[mxConstants.STYLE_FONTCOLOR] = &#x27;black&#x27;;
                    style[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR] = &#x27;none&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;hexagon&quot;, style);
                    //Invalid hexagon style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_HEXAGON;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_HEXAGON;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#c75d62&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#db9699&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;invalid-hexagon&quot;, style);
                    //Running hexagon style
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_HEXAGON;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_HEXAGON;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ffa500&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ffdb99&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;running-hexagon&quot;, style);
                    //Succes hexagon
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_HEXAGON;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_HEXAGON;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#648b30&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#8cc048&#x27;;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;success-hexagon&quot;, style);
                    //Error hexagon
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_HEXAGON;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_HEXAGON;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#ff0f0f&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#ff4a4a&#x27;;
                    style[mxConstants.STYLE_STROKEWIDTH] = 4;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;error-hexagon&quot;, style);
                    //customized workflow
                    style = new Object();
                    style[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_HEXAGON;
                    style[mxConstants.STYLE_PERIMETER] = mxConstants.PERIMETER_HEXAGON;
                    style[mxConstants.STYLE_STROKECOLOR] = &#x27;#a462d6&#x27;;
                    style[mxConstants.STYLE_FILLCOLOR] = &#x27;#c79fe6&#x27;;
                    //style[mxConstants.STYLE_FONTCOLOR] = &#x27;white&#x27;;
                    this.editor.graph.getStylesheet().putCellStyle(&quot;customized-workflow&quot;, style);
                }
                initEditorTemplates() {
                    this.addEditorTemplate(&#x27;process&#x27;, &#x27;&lt;Process label=&quot;&#x27; + flexygo.localization.translate(&#x27;flxgipe.editortemplates.process&#x27;) + &#x27;&quot; description=&quot;&quot; fgid=&quot;&quot; &gt;&lt;mxCell style=&quot;invalid-rectangle&quot; vertex=&quot;1&quot; &gt;&lt;mxGeometry as=&quot;geometry&quot; width=&quot;108&quot; height=&quot;48&quot; /&gt;&lt;/mxCell&gt;&lt;/Process&gt;&#x27;);
                    this.addEditorTemplate(&#x27;object&#x27;, &#x27;&lt;Object label=&quot;&#x27; + flexygo.localization.translate(&#x27;flxgipe.editortemplates.object&#x27;) + &#x27;&quot; description=&quot;&quot; fgid=&quot;&quot;&gt;&lt;mxCell vertex=&quot;1&quot; style=&quot;invalid-ellipse&quot;&gt;&lt;mxGeometry as=&quot;geometry&quot; width=&quot;48&quot; height=&quot;48&quot; /&gt;&lt;/mxCell&gt;&lt;/Object&gt;&#x27;);
                    this.addEditorTemplate(&#x27;decission&#x27;, &#x27;&lt;Decission label=&quot;&#x27; + flexygo.localization.translate(&#x27;flxgipe.editortemplates.decission&#x27;) + &#x27;&quot; description=&quot;&quot; fgid=&quot;&quot;&gt;&lt;mxCell vertex= &quot;1&quot; style=&quot;invalid-rhombus&quot;&gt;&lt;mxGeometry as=&quot;geometry&quot; width=&quot;108&quot; height=&quot;48&quot; /&gt;&lt;/mxCell&gt;&lt;/Decission&gt;&#x27;);
                    this.addEditorTemplate(&#x27;event&#x27;, &#x27;&lt;Event label=&quot;&#x27; + flexygo.localization.translate(&#x27;flxgipe.editortemplates.event&#x27;) + &#x27;&quot; description=&quot;&quot; fgid=&quot;&quot;&gt;&lt;mxCell vertex= &quot;1&quot; style=&quot;invalid-cloud&quot;&gt;&lt;mxGeometry as=&quot;geometry&quot; width=&quot;108&quot; height=&quot;48&quot; /&gt;&lt;/mxCell&gt;&lt;/Event&gt;&#x27;);
                    this.addEditorTemplate(&#x27;label&#x27;, &#x27;&lt;Label label=&quot;&#x27; + flexygo.localization.translate(&#x27;flxgipe.editortemplates.label&#x27;) + &#x27;&quot; description=&quot;&quot;&gt;&lt;mxCell vertex= &quot;1&quot; style=&quot;label&quot; connectable=&quot;0&quot;&gt;&lt;mxGeometry as=&quot;geometry&quot; width=&quot;108&quot; height=&quot;48&quot; /&gt;&lt;/mxCell&gt;&lt;/Label&gt;&#x27;);
                    this.addEditorTemplate(&#x27;group&#x27;, &#x27;&lt;Group label=&quot;&quot; description=&quot;&quot; &gt;&lt;mxCell vertex=&quot;1&quot; style=&quot;group&quot; connectable=&quot;0&quot;/&gt;&lt;/Group&gt;&#x27;);
                    this.addEditorTemplate(&#x27;relation&#x27;, &#x27;&lt;Relation label=&quot;&quot; description=&quot;&quot;&gt;&lt;mxCell edge=&quot;1&quot;&gt;&lt;mxGeometry as=&quot;geometry&quot; relative=&quot;1&quot;/&gt;&lt;/mxCell&gt;&lt;/Relation&gt;&#x27;);
                    this.addEditorTemplate(&#x27;workflow&#x27;, &#x27;&lt;Workflow label=&quot;&#x27; + flexygo.localization.translate(&#x27;flxgipe.editortemplates.workflow&#x27;) + &#x27;&quot; description=&quot;&quot; fgid=&quot;&quot;&gt;&lt;mxCell vertex=&quot;1&quot; style=&quot;invalid-hexagon&quot; connectable=&quot;1&quot;&gt;&lt;mxGeometry as=&quot;geometry&quot; width=&quot;108&quot; height=&quot;108&quot;/&gt;&lt;/mxCell&gt;&lt;/Workflow&gt;&#x27;);
                }
                addEditorTemplate(name, xmlString) {
                    let doc = mxUtils.parseXml(xmlString);
                    let codec = new mxCodec(doc);
                    let template = codec.decodeCell(doc.documentElement);
                    this.editor.addTemplate(name, template);
                }
                initEditorPopupMenu() {
                    let self = this;
                    let graph = this.editor.graph;
                    // Installs context menu
                    graph.popupMenuHandler.factoryMethod = function (menu, cell, evt) {
                        self.popupCell = null;
                        if (self.currentExecutionId !== 0) {
                            return;
                        }
                        if (!cell) {
                            if (self.workflow !== null) {
                                menu.addItem(flexygo.localization.translate(&#x27;flxgipe.popupmenu.workflowproperties&#x27;), null, function () { self.showWorkflowProperties(); }, null, &quot;fa fa-gear&quot;);
                                menu.addSeparator();
                                cell = graph.getModel().cells[0];
                                menu.addItem(flexygo.localization.translate(&#x27;flxgipe.popupmenu.view&#x27;), null, function () { self.viewCell(cell); }, null, &quot;flx-icon icon-eye&quot;);
                                menu.addItem(flexygo.localization.translate(&#x27;flxgipe.popupmenu.listparams&#x27;), null, function () { self.listParamsCell(cell); }, null, &quot;flx-icon icon-bullet-list&quot;);
                            }
                            else {
                                return;
                            }
                        }
                        else {
                            let hasId = (cell.value.hasAttribute(&#x27;fgid&#x27;) &amp;&amp; cell.value.getAttribute(&#x27;fgid&#x27;).length &gt; 0);
                            menu.addItem(flexygo.localization.translate(&#x27;flxgipe.popupmenu.properties&#x27;), null, function () { self.showCellProperties(cell); }, null, &quot;fa fa-gear&quot;);
                            if (cell.value.localName.toLowerCase() === &#x27;workflow&#x27;) {
                                if (hasId) {
                                    menu.addItem(flexygo.localization.translate(&#x27;flxgipe.popupmenu.enter&#x27;), null, function () { self.goDown(); }, null, &quot;flx-icon icon-arrow-2&quot;);
                                    menu.addSeparator();
                                }
                            }
                            if (hasId) {
                                menu.addSeparator();
                                menu.addItem(flexygo.localization.translate(&#x27;flxgipe.popupmenu.view&#x27;), null, function () { self.viewCell(cell); }, null, &quot;flx-icon icon-eye&quot;);
                                if (cell.value.localName.toLowerCase() === &#x27;workflow&#x27; || cell.value.localName.toLowerCase() === &#x27;process&#x27; || cell.value.localName.toLowerCase() === &#x27;decission&#x27;) {
                                    menu.addItem(flexygo.localization.translate(&#x27;flxgipe.popupmenu.listparams&#x27;), null, function () { self.listParamsCell(cell); }, null, &quot;flx-icon icon-bullet-list&quot;);
                                }
                            }
                            else {
                                menu.addSeparator();
                                menu.addItem(flexygo.localization.translate(&#x27;flxgipe.popupmenu.new&#x27;), null, function () { self.newCell(cell); }, null, &quot;flx-icon icon-new&quot;);
                            }
                            //menu.addItem(&#x27;Edit&#x27;, null, function () { self.editCell(cell); }, null, &quot;fa fa-gear&quot;);
                        }
                        //menu.addSeparator();
                        //var submenu1 = menu.addItem(&#x27;Submenu 1&#x27;, null, null);
                        //menu.addItem(&#x27;Subitem 1&#x27;, null, function () {
                        //    alert(&#x27;Subitem 1&#x27;);
                        //}, submenu1);
                    };
                }
                initEditorToolbar() {
                    var container = document.getElementById(&quot;gipetoolbar&quot;);
                    var toolbar = new mxDefaultToolbar(container, this.editor);
                    let btn = null;
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;new&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;flx-icon icon-new&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.new&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;open&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-folder-open&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.open&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;save&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-save&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.save&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;generate&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-arrow-circle-o-right&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.generate&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;run&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;flx-icon icon-arrow-head-3&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.run&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;debug&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-play-circle&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.debug&#x27;));
                    toolbar.addSeparator();
                    this.versionCombo = toolbar.addCombo();
                    $(this.versionCombo).on(&#x27;click&#x27;, (e) =&gt; {
                        let val = $(this.versionCombo).val();
                        if (val &amp;&amp; val !== &#x27;&#x27;) {
                            if (val != this.workflow.Version) {
                                this.loadWorkflow(this.workflow.WorkflowId, val, false);
                            }
                        }
                    });
                    toolbar.addSeparator();
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;up&quot;);
                    btn.setAttribute(&quot;data-action&quot;, &quot;up&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-expand&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.up&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;down&quot;);
                    btn.setAttribute(&quot;data-action&quot;, &quot;down&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-compress&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.down&#x27;));
                    toolbar.addSeparator();
                    btn = toolbar.addMode(&quot;&quot;, null, &quot;select&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-mouse-pointer&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.select&#x27;));
                    btn = toolbar.addMode(&quot;&quot;, null, &quot;pan&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-hand-pointer-o&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.pan&#x27;));
                    toolbar.addSeparator();
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;undo&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-undo&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.undo&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;redo&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-repeat&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.redo&#x27;));
                    toolbar.addSeparator();
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;cut&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-cut&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.cut&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;copy&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-copy&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.copy&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;paste&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-paste&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.paste&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;delete&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-times-circle&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.delete&#x27;));
                    toolbar.addSeparator();
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;group&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa fa-object-group&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.group&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;ungroup&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa fa-object-ungroup&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.ungroup&#x27;));
                    toolbar.addSeparator();
                    //var combo = toolbar.addActionCombo(&#x27;More actions...&#x27;);
                    //toolbar.addActionOption(combo, &#x27;Paste&#x27;, &#x27;paste&#x27;);
                    toolbar.addPrototype(flexygo.localization.translate(&#x27;flxgipe.editortoolbar.label&#x27;), &quot;js/plugins/mxgraph/images/text.gif&quot;, this.editor.templates[&quot;label&quot;]);
                    toolbar.addPrototype(flexygo.localization.translate(&#x27;flxgipe.editortoolbar.workflow&#x27;), &quot;js/plugins/mxgraph/images/hexagon.gif&quot;, this.editor.templates[&quot;workflow&quot;]);
                    toolbar.addPrototype(flexygo.localization.translate(&#x27;flxgipe.editortoolbar.object&#x27;), &quot;js/plugins/mxgraph/images/ellipse.gif&quot;, this.editor.templates[&quot;object&quot;]);
                    toolbar.addPrototype(flexygo.localization.translate(&#x27;flxgipe.editortoolbar.process&#x27;), &quot;js/plugins/mxgraph/images/rectangle.gif&quot;, this.editor.templates[&quot;process&quot;]);
                    toolbar.addPrototype(flexygo.localization.translate(&#x27;flxgipe.editortoolbar.decission&#x27;), &quot;js/plugins/mxgraph/images/rhombus.gif&quot;, this.editor.templates[&quot;decission&quot;]);
                    toolbar.addPrototype(flexygo.localization.translate(&#x27;flxgipe.editortoolbar.event&#x27;), &quot;js/plugins/mxgraph/images/cloud.gif&quot;, this.editor.templates[&quot;event&quot;]);
                    toolbar.addMode(flexygo.localization.translate(&#x27;flxgipe.editortoolbar.connect&#x27;), &quot;js/plugins/mxgraph/images/connect.gif&quot;, &quot;connect&quot;);
                    toolbar.addSeparator();
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;fit&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-square-o&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.fit&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;zoomIn&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-search-plus&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.zoomin&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;zoomOut&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-search-minus&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.zoomout&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;actualSize&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-search&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.actualsize&#x27;));
                    toolbar.addSeparator();
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;templates&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-tasks&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.templates&#x27;));
                    btn = toolbar.addItem(&quot;&quot;, null, &quot;properties&quot;);
                    $(btn).append(&#x27;&lt;i class=&quot;fa fa-gear&quot; /&gt;&#x27;).attr(&quot;title&quot;, flexygo.localization.translate(&#x27;flxgipe.editortoolbar.properties&#x27;));
                    $(btn).attr(&quot;data-btn&quot;, &quot;properties&quot;);
                }
                initEditorKeyHandler() {
                    //https://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes
                    this.editor.keyHandler.bindAction(8, &quot;collapse&quot;); //backspace
                    this.editor.keyHandler.bindAction(13, &quot;expand&quot;); //enter
                    this.editor.keyHandler.bindAction(33, &quot;exitGroup&quot;);
                    this.editor.keyHandler.bindAction(34, &quot;enterGroup&quot;);
                    this.editor.keyHandler.bindAction(35, &quot;refresh&quot;); //end
                    this.editor.keyHandler.bindAction(36, &quot;home&quot;); //home
                    this.editor.keyHandler.bindAction(37, &quot;selectPrevious&quot;);
                    this.editor.keyHandler.bindAction(38, &quot;selectParent&quot;);
                    this.editor.keyHandler.bindAction(40, &quot;selectChild&quot;);
                    this.editor.keyHandler.bindAction(39, &quot;selectNext&quot;);
                    this.editor.keyHandler.bindAction(46, &quot;delete&quot;); //delete
                    this.editor.keyHandler.bindAction(113, &quot;edit&quot;);
                    this.editor.keyHandler.bindAction(107, &quot;zoomIn&quot;); //add
                    this.editor.keyHandler.bindAction(109, &quot;zoomOut&quot;); //substract
                    this.editor.keyHandler.bindAction(65, &quot;selectAll&quot;, true); //Ctrl+A
                    this.editor.keyHandler.bindAction(90, &quot;undo&quot;, true); //Ctrl+Z
                    this.editor.keyHandler.bindAction(89, &quot;redo&quot;, true); //Ctrol+Y
                    this.editor.keyHandler.bindAction(88, &quot;cut&quot;, true);
                    this.editor.keyHandler.bindAction(67, &quot;copy&quot;, true);
                    this.editor.keyHandler.bindAction(86, &quot;paste&quot;, true);
                    this.editor.keyHandler.bindAction(71, &quot;group&quot;, true);
                    this.editor.keyHandler.bindAction(85, &quot;ungroup&quot;, true);
                    this.editor.keyHandler.bindAction(115, &quot;showProperties&quot;); //f4
                    //this.editor.keyHandler.bindAction(123, &quot;showProperties&quot;); F12
                }
                initEditorMouseHandler() {
                    let editor = this.editor;
                    mxEvent.addMouseWheelListener((evt, up) =&gt; {
                        if (!mxEvent.isConsumed(evt)) {
                            let consume = false;
                            let elem = evt.srcElement;
                            while (elem) {
                                if (elem.hasAttribute(&quot;id&quot;)) {
                                    if (elem.getAttribute(&quot;id&quot;) === &quot;gipegraph&quot;) {
                                        consume = true;
                                        elem = null;
                                    }
                                }
                                if (elem) {
                                    elem = elem.parentElement;
                                }
                            }
                            if (consume) {
                                if (up) {
                                    editor.execute(&#x27;zoomIn&#x27;);
                                }
                                else {
                                    editor.execute(&#x27;zoomOut&#x27;);
                                }
                                mxEvent.consume(evt);
                            }
                        }
                    });
                }
                doDropTemplate(ui) {
                    let type = parseInt(ui.draggable.attr(&quot;data-type&quot;));
                    let id = ui.draggable.attr(&quot;data-id&quot;);
                    let descrip = ui.draggable.attr(&quot;data-descrip&quot;);
                    let style = null;
                    let value = null;
                    let w;
                    let h;
                    switch (type) {
                        case 1:
                            style = &#x27;ellipse&#x27;;
                            w = 48;
                            h = 48;
                            value = this.editor.templates[&quot;object&quot;].value.cloneNode(true);
                            break;
                        case 2:
                            style = &#x27;rounded&#x27;;
                            w = 108;
                            h = 48;
                            value = this.editor.templates[&quot;process&quot;].value.cloneNode(true);
                            break;
                        case 3:
                            style = &#x27;rhombus&#x27;;
                            w = 108;
                            h = 48;
                            value = this.editor.templates[&quot;decission&quot;].value.cloneNode(true);
                            break;
                        case 4:
                            style = &#x27;hexagon&#x27;;
                            w = 108;
                            h = 108;
                            value = this.editor.templates[&quot;workflow&quot;].value.cloneNode(true);
                            break;
                        case 5:
                            style = &#x27;cloud&#x27;;
                            w = 108;
                            h = 48;
                            value = this.editor.templates[&quot;event&quot;].value.cloneNode(true);
                            break;
                        case 6:
                            style = &#x27;label&#x27;;
                            w = 108;
                            h = 48;
                            value = this.editor.templates[&quot;label&quot;].value.cloneNode(true);
                            break;
                    }
                    if (type &amp;&amp; style &amp;&amp; id) {
                        let parent = this.editor.graph.getDefaultParent();
                        this.editor.graph.getModel().beginUpdate();
                        try {
                            let x = ui.position.left - $(&#x27;#gipegraph&#x27;).position().left;
                            if (x &lt; 0)
                                x = 0;
                            let y = ui.position.top - $(&#x27;#gipegraph&#x27;).position().top;
                            if (y &lt; 0)
                                y = 0;
                            value.setAttribute(&quot;fgid&quot;, id);
                            value.setAttribute(&quot;label&quot;, descrip);
                            let v = this.editor.graph.insertVertex(parent, null, value, x, y, w, h, style);
                        }
                        finally {
                            // Updates the display
                            this.editor.graph.getModel().endUpdate();
                        }
                    }
                }
                setGraphSize() {
                    let module = $(this).closest(&#x27;flx-module&#x27;);
                    let height = 0;
                    let toolbarHeight = module.find(&#x27;#gipetoolbar&#x27;).outerHeight();
                    if (toolbarHeight &lt; 35) {
                        toolbarHeight = 35;
                    }
                    let graphMargin = ($(&#x27;#gipegraph&#x27;).outerHeight(true) - $(&#x27;#gipegraph&#x27;).outerHeight());
                    if (module.hasClass(&quot;fullscreen&quot;)) {
                        let moduleHeight = module.outerHeight();
                        height = moduleHeight - toolbarHeight - graphMargin;
                    }
                    else {
                        let doubleMargin = 2 * ($(&#x27;#realMain&#x27;).outerHeight(true) - $(&#x27;#realMain&#x27;).outerHeight());
                        let headerHeight = module.find(&#x27;.cntHeader&#x27;).outerHeight();
                        let contentHeight = $(&#x27;#mainContent&#x27;).height();
                        height = contentHeight - doubleMargin - headerHeight - toolbarHeight - graphMargin;
                    }
                    $(this).find(&quot;#gipegraph&quot;).height(height);
                }
                /**
                * Refresh the webcomponent. REQUIRED.
                * @method refresh
                */
                refresh() {
                    this.render();
                }
                /**
                * Opens upper workflow
                * @method goUp
                */
                goUp(level) {
                    let exec = () =&gt; {
                        while (this.workflowStack.length &gt; level) {
                            this.workflow = this.workflowStack.pop();
                        }
                        this.loadWorkflow(this.workflow.WorkflowId, this.workflow.Version, false);
                    };
                    if (this.workflowStack &amp;&amp; this.workflowStack.length &gt; 0) {
                        if (this.editor.isModified() === true) {
                            flexygo.msg.confirm(flexygo.localization.translate(&#x27;flxgipe.confirmunsavedchanges&#x27;), (ret) =&gt; {
                                if (ret === true) {
                                    exec();
                                }
                            });
                        }
                        else {
                            exec();
                        }
                    }
                }
                /**
                * Opens lower workflow
                * @method goDown
                */
                goDown() {
                    let selected = this.editor.graph.getSelectionCells();
                    if (selected &amp;&amp; selected.length === 1) {
                        let cell = selected[0];
                        if (cell.value &amp;&amp; cell.value.localName === &#x27;Workflow&#x27;) {
                            let wfid = cell.value.getAttribute(&#x27;fgid&#x27;);
                            if (this.editor.isModified() === true) {
                                flexygo.msg.confirm(flexygo.localization.translate(&#x27;flxgipe.confirmunsavedchanges&#x27;), (ret) =&gt; {
                                    if (ret === true) {
                                        this.loadWorkflow(wfid, -1, true);
                                    }
                                });
                            }
                            else {
                                this.loadWorkflow(wfid, -1, true);
                            }
                        }
                    }
                }
                /**
                * Runs the current workflow
                * @method runWorkflow
                */
                runWorkflow() {
                    if (!this.workflow) {
                        flexygo.msg.error(flexygo.localization.translate(&#x27;flxgipe.errornoworkflowselected&#x27;), null, flexygo.localization.translate(&#x27;flxgipe.dialogruntitle&#x27;));
                        return;
                    }
                    //flexygo.nav.execProcess(this.workflow.WorkflowId, null, null, null, null, &#x27;current&#x27;, false, $(this));
                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;runWorkflow&#x27;, { workflowId: this.workflow.WorkflowId, version: this.workflow.Version }, (ret) =&gt; {
                    });
                }
                /**
               * Runs the current workflow in debug mode
               * @method startDebugWorkflow
               */
                startDebugWorkflow() {
                    if (!this.workflow) {
                        flexygo.msg.error(flexygo.localization.translate(&#x27;flxgipe.errornoworkflowselected&#x27;), null, flexygo.localization.translate(&#x27;flxgipe.dialogruntitle&#x27;));
                        return;
                    }
                    if (this.currentExecutionId !== 0) {
                        flexygo.msg.error(flexygo.localization.translate(&#x27;flxgipe.errorallreadydebugging&#x27;), null, flexygo.localization.translate(&#x27;flxgipe.dialogruntitle&#x27;));
                        return;
                    }
                    if (!this.debugDialog) {
                        this.openDebugDialog();
                    }
                    $(this.debugDialog.content).find(&#x27;button[name=&quot;dbg-stepinto&quot;]&#x27;).prop(&#x27;disabled&#x27;, true);
                    $(this.debugDialog.content).find(&#x27;button[name=&quot;dbg-stepover&quot;]&#x27;).prop(&#x27;disabled&#x27;, true);
                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;debugWorkflow&#x27;, { workflowId: this.workflow.WorkflowId, version: this.workflow.Version, executionId: this.currentExecutionId, stepOver: false }, (execId) =&gt; {
                        var tree = $(&#x27;#gipe-debug-tree&#x27;);
                        let mainNode = {
                            text: this.workflow.Descrip,
                            icon: &quot;flx-icon flx-icon-share&quot;
                        };
                        $.jstree.defaults.core.data = mainNode;
                        $(tree).jstree();
                        this.debugStack = [];
                        this.workflow.ExecutionId = execId;
                        this.debugWorkflow = this.workflow;
                        this.currentExecutionId = execId;
                        this.debugWorkflow.WorkflowData = this.editor.writeGraphModel(null);
                        this.debugStack.push(this.debugWorkflow);
                        this.updateToolbarStatus();
                        this.onDebugStepChanged();
                    });
                }
                /**
                * Open the workflow load dialog
                * @method openLoadDialog
                */
                openLoadDialog() {
                    let content = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
                    let areaFilter = &quot;&quot;;
                    let moduleFilter = &quot;&quot;;
                    let workflowFilter = &quot;&quot;;
                    let loadTemplate = &#x60;
                &lt;div class=&quot;col-12&quot; style=&quot;position:relative&quot;&gt;
                    &lt;label class=&quot;control-label &quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelarea&#x27;)}&lt;/label&gt;
                    &lt;flx-dbcombo name=&quot;areaId&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;areasView&quot; SQLValueField=&quot;WorkflowAreaId&quot; SQLDisplayField=&quot;Descrip&quot; placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflowareaplaceholder&#x27;)}&quot;/&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelmodule&#x27;)}&lt;/label&gt;
                    &lt;flx-dbcombo name=&quot;moduleId&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;modulesView&quot; SQLValueField=&quot;WorkflowModuleId&quot; SQLDisplayField=&quot;Descrip&quot;  placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflowmoduleplaceholder&#x27;)}&quot;/&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelname&#x27;)}&lt;/label&gt;
                    &lt;flx-dbcombo name=&quot;workflowid&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;defaultWorkflowView&quot; SQLValueField=&quot;WorkflowId&quot; SQLDisplayField=&quot;Descrip&quot;  placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflownameplaceholder&#x27;)}&quot;/&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelversion&#x27;)}&lt;/label&gt;
                    &lt;flx-dbcombo name=&quot;version&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;versionsView&quot; SQLValueField=&quot;Version&quot; SQLDisplayField=&quot;Descrip&quot; additionalWhere =&quot;1=0&quot; placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflowversionplaceholder&#x27;)}&quot;/&gt;
                &lt;/div&gt;
                &lt;div class=&quot;fgWindowToolbar&quot;&gt;
                    &lt;button class=&quot;btn btn-sm bg-info loadButton&quot;&gt;&lt;i class=&quot;flx-icon icon-load&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttonload&#x27;)}&lt;/button&gt;
                    &lt;button class=&quot;btn btn-sm bg-danger closeButton&quot;&gt;&lt;i class=&quot;flx-icon icon-remove&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttoncancel&#x27;)}&lt;/button&gt;
                &lt;/div&gt;
            &#x60;;
                    content.append(loadTemplate);
                    let cboArea = content.find(&#x27;flx-dbcombo[name=&quot;areaId&quot;]&#x27;)[0];
                    let cboModule = content.find(&#x27;flx-dbcombo[name=&quot;moduleId&quot;]&#x27;)[0];
                    let cboWorkflow = content.find(&#x27;flx-dbcombo[name=&quot;workflowid&quot;]&#x27;)[0];
                    let cboVersion = content.find(&#x27;flx-dbcombo[name=&quot;version&quot;]&#x27;)[0];
                    $(cboArea).on(&#x27;change&#x27;, (e) =&gt; {
                        let val = cboArea.getValue();
                        if (val &amp;&amp; val.length &gt; 0) {
                            areaFilter = &quot;areaId=&#x27;&quot; + val + &quot;&#x27;&quot;;
                        }
                        else {
                            areaFilter = &quot;&quot;;
                        }
                        cboWorkflow.additionalWhere = this.concatWhere(areaFilter, moduleFilter);
                        cboWorkflow.setValue(&quot;&quot;);
                        cboWorkflow.refresh();
                    });
                    $(cboModule).on(&#x27;change&#x27;, (e) =&gt; {
                        let val = cboModule.getValue();
                        if (val &amp;&amp; val.length &gt; 0) {
                            moduleFilter = &quot;moduleId=&#x27;&quot; + val + &quot;&#x27;&quot;;
                        }
                        else {
                            moduleFilter = &quot;&quot;;
                        }
                        cboWorkflow.additionalWhere = this.concatWhere(areaFilter, moduleFilter);
                        cboWorkflow.setValue(&quot;&quot;);
                        cboWorkflow.refresh();
                    });
                    $(cboWorkflow).on(&#x27;change&#x27;, (e) =&gt; {
                        let val = e.currentTarget.getValue();
                        if (val &amp;&amp; val.length &gt; 0) {
                            workflowFilter = &quot;workflowId=&#x27;&quot; + val + &quot;&#x27;&quot;;
                        }
                        else {
                            workflowFilter = &quot;&quot;;
                        }
                        cboVersion.additionalWhere = workflowFilter;
                        cboVersion.refresh();
                        flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;getActiveVersion&#x27;, { workflowId: val }, (ret) =&gt; {
                            if (ret &amp;&amp; ret.length &gt; 0) {
                                cboVersion.setValue(ret);
                            }
                        });
                    });
                    let wnd = new mxWindow(flexygo.localization.translate(&#x27;flxgipe.dialogloadtitle&#x27;), content[0], (window.outerWidth / 2) - 150, (window.outerHeight / 2) - 200, 300, 400, false, true, null, &quot;fgWindow&quot;);
                    wnd.setMaximizable(false);
                    wnd.setScrollable(true);
                    wnd.setResizable(false);
                    wnd.setClosable(true);
                    wnd.setVisible(true);
                    content.find(&quot;button.loadButton&quot;).on(&quot;click&quot;, (e) =&gt; {
                        let id = cboWorkflow.getValue();
                        if (!id) {
                            flexygo.msg.error(flexygo.localization.translate(&#x27;flxgipe.errornoworkflowselected&#x27;), null, flexygo.localization.translate(&#x27;flxgipe.dialogloadtitle&#x27;));
                        }
                        else {
                            let ver = cboVersion.getValue();
                            if ((!ver) || (ver &amp;&amp; ver.length === 0)) {
                                flexygo.msg.error(flexygo.localization.translate(&#x27;flxgipe.errornoversionselected&#x27;), null, flexygo.localization.translate(&#x27;flxgipe.dialogloadtitle&#x27;));
                            }
                            else {
                                this.workflowStack = [];
                                this.loadWorkflow(id, parseInt(ver));
                                wnd.destroy();
                            }
                        }
                    });
                    content.find(&quot;button.closeButton&quot;).on(&quot;click&quot;, (e) =&gt; {
                        wnd.destroy();
                    });
                    wnd.addListener(mxEvent.DESTROY, (sender, object) =&gt; {
                        this.destroyDialog();
                    });
                    this.showDialog(wnd);
                }
                /**
                * Sets a window as the current dialog
                * @method showDialog
                */
                showDialog(window) {
                    this.dialog = window;
                    this.updateToolbarStatus();
                }
                /**
               * Sets a window as the current properties dialog
               * @method showPropertiesDialog
               */
                showPropertiesDialog(window) {
                    this.propertiesDialog = window;
                    this.updateToolbarStatus();
                }
                /**
                * Sets a window as the current debug dialog
                * @method showDebugDialog
                */
                showDebugDialog(window) {
                    this.debugDialog = window;
                    this.updateToolbarStatus();
                }
                /**
                * Set nothing as the current dialog
                * @method destroyDialog
                */
                destroyDialog() {
                    this.dialog = null;
                    this.updateToolbarStatus();
                }
                /**
               * Set nothing as the current properties dialog
               * @method destroyPropertiesDialog
               */
                destroyPropertiesDialog() {
                    this.propertiesDialog = null;
                    this.updateToolbarStatus();
                }
                /**
                * Set nothing as the current debug dialog
                * @method destroyPropertiesDialog
                */
                destroyDebugDialog() {
                    this.debugDialog = null;
                    this.updateToolbarStatus();
                }
                /**
                 * Loads and display a saved workflow
                 * @method loadWorkflow
                 */
                loadWorkflow(id, version, pushCurrent) {
                    let params = {
                        workflowId: id,
                        version: version
                    };
                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;loadWorkflow&#x27;, params, (ret) =&gt; {
                        if (ret) {
                            if (pushCurrent === true) {
                                this.workflowStack.push(this.workflow);
                            }
                            this.workflow = ret;
                            this.render();
                        }
                    });
                }
                /**
                * Loads and display a saved workflow in debug mode
                * @method loadWorkflow
                */
                loadDebugWorkflow(id, version, newExecutionId, debugInfo) {
                    let stackIndex = -1;
                    this.debugStack.forEach((w, i) =&gt; {
                        if (w.ExecutionId === newExecutionId) {
                            stackIndex = i;
                            return false;
                        }
                    });
                    //Store current graphic
                    let currentIndex = -1;
                    this.debugStack.forEach((w, i) =&gt; {
                        if (w.ExecutionId === this.debugWorkflow.ExecutionId) {
                            currentIndex = i;
                            return false;
                        }
                    });
                    if (currentIndex === -1) {
                        flexygo.msg.error(&#x27;Current workflow not found on debug stack&#x27;);
                        return;
                    }
                    else {
                        //Save current graphic
                        this.debugStack[currentIndex].WorkflowData = this.editor.writeGraphModel(null);
                    }
                    if (stackIndex === -1) {
                        let params = {
                            workflowId: id,
                            version: version
                        };
                        flexygo.ajax.syncPost(&#x27;~/api/Gipe&#x27;, &#x27;loadWorkflow&#x27;, params, (ret) =&gt; {
                            this.debugWorkflow = ret;
                            this.debugWorkflow.ExecutionId = newExecutionId;
                            this.debugStack.push(this.debugWorkflow);
                        });
                    }
                    else {
                        this.debugWorkflow = this.debugStack[stackIndex];
                    }
                    this.render();
                    this.updateDebugInfo(debugInfo);
                }
                /**
               * Open the workflow save dialog
               * @method openSaveDialog
               */
                openSaveDialog() {
                    let content = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
                    let current = (this.workflow) ? this.workflow : { WorkflowId: &#x27;&#x27;, ModuleId: &#x27;&#x27;, AreaId: &#x27;&#x27;, Descrip: &#x27;New workflow&#x27;, Version: 1, WorkflowData: null, Active: true, Versions: [] };
                    let saveTemplate = &#x60;
                &lt;div class=&quot;col-12&quot; style=&quot;position:relative&quot;&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelarea&#x27;)}&lt;/label&gt;
                    &lt;flx-dbcombo name=&quot;dbc-areaid&quot; value=&quot;${current.AreaId}&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;areasView&quot; SQLValueField=&quot;WorkflowAreaId&quot; SQLDisplayField=&quot;Descrip&quot; placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflowareaplaceholder&#x27;)}&quot;/&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelmodule&#x27;)}&lt;/label&gt;
                    &lt;flx-dbcombo name=&quot;dbc-moduleid&quot; value=&quot;${current.ModuleId}&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;modulesView&quot; SQLValueField=&quot;WorkflowModuleId&quot; SQLDisplayField=&quot;Descrip&quot;  placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflowmoduleplaceholder&#x27;)}&quot;/&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelname&#x27;)}&lt;/label&gt;
                    &lt;flx-text name=&quot;dbc-wfid&quot; value=&quot;${current.WorkflowId}&quot; ${(current.WorkflowId.length &gt; 0) ? &#x27;disabled=&quot;true&quot;&#x27; : &#x27;&#x27;}/&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labeldescrip&#x27;)}&lt;/label&gt;
                    &lt;flx-text name=&quot;dbc-wfdescrip&quot; value=&quot;${this.htmlEncode(current.Descrip)}&quot; placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflownameplaceholder&#x27;)}&quot; /&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelactive&#x27;)}&lt;/label&gt;
                    &lt;flx-check name=&quot;dbc-wfactive&quot; ${(current.Active &amp;&amp; current.Active === true) ? &#x27;checked&#x27; : &#x27;&#x27;}&gt;&lt;/flx-check&gt;
                &lt;/div&gt;
                &lt;div class=&quot;fgWindowToolbar&quot;&gt;
                    &lt;button class=&quot;btn btn-sm bg-info saveButton&quot;&gt;&lt;i class=&quot;flx-icon icon-save&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttonsave&#x27;)}&lt;/button&gt;
                    &lt;button class=&quot;btn btn-sm bg-danger closeButton&quot;&gt;&lt;i class=&quot;flx-icon icon-remove&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttoncancel&#x27;)}&lt;/button&gt;
                &lt;/div&gt;
            &#x60;;
                    content.append(saveTemplate);
                    let wnd = new mxWindow(flexygo.localization.translate(&#x27;flxgipe.dialogsavetitle&#x27;), content[0], (window.outerWidth / 2) - 150, (window.outerHeight / 2) - 200, 300, 400, false, true, null, &quot;fgWindow&quot;);
                    wnd.setMaximizable(false);
                    wnd.setScrollable(true);
                    wnd.setResizable(false);
                    wnd.setClosable(true);
                    wnd.setVisible(true);
                    content.find(&quot;button.saveButton&quot;).on(&quot;click&quot;, (e) =&gt; {
                        current.WorkflowId = content.find(&#x27;[name=&quot;dbc-wfid&quot;]&#x27;)[0].getValue();
                        current.Descrip = content.find(&#x27;[name=&quot;dbc-wfdescrip&quot;]&#x27;)[0].getValue();
                        current.ModuleId = content.find(&#x27;[name=&quot;dbc-moduleid&quot;]&#x27;)[0].getValue();
                        current.AreaId = content.find(&#x27;[name=&quot;dbc-areaid&quot;]&#x27;)[0].getValue();
                        current.Active = content.find(&#x27;[name=&quot;dbc-wfactive&quot;]&#x27;)[0].getValue();
                        let wf = this.editor.graph.getModel().cells[0].value;
                        wf.setAttribute(&quot;fgid&quot;, current.WorkflowId);
                        wf.setAttribute(&quot;description&quot;, current.Descrip);
                        current.WorkflowData = this.editor.writeGraphModel(null);
                        flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;saveWorkflow&#x27;, current, (ret) =&gt; {
                            if (ret) {
                                flexygo.msg.success(flexygo.localization.translate(&#x27;flxgipe.messages.workflowsaved&#x27;));
                                wnd.destroy();
                                this.workflow = ret;
                                this.render();
                            }
                        });
                    });
                    content.find(&quot;button.closeButton&quot;).on(&quot;click&quot;, (e) =&gt; {
                        wnd.destroy();
                    });
                    wnd.addListener(mxEvent.DESTROY, (sender, object) =&gt; {
                        this.destroyDialog();
                    });
                    this.showDialog(wnd);
                }
                /**
                * Clears the workflow and edit new workflow
                * @method newWorkflow
                */
                newWorkflow() {
                    this.workflow = null;
                    this.workflowStack = [];
                    this.debugStack = [];
                    this.render();
                }
                /**
                 * Generates the workflow
                 * @method generateWorkflow
                */
                generateWorkflow() {
                    if (!(this.workflow &amp;&amp; this.workflow.WorkflowId &amp;&amp; this.workflow.WorkflowId.length &gt; 0)) {
                        flexygo.msg.error(flexygo.localization.translate(&#x27;flxgipe.messages.savefirst&#x27;));
                        return;
                    }
                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;generateWorkflow&#x27;, { workflowId: this.workflow.WorkflowId, Version: this.workflow.Version }, (ret) =&gt; {
                        if (ret &amp;&amp; ret === true) {
                            flexygo.msg.success(flexygo.localization.translate(&#x27;flxgipe.messages.workflowgenerated&#x27;));
                        }
                    });
                }
                /**
                * Open the templates dialog
                * @method openTemplateDialog
                */
                openTemplateDialog() {
                    let filterContent = $(&#x27;&lt;tr&gt;&lt;/tr&gt;&#x27;);
                    let listContent = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
                    this.templateFilter = {
                        name: &#x27;&#x27;,
                        areaId: null,
                        originId: null,
                        objects: true,
                        processes: true,
                        decissions: true,
                        workflows: true,
                        events: true
                    };
                    let filterTemplae = &#x60;
                &lt;div id=&quot;GipeTemplateDialogPanel&quot; class=&quot;col-12&quot;&gt;
                    &lt;div class=&quot;templateFilterPanel&quot; style=&quot;position:relative&quot;&gt;
                        &lt;flx-dbcombo id=&quot;gcp-tf-cbo-area&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;areasView&quot; SQLValueField=&quot;WorkflowAreaId&quot; SQLDisplayField=&quot;Descrip&quot; placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflowareaplaceholder&#x27;)}&quot;/&gt;
                        &lt;flx-dbcombo id=&quot;gcp-tf-cbo-origin&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;originsView&quot; SQLValueField=&quot;OriginId&quot; SQLDisplayField=&quot;Descrip&quot; placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workfloworiginplaceholder&#x27;)}&quot;/&gt;
                        &lt;div class=&quot;col-12 templateFilterPanelButtons&quot;&gt;
                            &lt;button id=&quot;gcp-tf-btn-object&quot; type=&quot;button&quot; title=&quot;${flexygo.localization.translate(&#x27;flxgipe.editortemplates.object&#x27;)}&quot; class=&quot;btn btn-lg active&quot; aria-pressed=&quot;true&quot; data-toggle=&quot;button&quot;&gt;
                              &lt;i class=&quot;flx-icon icon-object&quot;&gt;&lt;/i&gt;
                            &lt;/button&gt;
                            &lt;button id=&quot;gcp-tf-btn-process&quot; type=&quot;button&quot; title=&quot;${flexygo.localization.translate(&#x27;flxgipe.editortemplates.process&#x27;)}&quot; class=&quot;btn btn-lg active&quot; aria-pressed=&quot;true&quot; data-toggle=&quot;button&quot;&gt;
                              &lt;i class=&quot;flx-icon icon-process&quot;&gt;&lt;/i&gt;
                            &lt;/button&gt;
                            &lt;button id=&quot;gcp-tf-btn-decission&quot; type=&quot;button&quot; title=&quot;${flexygo.localization.translate(&#x27;flxgipe.editortemplates.decission&#x27;)}&quot; class=&quot;btn btn-lg active&quot; aria-pressed=&quot;true&quot; data-toggle=&quot;button&quot;&gt;
                              &lt;i class=&quot;flx-icon icon-expand&quot;&gt;&lt;/i&gt;
                            &lt;/button&gt;
                            &lt;button id=&quot;gcp-tf-btn-workflow&quot; type=&quot;button&quot; title=&quot;${flexygo.localization.translate(&#x27;flxgipe.editortemplates.workflow&#x27;)}&quot; class=&quot;btn btn-lg active&quot; aria-pressed=&quot;true&quot; data-toggle=&quot;button&quot;&gt;
                              &lt;i class=&quot;flx-icon icon-flow-chart&quot;&gt;&lt;/i&gt;
                            &lt;/button&gt;
                            &lt;button id=&quot;gcp-tf-btn-event&quot; type=&quot;button&quot; title=&quot;${flexygo.localization.translate(&#x27;flxgipe.editortemplates.event&#x27;)}&quot; class=&quot;btn btn-lg active&quot; aria-pressed=&quot;true&quot; data-toggle=&quot;button&quot;&gt;
                              &lt;i class=&quot;flx-icon icon-wifi&quot;&gt;&lt;/i&gt;
                            &lt;/button&gt;
                            &lt;button id=&quot;gcp-tf-btn-all&quot; type=&quot;button&quot; title=&quot;${flexygo.localization.translate(&#x27;flxgipe.editortemplates.toggleall&#x27;)}&quot; class=&quot;btn btn-lg active&quot; aria-pressed=&quot;true&quot; data-toggle=&quot;button&quot;&gt;
                              &lt;i class=&quot;flx-icon icon-select&quot;&gt;&lt;/i&gt;
                            &lt;/button&gt;
                        &lt;/div&gt;
                        &lt;flx-text id=&quot;gcp-tf-txt-name&quot; class=&quot;searchInput&quot; placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.searchtemplates&#x27;)}&quot; iconclass=&quot;flx-icon icon-search&quot; /&gt;
                    &lt;/div&gt;
                    
                &lt;/div&gt;&#x60;;
                    let contentTemplate = &#x60;
                    &lt;div style=&quot;clear:both&quot;&gt;
                    &lt;/div&gt;
                    &lt;div id=&quot;GipeTemplateList&quot;&gt;
                        &lt;ul class=&quot;connectedSortable&quot;&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
            &#x60;;
                    filterContent.append(filterTemplae);
                    listContent.append(contentTemplate);
                    filterContent.find(&#x27;#gcp-tf-cbo-area&#x27;).off(&#x27;change&#x27;).on(&#x27;change&#x27;, (e) =&gt; {
                        let cbo = $(e.currentTarget);
                        this.templateFilter.areaId = (cbo.val() &amp;&amp; cbo.val().length &gt; 0) ? cbo.val() : null;
                        this.updateTemplateFilter();
                    });
                    filterContent.find(&#x27;#gcp-tf-cbo-origin&#x27;).off(&#x27;change&#x27;).on(&#x27;change&#x27;, (e) =&gt; {
                        let cbo = $(e.currentTarget);
                        this.templateFilter.originId = (cbo.val() &amp;&amp; cbo.val().length &gt; 0) ? parseInt(cbo.val()) : null;
                        this.updateTemplateFilter();
                    });
                    filterContent.find(&#x27;#gcp-tf-txt-name&#x27;).off(&#x27;keyup&#x27;).on(&#x27;keyup&#x27;, (e) =&gt; {
                        this.templateFilter.name = $(e.currentTarget).val();
                        this.updateTemplateFilter();
                    });
                    filterContent.find(&#x27;#gcp-tf-btn-object&#x27;).off(&#x27;click&#x27;).on(&#x27;click&#x27;, (e) =&gt; {
                        this.templateFilter.objects = !this.templateFilter.objects;
                        this.updateTemplateFilter();
                    });
                    filterContent.find(&#x27;#gcp-tf-btn-process&#x27;).off(&#x27;click&#x27;).on(&#x27;click&#x27;, (e) =&gt; {
                        this.templateFilter.processes = !this.templateFilter.processes;
                        this.updateTemplateFilter();
                    });
                    filterContent.find(&#x27;#gcp-tf-btn-decission&#x27;).off(&#x27;click&#x27;).on(&#x27;click&#x27;, (e) =&gt; {
                        this.templateFilter.decissions = !this.templateFilter.decissions;
                        this.updateTemplateFilter();
                    });
                    filterContent.find(&#x27;#gcp-tf-btn-workflow&#x27;).off(&#x27;click&#x27;).on(&#x27;click&#x27;, (e) =&gt; {
                        this.templateFilter.workflows = !this.templateFilter.workflows;
                        this.updateTemplateFilter();
                    });
                    filterContent.find(&#x27;#gcp-tf-btn-event&#x27;).off(&#x27;click&#x27;).on(&#x27;click&#x27;, (e) =&gt; {
                        this.templateFilter.events = !this.templateFilter.events;
                        this.updateTemplateFilter();
                    });
                    filterContent.find(&#x27;#gcp-tf-btn-all&#x27;).off(&#x27;click&#x27;).on(&#x27;click&#x27;, (e) =&gt; {
                        let setted = !($(e.currentTarget).attr(&#x27;aria-pressed&#x27;) === &#x27;true&#x27;);
                        if ($(&#x27;#gcp-tf-btn-object&#x27;).hasClass(&#x27;active&#x27;) !== setted)
                            $(&#x27;#gcp-tf-btn-object&#x27;).button(&#x27;toggle&#x27;);
                        if ($(&#x27;#gcp-tf-btn-process&#x27;).hasClass(&#x27;active&#x27;) !== setted)
                            $(&#x27;#gcp-tf-btn-process&#x27;).button(&#x27;toggle&#x27;);
                        if ($(&#x27;#gcp-tf-btn-decission&#x27;).hasClass(&#x27;active&#x27;) !== setted)
                            $(&#x27;#gcp-tf-btn-decission&#x27;).button(&#x27;toggle&#x27;);
                        if ($(&#x27;#gcp-tf-btn-workflow&#x27;).hasClass(&#x27;active&#x27;) !== setted)
                            $(&#x27;#gcp-tf-btn-workflow&#x27;).button(&#x27;toggle&#x27;);
                        if ($(&#x27;#gcp-tf-btn-event&#x27;).hasClass(&#x27;active&#x27;) !== setted)
                            $(&#x27;#gcp-tf-btn-event&#x27;).button(&#x27;toggle&#x27;);
                        this.templateFilter.objects = setted;
                        this.templateFilter.processes = setted;
                        this.templateFilter.decissions = setted;
                        this.templateFilter.workflows = setted;
                        this.templateFilter.events = setted;
                        this.updateTemplateFilter();
                    });
                    let wnd = new mxWindow(flexygo.localization.translate(&#x27;flxgipe.dialogtemplatetitle&#x27;), listContent[0], (window.outerWidth / 2) - 150, (window.outerHeight / 2) - 200, 300, 400, false, true, null, &quot;fgWindow&quot;);
                    let titleRow = $(wnd.title).parent();
                    titleRow.after(filterContent);
                    let list = listContent.find(&#x27;#GipeTemplateList ul&#x27;);
                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;getTemplates&#x27;, null, (ret) =&gt; {
                        ret.forEach((e) =&gt; {
                            list.append(&#x60;
                        &lt;li data-type=&quot;${e.NodeType}&quot; data-id=&quot;${e.NodeKey}&quot; data-descrip=&quot;${e.NodeDescrip}&quot; data-originid=&quot;${e.NodeOriginId}&quot; data-areas=&quot;${e.NodeAreas}&quot; class=&quot;templateItem nolist&quot;&gt;
                            &lt;div class=&quot;box-primary&quot;&gt;
                                &lt;div class=&quot;listDescrip&quot;&gt;
                                    &lt;i title=&quot;${e.NodeDescrip}&quot; class=&quot;${e.NodeIcon} icon-lg&quot;&gt;&lt;/i&gt;
                                    &lt;span class=&quot;modDesc&quot;&gt;${e.NodeDescrip}&lt;/span&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/li&gt;
                    &#x60;);
                        });
                        list.find(&#x27;li&#x27;).draggable({
                            appendTo: &#x27;body&#x27;,
                            containment: $(&#x27;#gipegraph&#x27;),
                            helper: &#x27;clone&#x27;
                        });
                    });
                    wnd.setMaximizable(false);
                    wnd.setScrollable(true);
                    wnd.setResizable(true);
                    wnd.setClosable(true);
                    wnd.setVisible(true);
                    wnd.addListener(mxEvent.DESTROY, (sender, object) =&gt; {
                        this.destroyDialog();
                    });
                    this.showDialog(wnd);
                }
                updateTemplateFilter() {
                    let content = $(document).find(&#x27;#GipeTemplateList&#x27;);
                    content.find(&#x27;li[data-descrip]&#x27;).hide();
                    let filter = this.templateFilter;
                    console.log(&quot;updateTemplateFilter&quot;, filter);
                    let filterTypes = &#x27;&#x27;;
                    if (filter.objects === true)
                        filterTypes += &#x27;1&#x27;;
                    if (filter.processes === true)
                        filterTypes += &#x27;2&#x27;;
                    if (filter.decissions === true)
                        filterTypes += &#x27;3&#x27;;
                    if (filter.workflows === true)
                        filterTypes += &#x27;4&#x27;;
                    if (filter.events === true)
                        filterTypes += &#x27;5&#x27;;
                    let filterName = (filter.name || &#x27;&#x27;).toLowerCase();
                    let filterArea = (filter.areaId || &#x27;&#x27;).toLowerCase();
                    let elems = content.find(&#x27;li[data-descrip]&#x27;).filter(function () {
                        let e = $(this);
                        let visible = true;
                        if (filterName.length &gt; 0) {
                            visible = e.attr(&#x27;data-descrip&#x27;).toLowerCase().indexOf(filterName) !== -1;
                        }
                        if (visible === true) {
                            visible = filterTypes.indexOf(e.attr(&#x27;data-type&#x27;)) !== -1;
                            if (visible === true) {
                                if (filter.originId !== null) {
                                    visible = (parseInt(e.attr(&#x27;data-originid&#x27;)) === filter.originId);
                                }
                                if (visible === true) {
                                    if (filterArea.length &gt; 0) {
                                        visible = (e.attr(&#x27;data-areas&#x27;).toLowerCase() == filterArea);
                                    }
                                }
                            }
                        }
                        return visible;
                    });
                    elems.show();
                }
                onModuleResize(e) {
                    let module = e.sender;
                    let mine = $(this).closest(&#x27;flx-module&#x27;)[0];
                    if (module.moduleName === mine.moduleName) {
                        this.setGraphSize();
                    }
                }
                /**
               * Open the workflow debug dialog
                * @method openDebugDialog
                */
                openDebugDialog() {
                    let content = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
                    let debugTemplate = &#x60;
                &lt;div class=&quot;gipetoolbar&quot; id=&quot;gipedebugtoolbar&quot;&gt;
                    &lt;button name=&quot;dbg-stepinto&quot;&gt;&lt;i class=&quot;fa fa-step-forward&quot; /&gt;&lt;/button&gt;
                    &lt;button name=&quot;dbg-stepover&quot;&gt;&lt;i class=&quot;fa fa-fast-forward&quot; /&gt;&lt;/button&gt;
                    &lt;button name=&quot;dbg-stop&quot;&gt;&lt;i class=&quot;fa fa-stop&quot; /&gt;&lt;/button&gt;
                &lt;/div&gt;
                &lt;div class=&quot;col-12&quot;&gt;
                    &lt;div class=&quot;col-6&quot;&gt;
                        &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelstatus&#x27;)}&lt;/label&gt;
                        &lt;flx-text id=&quot;gipedbg-status&quot;/&gt;
                    &lt;/div&gt;                    
                    &lt;div class=&quot;col-6&quot;&gt;
                        &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelresult&#x27;)}&lt;/label&gt;
                        &lt;flx-text id=&quot;gipedbg-result&quot;/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;col-12&quot;&gt;
                    &lt;div id=&quot;gipe-debug-tree&quot; /&gt;
                &lt;/div&gt;
            &#x60;;
                    content.append(debugTemplate);
                    let wnd = new mxWindow(flexygo.localization.translate(&#x27;flxgipe.dialogdebugtitle&#x27;), content[0], (window.outerWidth / 2) - 150, (window.outerHeight / 2) - 200, 300, 400, false, true, null, &quot;fgWindow&quot;);
                    wnd.setMaximizable(false);
                    wnd.setScrollable(true);
                    wnd.setResizable(true);
                    wnd.setClosable(true);
                    wnd.setVisible(true);
                    content.find(&#x27;button[name=&quot;dbg-stepinto&quot;]&#x27;).on(&quot;click&quot;, (e) =&gt; {
                        if (this.currentExecutionId === 0) {
                            flexygo.msg.error(flexygo.localization.translate(&#x27;flxgipe.errornocurrentexecution&#x27;));
                            return;
                        }
                        content.find(&#x27;button[name=&quot;dbg-stepinto&quot;]&#x27;).prop(&#x27;disabled&#x27;, true);
                        content.find(&#x27;button[name=&quot;dbg-stepover&quot;]&#x27;).prop(&#x27;disabled&#x27;, true);
                        //Execute one step
                        flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;debugWorkflow&#x27;, { workflowId: this.workflow.WorkflowId, version: this.workflow.Version, executionId: this.currentExecutionId, stepOver: false }, (ret) =&gt; {
                        });
                    });
                    content.find(&#x27;button[name=&quot;dbg-stepover&quot;]&#x27;).on(&quot;click&quot;, (e) =&gt; {
                        if (this.currentExecutionId === 0) {
                            flexygo.msg.error(flexygo.localization.translate(&#x27;flxgipe.errornocurrentexecution&#x27;));
                            return;
                        }
                        content.find(&#x27;button[name=&quot;dbg-stepinto&quot;]&#x27;).prop(&#x27;disabled&#x27;, true);
                        content.find(&#x27;button[name=&quot;dbg-stepover&quot;]&#x27;).prop(&#x27;disabled&#x27;, true);
                        //Execute one step
                        flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;debugWorkflow&#x27;, { workflowId: this.workflow.WorkflowId, version: this.workflow.Version, executionId: this.currentExecutionId, stepOver: true }, (ret) =&gt; {
                        });
                    });
                    content.find(&#x27;button[name=&quot;dbg-stop&quot;]&#x27;).on(&quot;click&quot;, (e) =&gt; {
                        if (this.currentExecutionId !== 0) {
                            var postParams = {
                                execId: this.currentExecutionId,
                                stepId: 0
                            };
                            flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;abortExecution&#x27;, postParams, (ret) =&gt; { });
                            //this.lastDebugGraphId = 0;
                            //this.currentExecutionId = 0;
                            //this.updateToolbarStatus();
                        }
                    });
                    wnd.addListener(mxEvent.DESTROY, (sender, object) =&gt; {
                        this.destroyDebugDialog();
                        if (this.currentExecutionId !== 0) {
                            var postParams = {
                                execId: this.currentExecutionId,
                                stepId: 0
                            };
                            flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;abortExecution&#x27;, postParams, (ret) =&gt; { });
                            this.lastDebugGraphId = null;
                            this.currentExecutionId = 0;
                            this.debugStack = [];
                            this.updateToolbarStatus();
                        }
                        this.loadWorkflow(this.workflow.WorkflowId, this.workflow.Version, false);
                    });
                    this.showDebugDialog(wnd);
                }
                /**
                * Render HTML data.
                * @method render
                */
                render() {
                    let empty = &#x60;&lt;mxGraphModel&gt;
			            &lt;root&gt;
				            &lt;Workflow label=&quot;&quot; description=&quot;&quot; id=&quot;0&quot;/&gt;
				            &lt;Layer label=&quot;Default Layer&quot;&gt;
					            &lt;mxCell parent=&quot;0&quot;/&gt;
				            &lt;/Layer&gt;
			            &lt;/root&gt;
                    &lt;/mxGraphModel&gt;
                &#x60;;
                    let node = null;
                    let error = &quot;&quot;;
                    let current = null;
                    if (this.currentExecutionId === 0) {
                        current = this.workflow;
                    }
                    else {
                        current = this.debugWorkflow;
                    }
                    if (current &amp;&amp; current !== null) {
                        node = mxUtils.parseXml(current.WorkflowData);
                        if (node.getElementsByTagName(&quot;parsererror&quot;).length &gt; 0) {
                            error = node.getElementsByTagName(&quot;parsererror&quot;)[0].innerText;
                            node = mxUtils.parseXml(empty);
                        }
                    }
                    else {
                        node = mxUtils.parseXml(empty);
                    }
                    let doc = node.documentElement;
                    this.editor.readGraphModel(doc);
                    this.updateToolbarStatus();
                    this.updateModuleTitle();
                    this.updateBreadcrumb();
                    this.updateComboVersions();
                    if (error.length &gt; 0) {
                        flexygo.msg.error(error);
                    }
                }
                /**
                * Updates toolbar status.
                * @method render
                */
                updateToolbarStatus() {
                    let canAny;
                    let canGoDown;
                    let canGoUp;
                    let selected = this.editor.graph.getSelectionCells();
                    canAny = !(this.dialog !== null);
                    if (canAny === true) {
                        canAny = (this.currentExecutionId === 0);
                    }
                    if (canAny) {
                        $(this).find(&#x27;button.mxToolbarItem&#x27;).prop(&#x27;disabled&#x27;, false);
                        if (selected.length === 0) {
                            canGoDown = false;
                        }
                        else if (selected.length &gt; 1) {
                            canGoDown = false;
                        }
                        else {
                            let cell = selected[0];
                            if (cell.value &amp;&amp; cell.value.localName === &#x27;Workflow&#x27;) {
                                canGoDown = true;
                            }
                            else {
                                canGoDown = false;
                            }
                        }
                        canGoUp = (this.workflowStack.length &gt; 0);
                        let btnUp = $(this).find(&#x27;button[data-action=&quot;up&quot;]&#x27;);
                        let btnDown = $(this).find(&#x27;button[data-action=&quot;down&quot;]&#x27;);
                        btnUp.prop(&quot;disabled&quot;, !canGoUp);
                        btnDown.prop(&quot;disabled&quot;, !canGoDown);
                    }
                    else {
                        $(this).find(&#x27;button.mxToolbarItem&#x27;).prop(&#x27;disabled&#x27;, true);
                    }
                }
                openPropertiesDialog() {
                    let content = $(&#x27;&lt;div&gt;&lt;/div&gt;&#x27;);
                    let wnd = new mxWindow(flexygo.localization.translate(&#x27;flxgipe.dialogpropertiestitle&#x27;), content[0], (window.outerWidth / 2) - 150, (window.outerHeight / 2) - 200, 500, 400, false, true, null, &quot;fgWindow&quot;);
                    wnd.setMaximizable(false);
                    wnd.setScrollable(true);
                    wnd.setResizable(true);
                    wnd.setClosable(true);
                    wnd.setVisible(true);
                    wnd.addListener(mxEvent.DESTROY, (sender, object) =&gt; {
                        this.destroyPropertiesDialog();
                    });
                    this.showPropertiesDialog(wnd);
                }
                showCellProperties(cell) {
                    if (!this.propertiesDialog) {
                        this.openPropertiesDialog();
                    }
                    if (!cell) {
                        this.showWorkflowProperties();
                        return;
                    }
                    if (cell &amp;&amp; cell.isEdge() === true) {
                        this.showRelationProperties(cell);
                        return;
                    }
                    let content = $(this.propertiesDialog.content);
                    content.empty();
                    let cboParams = null;
                    switch (cell.value.localName.toLowerCase()) {
                        case &#x27;process&#x27;:
                            cboParams = {
                                Label: flexygo.localization.translate(&quot;flxgipe.labelprocess&quot;),
                                ObjectName: &quot;sysWorkflow&quot;,
                                ViewName: &quot;processesView&quot;,
                                SQLValueField: &quot;ProcessName&quot;,
                                SQLDisplayField: &quot;ProcessName&quot;
                            };
                            break;
                        case &#x27;object&#x27;:
                            cboParams = {
                                Label: flexygo.localization.translate(&quot;flxgipe.labelobject&quot;),
                                ObjectName: &quot;sysWorkflow&quot;,
                                ViewName: &quot;objectsView&quot;,
                                SQLValueField: &quot;ObjectName&quot;,
                                SQLDisplayField: &quot;ObjectName&quot;
                            };
                            break;
                        case &#x27;decission&#x27;:
                            cboParams = {
                                Label: flexygo.localization.translate(&quot;flxgipe.labeldecission&quot;),
                                ObjectName: &quot;sysWorkflow&quot;,
                                ViewName: &quot;decissionsView&quot;,
                                SQLValueField: &quot;ProcessName&quot;,
                                SQLDisplayField: &quot;ProcessName&quot;
                            };
                            break;
                        case &#x27;workflow&#x27;:
                            cboParams = {
                                Label: flexygo.localization.translate(&quot;flxgipe.labelworkflow&quot;),
                                ObjectName: &quot;sysWorkflow&quot;,
                                ViewName: &quot;workflowsView&quot;,
                                SQLValueField: &quot;ProcessName&quot;,
                                SQLDisplayField: &quot;ProcessName&quot;
                            };
                            break;
                        case &#x27;event&#x27;:
                            cboParams = {
                                Label: flexygo.localization.translate(&quot;flxgipe.labelevent&quot;),
                                ObjectName: &quot;sysWorkflow&quot;,
                                ViewName: &quot;eventsView&quot;,
                                SQLValueField: &quot;NodeKey&quot;,
                                SQLDisplayField: &quot;NodeDescrip&quot;
                            };
                            break;
                        case &#x27;label&#x27;:
                            cboParams = {
                                Label: flexygo.localization.translate(&quot;flxgipe.labellabel&quot;),
                                ObjectName: &quot;sysWorkflow&quot;,
                                ViewName: &quot;labelsView&quot;,
                                SQLValueField: &quot;LabelName&quot;,
                                SQLDisplayField: &quot;LabelDescrip&quot;,
                                backgroundColor: &quot;&quot;,
                                textColor: &quot;&quot;,
                                borderColor: &quot;&quot;,
                            };
                            let style = cell.style;
                            if (style.indexOf(&#x27;;&#x27;) != -1) {
                                let styles = style.split(&#x27;;&#x27;);
                                for (let i = 0; i &lt; styles.length; i++) {
                                    if (styles[i].indexOf(&#x27;=&#x27;) != -1) {
                                        let key = styles[i].split(&#x27;=&#x27;)[0];
                                        let value = styles[i].split(&#x27;=&#x27;)[1];
                                        switch (key) {
                                            case mxConstants.STYLE_FILLCOLOR:
                                                cboParams[&#x27;backgroundColor&#x27;] = value;
                                                break;
                                            case mxConstants.STYLE_FONTCOLOR:
                                                cboParams[&#x27;textColor&#x27;] = value;
                                                break;
                                            case mxConstants.STYLE_STROKECOLOR:
                                                cboParams[&#x27;borderColor&#x27;] = value;
                                                break;
                                        }
                                    }
                                }
                            }
                            break;
                        default:
                            flexygo.msg.error(&#x27;Invalid value&#x27;);
                            return;
                    }
                    let propTemplate = &#x60;
                &lt;div class=&quot;col-12&quot;&gt;
                    &lt;div class=&quot;col-6&quot;&gt;
                         &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelleft&#x27;)}&lt;/label&gt;
                         &lt;flx-text name=&quot;x&quot; type=&quot;number&quot; value=&quot;${cell.geometry.x}&quot;/&gt;
                         &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelwidth&#x27;)}&lt;/label&gt;
                         &lt;flx-text name=&quot;w&quot; type=&quot;number&quot; value=&quot;${cell.geometry.width}&quot;/&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;col-6&quot;&gt;
                         &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labeltop&#x27;)}&lt;/label&gt;
                         &lt;flx-text name=&quot;y&quot; type=&quot;number&quot; value=&quot;${cell.geometry.y}&quot;/&gt;
                         &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelheight&#x27;)}&lt;/label&gt;
                         &lt;flx-text name=&quot;h&quot; type=&quot;number&quot; value=&quot;${cell.geometry.height}&quot;/&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class=&quot;col-12&quot; style=&quot;position:relative&quot;&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labellabel&#x27;)}&lt;/label&gt;
                    &lt;flx-text name=&quot;l&quot; value=&quot;${this.htmlEncode(cell.value.getAttribute(&#x27;label&#x27;))}&quot;/&gt;
                     ${(cell.value.localName.toLowerCase() != &#x27;label&#x27;) ? &#x60;
                        &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${cboParams.Label}&lt;/label&gt;
                        &lt;flx-dbcombo name=&quot;fgid&quot; ObjectName=&quot;${cboParams.ObjectName}&quot; ViewName=&quot;${cboParams.ViewName}&quot; SQLDisplayField=&quot;${cboParams.SQLDisplayField}&quot; SQLValueField=&quot;${cboParams.SQLValueField}&quot; value=&quot;${cell.value.getAttribute(&#x27;fgid&#x27;)}&quot; /&gt;
                     &#x60; : &#x60;
                     &lt;div class=&quot;col-6&quot;&gt;
                       &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelbackgroundcolor&#x27;)}&lt;/label&gt;
                        &lt;flx-text name=&quot;backgroundColor&quot; type=&quot;text&quot; value=&quot;${cboParams.backgroundColor}&quot;/&gt;
                     &lt;/div&gt;
                     &lt;div class=&quot;col-6&quot;&gt;
                        &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelbordercolor&#x27;)}&lt;/label&gt;
                        &lt;flx-text name=&quot;borderColor&quot; type=&quot;text&quot; value=&quot;${cboParams.borderColor}&quot;/&gt;
                     &lt;/div&gt;
                     &lt;div class=&quot;col-6&quot;&gt;
                        &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labeltextcolor&#x27;)}&lt;/label&gt;
                        &lt;flx-text name=&quot;textColor&quot; type=&quot;text&quot; value=&quot;${cboParams.textColor}&quot;/&gt;
                     &lt;/div&gt;
                     &#x60;}
                &lt;/div&gt;
                &lt;div class=&quot;fgWindowToolbar&quot;&gt;
                    &lt;button class=&quot;btn btn-sm bg-info saveButton&quot;&gt;&lt;i class=&quot;flx-icon icon-save&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttonsave&#x27;)}&lt;/button&gt;
                    &lt;button class=&quot;btn btn-sm bg-danger closeButton&quot;&gt;&lt;i class=&quot;flx-icon icon-remove&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttoncancel&#x27;)}&lt;/button&gt;
                &lt;/div&gt;
            &#x60;;
                    content.append(propTemplate);
                    content.find(&quot;button.closeButton&quot;).off(&quot;click&quot;).on(&quot;click&quot;, (e) =&gt; {
                        if (this.fixedPropertiesDialog === false) {
                            this.propertiesDialog.destroy();
                        }
                    });
                    content.find(&quot;button.saveButton&quot;).off(&quot;click&quot;).on(&quot;click&quot;, (e) =&gt; {
                        let xField = content.find(&#x27;flx-text[name=&quot;x&quot;]&#x27;)[0];
                        let yField = content.find(&#x27;flx-text[name=&quot;y&quot;]&#x27;)[0];
                        let wField = content.find(&#x27;flx-text[name=&quot;w&quot;]&#x27;)[0];
                        let hField = content.find(&#x27;flx-text[name=&quot;h&quot;]&#x27;)[0];
                        let textColor = content.find(&#x27;flx-text[name=&quot;textColor&quot;]&#x27;)[0];
                        let borderColor = content.find(&#x27;flx-text[name=&quot;borderColor&quot;]&#x27;)[0];
                        let backgroundColor = content.find(&#x27;flx-text[name=&quot;backgroundColor&quot;]&#x27;)[0];
                        let lblField = content.find(&#x27;flx-text[name=&quot;l&quot;]&#x27;)[0];
                        let idField = content.find(&#x27;flx-dbcombo[name=&quot;fgid&quot;]&#x27;)[0];
                        // Supports undo for the changes on the underlying
                        // XML structure / XML node attribute changes.
                        let graph = this.editor.graph;
                        let model = graph.getModel();
                        let geo = cell.geometry;
                        let style = &quot;&quot;;
                        var attrs = [];
                        var texts = [];
                        attrs.push(&#x27;label&#x27;);
                        attrs.push(&#x27;description&#x27;);
                        attrs.push(&#x27;fgid&#x27;);
                        let fgid = (idField ? idField.getValue() : null);
                        texts.push(lblField.getValue());
                        texts.push(cell.value.getAttribute(&#x27;description&#x27;));
                        texts.push(fgid);
                        let okid = (fgid &amp;&amp; fgid.length &gt; 0);
                        switch (cell.value.localName.toLowerCase()) {
                            case &#x27;process&#x27;:
                                style = (okid) ? &#x27;process&#x27; : &#x27;invalid-process&#x27;;
                                break;
                            case &#x27;object&#x27;:
                                style = (okid) ? &#x27;ellipse&#x27; : &#x27;invalid-ellipse&#x27;;
                                break;
                            case &#x27;decission&#x27;:
                                style = (okid) ? &#x27;rhombus&#x27; : &#x27;invalid-rhombus&#x27;;
                                break;
                            case &#x27;workflow&#x27;:
                                style = (okid) ? &#x27;hexagon&#x27; : &#x27;invalid-hexagon&#x27;;
                                break;
                            case &#x27;event&#x27;:
                                style = (okid) ? &#x27;cloud&#x27; : &#x27;invalid-cloud&#x27;;
                                break;
                            case &#x27;label&#x27;:
                                style = &#x27;label&#x27;;
                                if (textColor.getValue()) {
                                    style += &#x27;;&#x27; + mxConstants.STYLE_FONTCOLOR + &#x27;=&#x27; + textColor.getValue();
                                }
                                if (backgroundColor.getValue()) {
                                    style += &#x27;;&#x27; + mxConstants.STYLE_FILLCOLOR + &#x27;=&#x27; + backgroundColor.getValue();
                                }
                                if (borderColor.getValue()) {
                                    style += &#x27;;&#x27; + mxConstants.STYLE_STROKECOLOR + &#x27;=&#x27; + borderColor.getValue();
                                }
                                break;
                            default:
                                flexygo.msg.error(&#x27;Invalid value&#x27;);
                                return;
                        }
                        model.beginUpdate();
                        try {
                            if (geo != null) {
                                geo = geo.clone();
                                geo.x = parseFloat(xField.getValue());
                                geo.y = parseFloat(yField.getValue());
                                geo.width = parseFloat(wField.getValue());
                                geo.height = parseFloat(hField.getValue());
                                model.setGeometry(cell, geo);
                            }
                            // Applies the style
                            if (style.length &gt; 0) {
                                model.setStyle(cell, style);
                            }
                            else {
                                model.setStyle(cell, null);
                            }
                            // Creates an undoable change for each
                            // attribute and executes it using the
                            // model, which will also make the change
                            // part of the current transaction
                            for (var i = 0; i &lt; attrs.length; i++) {
                                var edit = new mxCellAttributeChange(cell, attrs[i], texts[i]);
                                model.execute(edit);
                            }
                            // Checks if the graph wants cells to 
                            // be automatically sized and updates
                            // the size as an undoable step if
                            // the feature is enabled
                            if (graph.isAutoSizeCell(cell)) {
                                graph.updateCellSize(cell);
                            }
                        }
                        finally {
                            model.endUpdate();
                        }
                        if (!this.fixedPropertiesDialog) {
                            this.propertiesDialog.destroy();
                        }
                    });
                }
                showRelationProperties(cell) {
                    if (!this.propertiesDialog) {
                        this.openPropertiesDialog();
                    }
                    let content = $(this.propertiesDialog.content);
                    content.empty();
                    if (typeof cell.value === &quot;string&quot;) {
                        return;
                    }
                    let targetCell = cell.target;
                    let model = this.editor.graph.getModel();
                    let currentWorkflow = this.workflow;
                    let propTemplate = &#x60;
                
                &lt;div class=&quot;col-12&quot;&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labellabel&#x27;)}&lt;/label&gt;
                    &lt;flx-text name=&quot;l&quot; value=&quot;${this.htmlEncode(cell.value.getAttribute(&#x27;label&#x27;))}&quot;/&gt;
                &lt;/div&gt;
				&lt;div name=&quot;parameters&quot; class=&quot;col-12&quot;&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelrelations&#x27;)}&lt;/label&gt;
                &lt;/div&gt;
                &lt;div name=&quot;gipeprops&quot; class=&quot;col-12&quot;&gt;
                &lt;/div&gt;
				&lt;div class=&quot;fgWindowToolbar&quot;&gt;
                    &lt;button class=&quot;btn btn-sm bg-info saveButton&quot;&gt;&lt;i class=&quot;flx-icon icon-save&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttonsave&#x27;)}&lt;/button&gt;
                    &lt;button class=&quot;btn btn-sm bg-danger closeButton&quot;&gt;&lt;i class=&quot;flx-icon icon-remove&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttoncancel&#x27;)}&lt;/button&gt;
                &lt;/div&gt;
            &#x60;;
                    content.append(propTemplate);
                    content.find(&quot;button.closeButton&quot;).off(&quot;click&quot;).on(&quot;click&quot;, (e) =&gt; {
                        if (this.fixedPropertiesDialog === false) {
                            this.propertiesDialog.destroy();
                        }
                    });
                    content.find(&quot;button.saveButton&quot;).off(&quot;click&quot;).on(&quot;click&quot;, (e) =&gt; {
                        let lblField = content.find(&#x27;flx-text[name=&quot;l&quot;]&#x27;)[0];
                        let graph = this.editor.graph;
                        let model = graph.getModel();
                        let value = this.editor.templates[&quot;relation&quot;].value.cloneNode(true);
                        content.find(&#x27;label[data-name=&quot;propname&quot;]&#x27;).each((i, e) =&gt; {
                            let lblProp = $(e);
                            let prop = lblProp.attr(&#x27;data-prop&#x27;);
                            let cboType = lblProp.parent().find(&#x60;select[data-name=&quot;parenttype&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let cboParent = lblProp.parent().find(&#x60;select[data-name=&quot;parentname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let cboParam = lblProp.parent().find(&#x60;select[data-name=&quot;paramname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let txtValue = cboType.parent().find(&#x60;input[data-name=&quot;txtvalue&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let type = cboType.val();
                            let parent = cboParent.val();
                            let param = cboParam.val();
                            let defaultvalue = txtValue.val();
                            if (type &amp;&amp; type.length &gt; 0) {
                                if (parent &amp;&amp; parent.length &gt; 0) {
                                    parent = &#x60;parent=&quot;${parent}&quot;&#x60;;
                                }
                                else {
                                    parent = &quot;&quot;;
                                }
                                if (param &amp;&amp; param.length &gt; 0) {
                                    param = &#x60;parentparam=&quot;${param}&quot;&#x60;;
                                }
                                else {
                                    param = &quot;&quot;;
                                }
                                if (defaultvalue &amp;&amp; defaultvalue.length &gt; 0) {
                                    parent = &#x60;parent=&quot;0&quot;&#x60;;
                                    defaultvalue = &#x60;defaultvalue=&quot;${defaultvalue}&quot;&#x60;;
                                }
                                else {
                                    defaultvalue = &quot;&quot;;
                                }
                                let s = &#x60;&lt;Parameter childparam=&quot;${prop}&quot; type=&quot;${type}&quot; ${parent} ${param} ${defaultvalue}&gt;&lt;/Parameter&gt;&#x60;;
                                let r = mxUtils.parseXml(s);
                                value.appendChild(r.documentElement);
                            }
                        });
                        model.beginUpdate();
                        try {
                            cell.setValue(value);
                            // Creates an undoable change for each
                            // attribute and executes it using the
                            // model, which will also make the change
                            // part of the current transaction
                            var edit = new mxCellAttributeChange(cell, &#x27;label&#x27;, lblField.getValue());
                            model.execute(edit);
                        }
                        finally {
                            model.endUpdate();
                        }
                        if (!this.fixedPropertiesDialog) {
                            this.propertiesDialog.destroy();
                        }
                    });
                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;getNodeRelations&#x27;, { nodeType: targetCell.value.nodeName, nodeName: targetCell.value.getAttribute(&quot;fgid&quot;) }, (ret) =&gt; {
                        let parameters = cell.value.getElementsByTagName(&#x27;Parameter&#x27;);
                        let divProps = content.find(&#x27;div[name=&quot;gipeprops&quot;]&#x27;);
                        ret.forEach((param) =&gt; {
                            let parentvalue = &quot;&quot;;
                            let parentdescrip = &quot;&quot;;
                            let typevalue = &quot;&quot;;
                            let paramvalue = &quot;&quot;;
                            let defaultvalue = &quot;&quot;;
                            $.each(parameters, (i, n) =&gt; {
                                if (n.getAttribute(&#x27;childparam&#x27;).toLowerCase() === param.ParamName.toLowerCase()) {
                                    typevalue = n.getAttribute(&#x27;type&#x27;);
                                    if (n.hasAttribute(&#x27;parent&#x27;)) {
                                        parentvalue = model.getCell(n.getAttribute(&#x27;parent&#x27;)).id;
                                        if (typevalue &amp;&amp; typevalue == &#x27;workflow&#x27;) {
                                            parentdescrip = currentWorkflow.WorkflowId;
                                        }
                                        else {
                                            parentdescrip = model.getCell(n.getAttribute(&#x27;parent&#x27;)).value.getAttribute(&#x27;label&#x27;);
                                        }
                                        paramvalue = n.getAttribute(&#x27;parentparam&#x27;);
                                    }
                                    defaultvalue = n.getAttribute(&#x27;defaultvalue&#x27;) || &#x27;&#x27;;
                                }
                            });
                            let inputVisibleStr = (defaultvalue &amp;&amp; defaultvalue.length &gt; 0) ? &#x27;&#x27; : &#x27;style=&quot;display:none&quot;&#x27;;
                            let selectVisibleStr = (inputVisibleStr &amp;&amp; inputVisibleStr.length &gt; 0) ? &#x27;&#x27; : &#x27;style=&quot;display:none&quot;&#x27;;
                            let prop = param.ParamName;
                            let template = &#x60;
                        &lt;div class=&quot;col-12&quot;&gt;        
                            &lt;label   class=&quot;col-3&quot; data-name=&quot;propname&quot; data-prop=&quot;${prop}&quot;&gt;${param.ParamLabel}&lt;/label&gt;
                            &lt;select  class=&quot;col-3&quot; data-name=&quot;parenttype&quot; data-prop=&quot;${prop}&quot;&gt;&lt;option value=&quot;&quot;/&gt;&lt;option value=&quot;workflow&quot;&gt;Workflow&lt;/option&gt;&lt;option value=&quot;node&quot;&gt;Node&lt;/option&gt;&lt;option value=&quot;value&quot;&gt;Default value&lt;/option&gt;&lt;option value=&quot;context&quot;&gt;Context&lt;/option&gt;&lt;/select&gt;
                            &lt;input  ${inputVisibleStr}  class=&quot;col-6&quot; data-name=&quot;txtvalue&quot; data-prop=&quot;${prop}&quot;&gt;&lt;/input&gt;
                            &lt;select ${selectVisibleStr} class=&quot;col-3&quot; data-name=&quot;parentname&quot; data-prop=&quot;${prop}&quot;&gt;&lt;/select&gt;
                            &lt;select ${selectVisibleStr} class=&quot;col-3&quot; data-name=&quot;paramname&quot;  data-prop=&quot;${prop}&quot;&gt;&lt;/select&gt;
                        &lt;/div&gt;&#x60;;
                            let parsed = $(template);
                            if (typevalue !== &#x27;&#x27;) {
                                parsed.find(&#x27;select[data-name=&quot;parenttype&quot;]&#x27;).val(typevalue);
                            }
                            if (parentvalue !== &#x27;&#x27;) {
                                parsed.find(&#x27;select[data-name=&quot;parentname&quot;]&#x27;).append(&#x60;&lt;option value=&quot;${parentvalue}&quot; selected&gt;${parentdescrip}&lt;/option&gt;&#x60;);
                            }
                            if (paramvalue !== &#x27;&#x27;) {
                                parsed.find(&#x27;select[data-name=&quot;paramname&quot;]&#x27;).append(&#x60;&lt;option value=&quot;${paramvalue}&quot; selected&gt;${paramvalue}&lt;/option&gt;&#x60;);
                            }
                            if (defaultvalue !== &#x27;&#x27;) {
                                parsed.find(&#x27;input[data-name=&quot;txtvalue&quot;]&#x27;).val(defaultvalue);
                            }
                            divProps.append(parsed);
                        });
                        divProps.find(&#x27;select[data-name=&quot;parenttype&quot;]&#x27;).off(&#x27;change&#x27;).on(&#x27;change&#x27;, (e) =&gt; {
                            let cboType = $(e.currentTarget);
                            let prop = cboType.attr(&#x27;data-prop&#x27;);
                            let cboParent = cboType.parent().find(&#x60;select[data-name=&quot;parentname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let cboParam = cboType.parent().find(&#x60;select[data-name=&quot;paramname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let txtValue = cboType.parent().find(&#x60;input[data-name=&quot;txtvalue&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            txtValue.hide();
                            cboParent.find(&#x27;option&#x27;).remove();
                            cboParam.find(&#x27;option&#x27;).remove();
                            let nodes = &#x60;&lt;option value=&quot;&quot;&gt;&lt;/option&gt;&#x60;;
                            switch (cboType.val()) {
                                case &#x27;node&#x27;:
                                    txtValue.hide();
                                    txtValue.val(&#x27;&#x27;);
                                    cboParent.show();
                                    cboParam.show();
                                    cboParent.prop(&#x27;disabled&#x27;, false);
                                    for (let key in model.cells) {
                                        let cell = model.cells[key];
                                        if (cell.isVertex() &amp;&amp; cell.value.tagName.toLowerCase() != &#x27;label&#x27;) {
                                            nodes += &#x60;&lt;option value=&quot;${cell.id}&quot;&gt;${cell.value.getAttribute(&#x27;label&#x27;)}&lt;/option&gt;&#x60;;
                                        }
                                    }
                                    cboParent.append(nodes);
                                    break;
                                case &#x27;workflow&#x27;:
                                    txtValue.hide();
                                    txtValue.val(&#x27;&#x27;);
                                    cboParent.show();
                                    cboParam.show();
                                    cboParent.prop(&#x27;disabled&#x27;, true);
                                    cboParent.append(&#x60;&lt;option value=&quot;0&quot; selected&gt;${currentWorkflow.WorkflowId}&lt;/option&gt;&#x60;);
                                    cboParam.html();
                                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;getNodeRelations&#x27;, { nodeType: &#x27;workflow&#x27;, nodeName: currentWorkflow.WorkflowId }, (ret) =&gt; {
                                        ret.forEach((param) =&gt; {
                                            nodes += &#x60;&lt;option value=&quot;${param.ParamName}&quot;&gt;${param.ParamLabel}&lt;/option&gt;&#x60;;
                                        });
                                        cboParam.append(nodes);
                                    });
                                    break;
                                case &#x27;context&#x27;:
                                    txtValue.hide();
                                    txtValue.val(&#x27;&#x27;);
                                    cboParent.hide();
                                    cboParam.show();
                                    cboParent.prop(&#x27;disabled&#x27;, true);
                                    cboParam.html();
                                    for (let key in flexygo.context) {
                                        nodes += &#x60;&lt;option value=&quot;key&quot;&gt;${key}&lt;/option&gt;&#x60;;
                                    }
                                    cboParam.append(nodes);
                                    break;
                                case &#x27;value&#x27;:
                                    txtValue.show();
                                    cboParent.hide();
                                    cboParent.val(&#x27;&#x27;);
                                    cboParam.hide();
                                    cboParam.html();
                                    txtValue.val(&#x27;&#x27;);
                            }
                        });
                        divProps.find(&#x27;select[data-name=&quot;parentname&quot;]&#x27;).off(&#x27;change&#x27;).on(&#x27;change&#x27;, (e) =&gt; {
                            let cboParent = $(e.currentTarget);
                            let prop = cboParent.attr(&#x27;data-prop&#x27;);
                            let cboType = cboParent.parent().find(&#x60;select[data-name=&quot;parenttype&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let cboParam = cboParent.parent().find(&#x60;select[data-name=&quot;paramname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            cboParam.find(&#x27;option&#x27;).remove();
                            let nodes = &#x60;&lt;option value=&quot;&quot;&gt;&lt;/option&gt;&#x60;;
                            switch (cboType.val()) {
                                case &#x27;node&#x27;:
                                    let cell = model.getCell(cboParent.val());
                                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;getNodeRelations&#x27;, { nodeType: cell.value.localName, nodeName: cell.value.getAttribute(&#x27;fgid&#x27;) }, (ret) =&gt; {
                                        ret.forEach((param) =&gt; {
                                            nodes += &#x60;&lt;option value=&quot;${param.ParamName}&quot;&gt;${param.ParamLabel}&lt;/option&gt;&#x60;;
                                        });
                                        cboParam.append(nodes);
                                    });
                                    break;
                            }
                        });
                    });
                }
                viewCell(cell) {
                    switch (cell.value.localName.toLowerCase()) {
                        case &#x27;process&#x27;:
                        case &#x27;decission&#x27;:
                            flexygo.nav.openPage(&#x27;view&#x27;, &#x27;sysProcess&#x27;, &quot;processName=&#x27;&quot; + cell.value.getAttribute(&#x27;fgid&#x27;) + &quot;&#x27;&quot;, null, &#x27;popup1024x678&#x27;);
                            return;
                        case &#x27;object&#x27;:
                            flexygo.nav.openPage(&#x27;view&#x27;, &#x27;sysObject&#x27;, &quot;objectName=&#x27;&quot; + cell.value.getAttribute(&#x27;fgid&#x27;) + &quot;&#x27;&quot;, null, &#x27;popup1024x678&#x27;);
                            return;
                        case &#x27;workflow&#x27;:
                            flexygo.nav.openPage(&#x27;view&#x27;, &#x27;sysWorkflow&#x27;, &quot;workflowId=&#x27;&quot; + cell.value.getAttribute(&#x27;fgid&#x27;) + &quot;&#x27; AND Active=1&quot;, null, &#x27;popup1024x678&#x27;);
                            return;
                        case &#x27;event&#x27;:
                            break;
                        case &#x27;label&#x27;:
                            break;
                        default:
                            flexygo.msg.error(&#x27;Invalid value&#x27;);
                            return;
                    }
                }
                listParamsCell(cell) {
                    switch (cell.value.localName.toLowerCase()) {
                        case &#x27;process&#x27;:
                        case &#x27;decission&#x27;:
                        case &#x27;workflow&#x27;:
                            flexygo.nav.openPage(&#x27;list&#x27;, &#x27;sysProcessParams&#x27;, &quot;Processes_Params.ProcessName=&#x27;&quot; + cell.value.getAttribute(&#x27;fgid&#x27;) + &quot;&#x27;&quot;, &#x27;{&quot;ProcessName&quot;:&quot;&#x27; + cell.value.getAttribute(&#x27;fgid&#x27;) + &#x27;&quot;}&#x27;, &#x27;popup1024x678&#x27;);
                            return;
                        case &#x27;event&#x27;:
                        case &#x27;object&#x27;:
                        case &#x27;label&#x27;:
                            break;
                        default:
                            flexygo.msg.error(&#x27;Invalid value&#x27;);
                            return;
                    }
                }
                newCell(cell) {
                    flexygo.events.off(this, &quot;entity&quot;, &quot;inserted&quot;);
                    this.popupCell = cell;
                    let desc = null;
                    if (cell &amp;&amp; cell.value &amp;&amp; cell.value.attributes &amp;&amp; cell.value.attributes.label &amp;&amp; cell.value.attributes.label.value) {
                        desc = cell.value.attributes.label.value;
                    }
                    switch (cell.value.localName.toLowerCase()) {
                        case &#x27;process&#x27;:
                            flexygo.nav.openPage(&#x27;edit&#x27;, &#x27;sysProcess&#x27;, &#x27;&#x27;, { ProcessDescrip: desc }, &#x27;popup&#x27;);
                            flexygo.events.on(this, &quot;entity&quot;, &quot;inserted&quot;, this.onEntityInserted);
                            return;
                        case &#x27;object&#x27;:
                            flexygo.nav.openPageName(&#x27;syspage-generic-objectwizard&#x27;, &#x27;sysObject&#x27;, &#x27;&#x27;, null, &#x27;popup&#x27;, false);
                            flexygo.events.on(this, &quot;entity&quot;, &quot;inserted&quot;, this.onEntityInserted);
                            return;
                        case &#x27;decission&#x27;:
                            flexygo.nav.openPage(&#x27;edit&#x27;, &#x27;sysProcess&#x27;, &quot;&quot;, { &quot;typeId&quot;: &quot;12&quot;, ProcessDescrip: desc }, &#x27;popup1024x678&#x27;);
                            flexygo.events.on(this, &quot;entity&quot;, &quot;inserted&quot;, this.onEntityInserted);
                            return;
                        case &#x27;workflow&#x27;:
                            flexygo.nav.openPage(&#x27;edit&#x27;, &#x27;sysProcess&#x27;, &quot;&quot;, { &quot;typeId&quot;: &quot;11&quot;, ProcessDescrip: desc }, &#x27;popup1024x678&#x27;);
                            flexygo.events.on(this, &quot;entity&quot;, &quot;inserted&quot;, this.onEntityInserted);
                            return;
                        case &#x27;event&#x27;:
                            break;
                        case &#x27;label&#x27;:
                            break;
                        default:
                            flexygo.msg.error(&#x27;Invalid value&#x27;);
                            return;
                    }
                }
                onEntityInserted(e) {
                    flexygo.events.off(this, &quot;entity&quot;, &quot;inserted&quot;);
                    if (!this.popupCell) {
                        return;
                    }
                    let cell = this.popupCell;
                    let cellType = cell.value.localName.toLowerCase();
                    let cellId = cell.value.getAttribute(&#x27;fgid&#x27;).toLowerCase();
                    if (cellId &amp;&amp; cellId.length &gt; 0) {
                        return;
                    }
                    let entity = e.sender;
                    let newId = &#x27;&#x27;;
                    let newLabel = &#x27;&#x27;;
                    switch (entity.objectName.toLowerCase()) {
                        case &#x27;sysobject&#x27;:
                            switch (cellType) {
                                case &#x27;object&#x27;:
                                    newId = entity.data[&quot;ObjectName&quot;].Value;
                                    newLabel = entity.data[&quot;Descrip&quot;].Value;
                                    break;
                            }
                            break;
                        case &#x27;sysprocess&#x27;:
                            let typeId = parseInt(entity.data[&quot;TypeId&quot;].Value);
                            switch (cellType) {
                                case &#x27;process&#x27;:
                                    if (typeId !== 11 &amp;&amp; typeId !== 12) {
                                        newId = entity.data[&quot;ProcessName&quot;].Value;
                                        newLabel = entity.data[&quot;ProcessDescrip&quot;].Value;
                                    }
                                    break;
                                case &#x27;decission&#x27;:
                                    if (typeId === 12) {
                                        newId = entity.data[&quot;ProcessName&quot;].Value;
                                        newLabel = entity.data[&quot;ProcessDescrip&quot;].Value;
                                    }
                                    break;
                                case &#x27;workflow&#x27;:
                                    if (typeId === 11) {
                                        newId = entity.data[&quot;ProcessName&quot;].Value;
                                        newLabel = entity.data[&quot;ProcessDescrip&quot;].Value;
                                    }
                                    break;
                            }
                            break;
                    }
                    if (newId.length === 0) {
                        return;
                    }
                    let model = this.editor.graph.getModel();
                    model.beginUpdate();
                    try {
                        let edit = new mxCellAttributeChange(cell, &#x27;fgid&#x27;, newId);
                        model.execute(edit);
                        edit = new mxCellAttributeChange(cell, &#x27;label&#x27;, newLabel);
                        model.execute(edit);
                        let style = this.getStepStyle(cell, &#x27;&#x27;);
                        if (style.length &gt; 0) {
                            model.setStyle(cell, style);
                        }
                        else {
                            model.setStyle(cell, null);
                        }
                    }
                    finally {
                        model.endUpdate();
                    }
                    this.popupCell = null;
                }
                showWorkflowProperties() {
                    if (!this.workflow) {
                        return;
                    }
                    if (!this.propertiesDialog) {
                        this.openPropertiesDialog();
                    }
                    let content = $(this.propertiesDialog.content);
                    content.empty();
                    let current = this.workflow;
                    let graph = this.editor.graph;
                    let model = graph.getModel();
                    let cell = model.cells[0];
                    let propTemplate = &#x60;
                &lt;div class=&quot;col-12&quot; style=&quot;position:relative&quot;&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelname&#x27;)}&lt;/label&gt;
                    &lt;flx-text name=&quot;dbc-wfid&quot; disabled=&quot;true&quot; value=&quot;${current.WorkflowId}&quot;&gt;&lt;/flx-text&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labeldescrip&#x27;)}&lt;/label&gt;
                    &lt;flx-text name=&quot;dbc-descrip&quot; value=&quot;${this.htmlEncode(current.Descrip)}&quot; placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflownameplaceholder&#x27;)}&quot;&gt;&lt;/flx-text&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelarea&#x27;)}&lt;/label&gt;
                    &lt;flx-dbcombo name=&quot;dbc-areaid&quot; value=&quot;${current.AreaId}&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;areasView&quot; SQLValueField=&quot;WorkflowAreaId&quot; SQLDisplayField=&quot;Descrip&quot; placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflowareaplaceholder&#x27;)}&quot;&gt;&lt;/flx-dbcombo&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelmodule&#x27;)}&lt;/label&gt;
                    &lt;flx-dbcombo name=&quot;dbc-moduleid&quot; value=&quot;${current.ModuleId}&quot; ObjectName=&quot;sysWorkflow&quot; ViewName=&quot;modulesView&quot; SQLValueField=&quot;WorkflowModuleId&quot; SQLDisplayField=&quot;Descrip&quot;  placeholder=&quot;${flexygo.localization.translate(&#x27;flxgipe.workflowmoduleplaceholder&#x27;)}&quot;&gt;&lt;/flx-dbcombo&gt;
                    &lt;br/&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labelactive&#x27;)}&lt;/label&gt;
                    &lt;flx-check name=&quot;dbc-active&quot; ${(current.Active &amp;&amp; current.Active === true) ? &#x27;checked&#x27; : &#x27;&#x27;}&gt;&lt;/flx-check&gt;
                &lt;/div&gt;
                &lt;div name=&quot;parameters&quot; class=&quot;col-12&quot;&gt;
                    &lt;label class=&quot;control-label fgWindowLabel&quot;&gt;${flexygo.localization.translate(&#x27;flxgipe.labeloutputparams&#x27;)}&lt;/label&gt;
                &lt;/div&gt;
                &lt;div name=&quot;gipeprops&quot; class=&quot;col-12&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;fgWindowToolbar&quot;&gt;
                    &lt;button class=&quot;btn btn-sm bg-info saveButton&quot;&gt;&lt;i class=&quot;flx-icon icon-save&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttonsave&#x27;)}&lt;/button&gt;
                    &lt;button class=&quot;btn btn-sm bg-danger closeButton&quot;&gt;&lt;i class=&quot;flx-icon icon-remove&quot;&gt;&lt;/i&gt;${flexygo.localization.translate(&#x27;flxgipe.buttoncancel&#x27;)}&lt;/button&gt;
                &lt;/div&gt;
              
            &#x60;;
                    content.append(propTemplate);
                    content.find(&quot;button.closeButton&quot;).off(&quot;click&quot;).on(&quot;click&quot;, (e) =&gt; {
                        if (this.fixedPropertiesDialog === false) {
                            this.propertiesDialog.destroy();
                        }
                    });
                    content.find(&quot;button.saveButton&quot;).off(&quot;click&quot;).on(&quot;click&quot;, (e) =&gt; {
                        this.workflow.AreaId = content.find(&#x27;flx-dbcombo[name=&quot;dbc-areaid&quot;]&#x27;)[0].getValue();
                        this.workflow.ModuleId = content.find(&#x27;flx-dbcombo[name=&quot;dbc-moduleid&quot;]&#x27;)[0].getValue();
                        this.workflow.Descrip = content.find(&#x27;flx-text[name=&quot;dbc-descrip&quot;]&#x27;)[0].getValue();
                        this.workflow.Active = content.find(&#x27;flx-check[name=&quot;dbc-active&quot;]&#x27;)[0].getValue();
                        let oldCells = [];
                        for (let key in model.cells) {
                            let c = model.cells[key];
                            if (c.isEdge() == true &amp;&amp; parseInt(c.target.id) === 0) {
                                oldCells.push(c);
                            }
                        }
                        let newValues = [];
                        content.find(&#x27;label[data-name=&quot;propname&quot;]&#x27;).each((i, e) =&gt; {
                            let value = this.editor.templates[&quot;relation&quot;].value.cloneNode(true);
                            let lblProp = $(e);
                            let prop = lblProp.attr(&#x27;data-prop&#x27;);
                            let cboType = lblProp.parent().find(&#x60;select[data-name=&quot;parenttype&quot;][data-prop=&quot;${prop}&quot;]&#x60;); //TYPE SIEMPRE NODE
                            let cboParent = lblProp.parent().find(&#x60;select[data-name=&quot;parentname&quot;][data-prop=&quot;${prop}&quot;]&#x60;); //NODO PADRE
                            let cboParam = lblProp.parent().find(&#x60;select[data-name=&quot;paramname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let type = &quot;node&quot;;
                            let iotype = cboType.val();
                            let parent = cboParent.val();
                            let param = cboParam.val();
                            if (type &amp;&amp; type.length &gt; 0 &amp;&amp; parent &amp;&amp; parent.length &gt; 0 &amp;&amp; param &amp;&amp; param.length &gt; 0) {
                                let s = &#x60;&lt;Parameter childparam=&quot;${prop}&quot; iotype=&quot;${iotype}&quot; type=&quot;${type}&quot; parent=&quot;${parent}&quot; parentparam=&quot;${param}&quot;&gt;&lt;/Parameter&gt;&#x60;;
                                let r = mxUtils.parseXml(s);
                                value.appendChild(r.documentElement);
                                newValues.push(value);
                            }
                        });
                        model.beginUpdate();
                        try {
                            graph.removeCells(oldCells);
                            newValues.forEach((n) =&gt; {
                                let parent = graph.getModel().getCell(n.firstChild.attributes[&#x27;parent&#x27;].value);
                                let newCell = this.editor.graph.insertEdge(cell, null, n, parent, cell);
                                newCell.setVisible(false);
                            });
                        }
                        finally {
                            model.endUpdate();
                        }
                        if (!this.fixedPropertiesDialog) {
                            this.propertiesDialog.destroy();
                        }
                    });
                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;getNodeRelations&#x27;, { nodeType: cell.value.nodeName, nodeName: cell.value.getAttribute(&quot;fgid&quot;) }, (ret) =&gt; {
                        let relations = graph.getEdges(cell);
                        let divProps = content.find(&#x27;div[name=&quot;gipeprops&quot;]&#x27;);
                        ret.forEach((param) =&gt; {
                            let parentvalue = &quot;&quot;;
                            let parentdescrip = &quot;&quot;;
                            let typevalue = &quot;&quot;;
                            let paramvalue = &quot;&quot;;
                            $.each(relations, (i, n) =&gt; {
                                let np = n.value.childNodes[0];
                                if (np.getAttribute(&#x27;childparam&#x27;).toLowerCase() === param.ParamName.toLowerCase()) {
                                    typevalue = np.getAttribute(&#x27;iotype&#x27;);
                                    parentvalue = model.getCell(np.getAttribute(&#x27;parent&#x27;)).id;
                                    paramvalue = np.getAttribute(&#x27;parentparam&#x27;);
                                    parentdescrip = model.getCell(np.getAttribute(&#x27;parent&#x27;)).value.getAttribute(&#x27;label&#x27;);
                                }
                            });
                            let prop = param.ParamName;
                            let template = &#x60;
                        &lt;div class=&quot;col-12&quot;&gt;        
                            &lt;label   class=&quot;col-3&quot; data-name=&quot;propname&quot; data-prop=&quot;${prop}&quot;&gt;${param.ParamLabel}&lt;/label&gt;
                            &lt;select  class=&quot;col-3&quot; data-name=&quot;parenttype&quot; data-prop=&quot;${prop}&quot;&gt;&lt;option value=&quot;&quot;/&gt;&lt;option value=&quot;II&quot;&gt;Input&lt;/option&gt;&lt;option value=&quot;IO&quot;&gt;Input/Output&lt;/option&gt;&lt;option value=&quot;OO&quot;&gt;Output&lt;/option&gt;&lt;/select&gt;
                            &lt;select  class=&quot;col-3&quot; data-name=&quot;parentname&quot; data-prop=&quot;${prop}&quot;&gt;&lt;/select&gt;
                            &lt;select  class=&quot;col-3&quot; data-name=&quot;paramname&quot;  data-prop=&quot;${prop}&quot;&gt;&lt;/select&gt;
                        &lt;/div&gt;&#x60;;
                            let parsed = $(template);
                            if (typevalue.length === 0) {
                                typevalue = param.ParamType;
                            }
                            let nodes = &#x60;&lt;option value=&quot;&quot;&gt;&lt;/option&gt;&#x60;;
                            let cboParent = parsed.find(&#x60;select[data-name=&quot;parentname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            for (let key in model.cells) {
                                let cell = model.cells[key];
                                if (cell.isVertex()) {
                                    nodes += &#x60;&lt;option value=&quot;${cell.id}&quot;&gt;${cell.value.getAttribute(&#x27;label&#x27;)}&lt;/option&gt;&#x60;;
                                }
                            }
                            cboParent.append(nodes);
                            if (typevalue !== &#x27;&#x27;) {
                                parsed.find(&#x27;select[data-name=&quot;parenttype&quot;]&#x27;).val(typevalue);
                            }
                            if (parentvalue !== &#x27;&#x27;) {
                                parsed.find(&#x27;select[data-name=&quot;parentname&quot;]&#x27;).append(&#x60;&lt;option value=&quot;${parentvalue}&quot; selected&gt;${parentdescrip}&lt;/option&gt;&#x60;);
                            }
                            if (paramvalue !== &#x27;&#x27;) {
                                parsed.find(&#x27;select[data-name=&quot;paramname&quot;]&#x27;).append(&#x60;&lt;option value=&quot;${paramvalue}&quot; selected&gt;${paramvalue}&lt;/option&gt;&#x60;);
                            }
                            divProps.append(parsed);
                        });
                        divProps.find(&#x27;select[data-name=&quot;parenttype&quot;]&#x27;).off(&#x27;change&#x27;).on(&#x27;change&#x27;, (e) =&gt; {
                            let cboType = $(e.currentTarget);
                            let prop = cboType.attr(&#x27;data-prop&#x27;);
                            let cboParent = cboType.parent().find(&#x60;select[data-name=&quot;parentname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let cboParam = cboType.parent().find(&#x60;select[data-name=&quot;paramname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            cboParam.find(&#x27;option&#x27;).remove();
                            cboParent.val(&#x27;&#x27;);
                            cboParam.val(&#x27;&#x27;);
                            switch (cboType.val()) {
                                case &#x27;II&#x27;:
                                    cboParent.prop(&#x27;disabled&#x27;, true);
                                    cboParam.prop(&#x27;disabled&#x27;, true);
                                    break;
                                default:
                                    cboParent.prop(&#x27;disabled&#x27;, false);
                                    cboParam.prop(&#x27;disabled&#x27;, false);
                                    cboParam.html();
                                    break;
                            }
                        });
                        divProps.find(&#x27;select[data-name=&quot;parentname&quot;]&#x27;).off(&#x27;change&#x27;).on(&#x27;change&#x27;, (e) =&gt; {
                            let cboParent = $(e.currentTarget);
                            let prop = cboParent.attr(&#x27;data-prop&#x27;);
                            let cboType = cboParent.parent().find(&#x60;select[data-name=&quot;parenttype&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            let cboParam = cboParent.parent().find(&#x60;select[data-name=&quot;paramname&quot;][data-prop=&quot;${prop}&quot;]&#x60;);
                            cboParam.find(&#x27;option&#x27;).remove();
                            let nodes = &#x60;&lt;option value=&quot;&quot;&gt;&lt;/option&gt;&#x60;;
                            switch (cboType.val()) {
                                case &#x27;II&#x27;:
                                    break;
                                default:
                                    let cell = model.getCell(cboParent.val());
                                    if (!cell) {
                                        cboParam.append(nodes);
                                    }
                                    else {
                                        flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;getNodeRelations&#x27;, { nodeType: cell.value.localName, nodeName: cell.value.getAttribute(&#x27;fgid&#x27;) }, (ret) =&gt; {
                                            ret.forEach((param) =&gt; {
                                                nodes += &#x60;&lt;option value=&quot;${param.ParamName}&quot;&gt;${param.ParamLabel}&lt;/option&gt;&#x60;;
                                            });
                                            cboParam.append(nodes);
                                        });
                                    }
                                    break;
                            }
                        });
                    });
                }
                updateModuleTitle() {
                    let module = $(this).closest(&#x27;flx-module&#x27;);
                    let title = this.moduleTitle;
                    if (this.workflow) {
                        title += &#x27; (&#x27; + this.workflow.WorkflowId + &#x27;) - &#x27; + this.workflow.Descrip + &#x27; - (V&#x27; + this.workflow.Version + &#x27;)&#x27;;
                    }
                    $(module).find(&#x27;.cntTitle&#x27;).text(title);
                }
                updateBreadcrumb() {
                    let self = this;
                    let bc = $(this).find(&#x27;ol.breadcrumb&#x27;);
                    bc.empty();
                    if (this.currentExecutionId === 0) {
                        this.workflowStack.forEach((wf, i) =&gt; {
                            let li = $(&#x60;
                    &lt;li class=&quot;breadcrumb-item&quot;&gt;&lt;a&gt;${wf.WorkflowId}&lt;/a&gt;&lt;/li&gt;
                &#x60;);
                            li.on(&#x27;click&#x27;, (e) =&gt; {
                                self.goUp(i);
                            });
                            bc.append(li);
                        });
                        if (this.workflow &amp;&amp; this.workflow.WorkflowId) {
                            bc.append(&#x60;
                        &lt;li class=&quot;breadcrumb-item active&quot;&gt;&lt;a&gt;${this.workflow.WorkflowId}&lt;/a&gt;&lt;/li&gt;
                    &#x60;);
                        }
                    }
                    else {
                        this.debugStack.forEach((wf, i) =&gt; {
                            let li = $(&#x60;
                        &lt;li class=&quot;breadcrumb-item&quot; style=&quot;color:red&quot;&gt;&lt;a&gt;${wf.WorkflowId}&lt;/a&gt;&lt;/li&gt;
                    &#x60;);
                            li.on(&#x27;click&#x27;, (e) =&gt; {
                                let wf = this.debugStack[i];
                                self.loadDebugWorkflow(wf.WorkflowId, -1, wf.ExecutionId, null);
                            });
                            bc.append(li);
                        });
                    }
                }
                concatWhere(whereA, whereB) {
                    let where = &quot;&quot;;
                    if (whereA &amp;&amp; whereA.length &gt; 0) {
                        where = whereA;
                    }
                    if (whereB &amp;&amp; whereB.length &gt; 0) {
                        if (whereA &amp;&amp; whereA.length &gt; 0) {
                            where += &quot; AND &quot; + whereB;
                        }
                        else {
                            where = whereB;
                        }
                    }
                    return where;
                }
                updateComboVersions() {
                    let cbo = $(this.versionCombo);
                    cbo.empty();
                    if (!this.workflow) {
                        cbo.append(&#x27;&lt;option value=&quot;&quot;&gt;No versions&lt;/option&gt;&#x27;);
                    }
                    else {
                        this.workflow.Versions.forEach((v, i) =&gt; {
                            let isCurrent = (v.Version === this.workflow.Version);
                            cbo.append(&#x60;&lt;option value=&quot;${v.Version}&quot; ${(isCurrent) ? &#x27;selected&#x27; : &#x27;&#x27;}  &gt;V${v.Version} ${(v.Active) ? &#x27;(Active)&#x27; : &#x27;&#x27;}&lt;/option&gt;&#x60;);
                        });
                    }
                }
                htmlEncode(value) {
                    return $(&#x27;&lt;div/&gt;&#x27;).text(value).html();
                }
                getStepStyle(cell, style) {
                    let sep = &#x27;&#x27;;
                    if (style &amp;&amp; style.length &gt; 0) {
                        sep = &#x27;-&#x27;;
                    }
                    switch (cell.value.localName.toLowerCase()) {
                        case &#x27;process&#x27;:
                            return style + sep + &#x27;rectangle&#x27;;
                        case &#x27;object&#x27;:
                            return style + sep + &#x27;ellipse&#x27;;
                        case &#x27;decission&#x27;:
                            return style + sep + &#x27;rhombus&#x27;;
                        case &#x27;workflow&#x27;:
                            return style + sep + &#x27;hexagon&#x27;;
                        case &#x27;event&#x27;:
                            return style + sep + &#x27;cloud&#x27;;
                        case &#x27;relation&#x27;:
                            return style + sep + &#x27;edge&#x27;;
                        case &#x27;label&#x27;:
                            return &#x27;label&#x27;;
                        default:
                            flexygo.msg.error(&#x27;Invalid value&#x27;);
                            return;
                    }
                }
                /**
                * Fires when an execution has finisehd a step
                * @method debugWorkflow
                */
                onDebugStepChanged() {
                    if (this.currentExecutionId === 0) {
                        return;
                    }
                    $(this.debugDialog.content).find(&#x27;button[name=&quot;dbg-stepinto&quot;]&#x27;).prop(&#x27;disabled&#x27;, false);
                    $(this.debugDialog.content).find(&#x27;button[name=&quot;dbg-stepover&quot;]&#x27;).prop(&#x27;disabled&#x27;, false);
                    flexygo.ajax.post(&#x27;~/api/Gipe&#x27;, &#x27;getWorkflowExecutionStatus&#x27;, { executionId: this.currentExecutionId }, (ret) =&gt; {
                        let execInfo = null;
                        if (ret &amp;&amp; ret.Execution &amp;&amp; ret.Execution.length &gt; 0) {
                            ret.Execution.forEach((ex) =&gt; {
                                if (ex.ExecutionId == ret.NextWorkflow) {
                                    execInfo = ex;
                                    return false;
                                }
                            });
                            if (!execInfo) {
                                ret.Execution.forEach((ex) =&gt; {
                                    if (ex.ExecutionId == this.debugWorkflow.ExecutionId) {
                                        execInfo = ex;
                                        return false;
                                    }
                                });
                            }
                        }
                        if (execInfo.ExecutionId !== this.debugWorkflow.ExecutionId) {
                            this.loadDebugWorkflow(execInfo.WorkflowId, -1, execInfo.ExecutionId, ret);
                        }
                        else {
                            this.updateDebugInfo(ret);
                        }
                    });
                }
                addTreeNode(change, rootNode) {
                    if (change.ExecutionData &amp;&amp; change.ExecutionData.length &gt; 0) {
                        let model = null;
                        let itemLabel = &quot;&quot;;
                        if (change.ExecutionId == this.debugWorkflow.ExecutionId) {
                            model = this.editor.graph.getModel();
                            let cell = model.getCell(change.GraphId);
                            itemLabel = cell.value.getAttribute(&#x27;label&#x27;);
                        }
                        else {
                            this.debugStack.forEach((wf, i) =&gt; {
                                if (wf.ExecutionId == change.ExecutionId) {
                                    let node = mxUtils.parseXml(this.debugStack[i].WorkflowData);
                                    let cell = $(node.documentElement).find(&#x60;[id=&quot;${change.GraphId}&quot;]&#x60;);
                                    if (cell.length &gt; 0) {
                                        itemLabel = cell[0].getAttribute(&#x27;label&#x27;);
                                    }
                                    return false;
                                }
                            });
                        }
                        let data = (new DOMParser()).parseFromString(change.ExecutionData, &quot;text/xml&quot;).documentElement;
                        let itemNode = {
                            text: itemLabel,
                            icon: &quot;fa fa-folder&quot;,
                            children: []
                        };
                        let resultNode = {
                            text: &#x60;&lt;span&gt;${flexygo.localization.translate(&#x27;flxgipe.labelresult&#x27;)}:&lt;/span&gt;&lt;span style=&quot;color:black&quot;&gt;&lt;b&gt;${change.ResultDescription}&lt;/b&gt;&lt;/span&gt;&#x60;,
                            icon: &quot;none&quot;,
                            children: []
                        };
                        itemNode.children.push(resultNode);
                        if (change.ResultId == eStepResult.Error) {
                            let errorNode = {
                                text: &#x60;&lt;span&gt;${flexygo.localization.translate(&#x27;flxgipe.labelerrormessage&#x27;)}:&lt;/span&gt;&lt;span style=&quot;color:black&quot;&gt;&lt;b&gt;${change.ErrorMessage}&lt;/b&gt;&lt;/span&gt;&#x60;,
                                icon: &quot;none&quot;,
                                children: []
                            };
                            resultNode.children.push(errorNode);
                        }
                        let statusNode = {
                            text: &#x60;&lt;span&gt;${flexygo.localization.translate(&#x27;flxgipe.labelstatus&#x27;)}:&lt;/span&gt;&lt;span style=&quot;color:black&quot;&gt;&lt;b&gt;${change.StatusDescription}&lt;/b&gt;&lt;/span&gt;&#x60;,
                            icon: &quot;none&quot;,
                            children: []
                        };
                        itemNode.children.push(statusNode);
                        let inNode = {
                            text: flexygo.localization.translate(&#x27;flxgipe.treeinnode&#x27;),
                            icon: &quot;flx-icon icon-document-export&quot;,
                            children: []
                        };
                        let inParams = data.getElementsByTagName(&#x27;in&#x27;)[0];
                        $.each(inParams.getElementsByTagName(&#x27;param&#x27;), (i, e) =&gt; {
                            let paramNode = {
                                text: &#x60;&lt;span&gt;${e.getAttribute(&#x27;name&#x27;)}:&lt;/span&gt;&lt;span style=&quot;color:black&quot;&gt;&lt;b&gt;${e.getAttribute(&#x27;value&#x27;)}&lt;/b&gt;&lt;/span&gt;&#x60;,
                                icon: &#x27;none&#x27;
                            };
                            inNode.children.push(paramNode);
                        });
                        itemNode.children.push(inNode);
                        let outNode = {
                            text: flexygo.localization.translate(&#x27;flxgipe.treeoutnode&#x27;),
                            icon: &quot;flx-icon icon-document-import&quot;,
                            children: []
                        };
                        let outParams = data.getElementsByTagName(&#x27;out&#x27;)[0];
                        $.each(outParams.getElementsByTagName(&#x27;param&#x27;), (i, e) =&gt; {
                            let paramNode = {
                                text: &#x60;&lt;span&gt;${e.getAttribute(&#x27;name&#x27;)}:&lt;/span&gt;&lt;span style=&quot;color:black&quot;&gt;&lt;b&gt;${e.getAttribute(&#x27;value&#x27;)}&lt;/b&gt;&lt;/span&gt;&#x60;,
                                icon: &#x27;none&#x27;
                            };
                            outNode.children.push(paramNode);
                        });
                        itemNode.children.push(outNode);
                        rootNode.children.push(itemNode);
                    }
                }
                updateDebugInfo(ret) {
                    if (!ret) {
                        return;
                    }
                    let graph = this.editor.graph;
                    let model = graph.getModel();
                    let lastWorkflowExecutionId = ret.LastWorkflow;
                    if (lastWorkflowExecutionId === 0) {
                        lastWorkflowExecutionId = this.currentExecutionId;
                    }
                    let execInfo = null;
                    if (ret &amp;&amp; ret.Execution &amp;&amp; ret.Execution.length &gt; 0) {
                        ret.Execution.forEach((ex) =&gt; {
                            if (ex.ExecutionId == lastWorkflowExecutionId) {
                                execInfo = ex;
                                return false;
                            }
                        });
                        if (execInfo) {
                            let finishedSteps = [];
                            ret.Execution.forEach((ex) =&gt; {
                                if ((ex.ExecutionId !== execInfo.ExecutionId) &amp;&amp; (ex.StatusId === eStepStatus.Finished)) {
                                    //Remove child finished workflows from stack
                                    this.debugStack.forEach((ds, i) =&gt; {
                                        if (ds.ExecutionId === ex.ExecutionId) {
                                            finishedSteps.push(ds);
                                        }
                                    });
                                }
                            });
                            if (finishedSteps.length !== 0) {
                                finishedSteps.forEach((fs) =&gt; {
                                    this.debugStack.splice(this.debugStack.indexOf(fs), 1);
                                });
                                this.updateBreadcrumb();
                            }
                        }
                    }
                    let txtStatus = $(&#x27;#gipedbg-status&#x27;)[0];
                    let txtResult = $(&#x27;#gipedbg-result&#x27;)[0];
                    if (execInfo) {
                        txtStatus.setValue(execInfo.StatusDescription);
                        txtResult.setValue(execInfo.ResultDescription);
                        if (execInfo.ResultId !== eStepResult.NoResult) {
                            $(this.debugDialog.content).find(&#x27;button[name=&quot;dbg-stepinto&quot;]&#x27;).prop(&#x27;disabled&#x27;, true);
                            $(this.debugDialog.content).find(&#x27;button[name=&quot;dbg-stepover&quot;]&#x27;).prop(&#x27;disabled&#x27;, true);
                        }
                    }
                    let rootNodes = [];
                    ret.Execution.forEach((exec) =&gt; {
                        let execNode = {
                            id: &#x27;WF-&#x27; + exec.ExecutionId,
                            text: exec.WorkflowDescription,
                            icon: &quot;flx-icon icon-share&quot;,
                            children: []
                        };
                        rootNodes.push(execNode);
                    });
                    if (ret.Nodes) {
                        model.beginUpdate();
                        try {
                            ret.Nodes.forEach((change) =&gt; {
                                if ((change.ExecutionId === execInfo.ExecutionId) &amp;&amp; (change.ExecutionId === this.debugWorkflow.ExecutionId)) {
                                    let cell = model.getCell(change.GraphId);
                                    if (change.ResultId !== eStepResult.NoResult) {
                                        cell.edges.forEach((edge) =&gt; {
                                            if (edge.target.id === cell.id) {
                                                model.setStyle(edge, this.getStepStyle(edge, &#x27;success&#x27;));
                                                let state = graph.view.getState(edge);
                                                state.shape.node.removeAttribute(&#x27;class&#x27;);
                                            }
                                        });
                                    }
                                    switch (change.ResultId) {
                                        case eStepResult.OK:
                                            model.setStyle(cell, this.getStepStyle(cell, &#x27;success&#x27;));
                                            break;
                                        case eStepResult.Error:
                                            model.setStyle(cell, this.getStepStyle(cell, &#x27;error&#x27;));
                                            break;
                                        default:
                                            model.setStyle(cell, this.getStepStyle(cell, &#x27;&#x27;));
                                            break;
                                    }
                                    let state = graph.view.getState(cell);
                                    state.shape.node.removeAttribute(&#x27;class&#x27;);
                                }
                                let rootNode = null;
                                rootNodes.forEach((n) =&gt; {
                                    if (n.id == &#x27;WF-&#x27; + change.ExecutionId) {
                                        rootNode = n;
                                        return false;
                                    }
                                });
                                this.addTreeNode(change, rootNode);
                            });
                            let nextId = 0;
                            if (ret.NextWorkflow === execInfo.ExecutionId) {
                                if (ret.NextStep &amp;&amp; ret.NextStep !== 0) {
                                    nextId = ret.NextStep;
                                }
                                else {
                                    if (execInfo.ResultId === 0) {
                                        nextId = execInfo.InitialGraphId;
                                    }
                                }
                            }
                            else if ((ret.NextWorkflow === 0) &amp;&amp; (ret.NextStep === 0)) {
                                if (ret.LastWorkflow === this.debugWorkflow.ExecutionId) {
                                    nextId = ret.LastStep;
                                }
                            }
                            if (nextId !== 0) {
                                let next = model.getCell(nextId);
                                let state = graph.view.getState(next);
                                model.setStyle(next, this.getStepStyle(next, &#x27;running&#x27;));
                                state.shape.node.setAttribute(&#x27;class&#x27;, &#x27;flow&#x27;);
                                next.edges.forEach((edge) =&gt; {
                                    if (edge.target.id === next.id) {
                                        let state = graph.view.getState(edge);
                                        model.setStyle(edge, this.getStepStyle(edge, &#x27;running&#x27;));
                                        state.shape.node.setAttribute(&#x27;class&#x27;, &#x27;flow&#x27;);
                                    }
                                });
                                this.lastDebugGraphId = {
                                    executionId: execInfo.ExecutionId,
                                    graphId: nextId
                                };
                            }
                        }
                        finally {
                            model.endUpdate();
                        }
                    }
                    var tree = $(&#x27;#gipe-debug-tree&#x27;);
                    tree.jstree(true).settings.core.data = rootNodes;
                    tree.jstree(true).refresh();
                    if ((execInfo.StatusId == eStepStatus.Aborted || execInfo.StatusId == eStepStatus.Finished) &amp;&amp; (execInfo.ExecutionId == this.currentExecutionId)) {
                        this.lastDebugGraphId = null;
                        this.currentExecutionId = 0;
                        this.updateToolbarStatus();
                    }
                }
            }
            wc.FlxGipeDesignerElement = FlxGipeDesignerElement;
        })(wc = ui_1.wc || (ui_1.wc = {}));
    })(ui = flexygo.ui || (flexygo.ui = {}));
})(flexygo || (flexygo = {}));
window.customElements.define(&quot;flx-gipedesigner&quot;, flexygo.ui.wc.FlxGipeDesignerElement);
//# sourceMappingURL=flx-gipedesigner.js.map
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/yuidoc-bootstrap.js"></script>
<script>prettyPrint();</script>
</body>
</html>
